webpackJsonp([0],[,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeContextMenu=t.openContextMenu=t.clearGulpConsole=t.setGulpConsoleOpenState=t.addGulpLog=t.setSpinningState=t.clearPopupMessage=t.setPopupMessage=t.closeAllModals=t.closeAllPopups=t.openErrorModal=t.openConfirmModal=t.openMessageModal=t.failedToReceiveMessageBusResponse=t.clearAllProcessing=t.updateProcessingQueue=t.updateProcessingSaveStatus=t.toggleResources=t.updateResourceType=t.updateResourceSearch=t.updateFilesActiveFile=t.setFileSearch=t.updateFileSearch=t.saveProjectUIState=t.setProjectTitleEditingState=t.triggerRender=t.setCancelledRender=t.setLayoutState=t.closeThisDialog=t.setProjectDeleteDialogInput=t.toggleDialog=t.setRenamingFile=t.setRenderingFile=t.setSelectedSidebarItem=t.setEditingWithFileName=t.setEditing=t.toggleFolderOpenState=t.manualFileUpload=t.updateFileDraggingOverState=t.updateFileDraggingState=t.swapOpenFilePositions=t.removeOpenFiles=t.removeFileFromOpenFilesList=t.addFileToOpenFilesList=t.finishedCreateNewFile=t.newFileNameCancel=t.newFileNameUpdate=t.createNewFile=void 0;var i=n(217),o=n(218),r=n(219),a=n(220),s=n(221),l=n(222),u=n(223),d=n(224),c=n(225),f=n(226),p=n(240),v=n(241),g=n(242),h=n(243),_=n(244);t.createNewFile=i.createNewFile,t.newFileNameUpdate=i.newFileNameUpdate,t.newFileNameCancel=i.newFileNameCancel,t.finishedCreateNewFile=i.finishedCreateNewFile,t.addFileToOpenFilesList=o.addFileToOpenFilesList,t.removeFileFromOpenFilesList=o.removeFileFromOpenFilesList,t.removeOpenFiles=o.removeOpenFiles,t.swapOpenFilePositions=o.swapOpenFilePositions,t.updateFileDraggingState=r.updateFileDraggingState,t.updateFileDraggingOverState=r.updateFileDraggingOverState,t.manualFileUpload=s.manualFileUpload,t.toggleFolderOpenState=l.toggleFolderOpenState,t.setEditing=l.setEditing,t.setEditingWithFileName=l.setEditingWithFileName,t.setSelectedSidebarItem=l.setSelectedSidebarItem,t.setRenderingFile=l.setRenderingFile,t.setRenamingFile=l.setRenamingFile,t.toggleDialog=u.toggleDialog,t.setProjectDeleteDialogInput=u.setProjectDeleteDialogInput,t.closeThisDialog=u.closeThisDialog,t.setLayoutState=d.setLayoutState,t.setCancelledRender=d.setCancelledRender,t.triggerRender=d.triggerRender,t.setProjectTitleEditingState=c.setProjectTitleEditingState,t.saveProjectUIState=f.saveProjectUIState,t.updateFileSearch=p.updateFileSearch,t.setFileSearch=p.setFileSearch,t.updateFilesActiveFile=p.updateFilesActiveFile,t.updateResourceSearch=v.updateResourceSearch,t.updateResourceType=v.updateResourceType,t.toggleResources=v.toggleResources,t.updateProcessingSaveStatus=g.updateProcessingSaveStatus,t.updateProcessingQueue=g.updateProcessingQueue,t.clearAllProcessing=g.clearAllProcessing,t.failedToReceiveMessageBusResponse=g.failedToReceiveMessageBusResponse,t.openMessageModal=u.openMessageModal,t.openConfirmModal=u.openConfirmModal,t.openErrorModal=u.openErrorModal,t.closeAllPopups=u.closeAllPopups,t.closeAllModals=u.closeAllModals,t.setPopupMessage=u.setPopupMessage,t.clearPopupMessage=u.clearPopupMessage,t.setSpinningState=h.setSpinningState,t.addGulpLog=a.addGulpLog,t.setGulpConsoleOpenState=a.setGulpConsoleOpenState,t.clearGulpConsole=a.clearGulpConsole,t.openContextMenu=_.openContextMenu,t.closeContextMenu=_.closeContextMenu},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.payloadAction=function(e,t){return{type:e,payload:t}},t.typeAction=function(e){return{type:e,payload:{}}},t.errorAction=function(e,t){return{type:e,payload:{err:t}}}},,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_UPLOAD_MAX_FILES=25,t.FILE_UPLOAD_MAX_FILE_SIZE=2097152,t.ON_DUPLICATE_OVERWRITE="ON_DUPLICATE_OVERWRITE",t.ON_DUPLICATE_MAKE_UNIQUE="ON_DUPLICATE_MAKE_UNIQUE",t.FILE_UPLOAD_MAX_FILES_SIZE=2097152,t.PROCESSED_FILE="PROCESSED_FILE",t.HAS_DOTFILES="HAS_DOTFILES",t.FILE_TOO_LARGE="FILE_TOO_LARGE",t.UNSUPPORTED_FILE_TYPE="UNSUPPORTED_FILE_TYPE",t.MEDIA_FILE="MEDIA_FILE",t.FILE_NAME_TOO_LONG="MEDIA_FILE",t.PATH_TOO_LONG="PATH_TOO_LONG",t.BAD_CHARACTERS="BAD_CHARACTERS",t.PROGRESS={PROCESSING:"PROCESSING",OVERWRITES:"OVERWRITES",TOO_MANY_FILES:"TOO_MANY_FILES",FINISHING:"FINISHING",UPLOADING:"UPLOADING",COMPLETE:"COMPLETE",NEW_PROJECT:"NEW_PROJECT",WAITING_FOR_CONTAINER:"WAITING_FOR_CONTAINER",CANCELLED:"CANCELLED"},t.ERROR_MESSAGES={PROCESSED_FILE:'File names with ".processed" are reserved by CodePen',HAS_DOTFILES:"Dotfiles are not supported",FILE_TOO_LARGE:"File is over max size (2mb)",UNSUPPORTED_FILE_TYPE:"Unsupported File Type",MEDIA_FILE:"Media file uploads are only possible using a Pro account",FILE_NAME_TOO_LONG:"File names are limited to 190 characters",PATH_TOO_LONG:"File path (file name + directories) is too long (1024 characters max)",BAD_CHARACTERS:"File Name has prohibited characters"},t.UPLOAD_ERROR_TYPES={USER_CANCELLED:"USER_CANCELLED",S3_FAIL:"S3_FAIL",SERVER_ERROR:"SERVER_ERROR"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilesContentPropType=t.FilesPropType=t.FilePropType=t.UserPropType=t.TeamPropType=void 0;var o=n(4),r=i(o),a=n(13),s=i(a),l=t.TeamPropType=s["default"].mapContains({id:r["default"].number.isRequired,owner_id:r["default"].number.isRequired,name:r["default"].string.isRequired,username:r["default"].string.isRequired,base_url:r["default"].string.isRequired,avatar_url_512:r["default"].string.isRequired,avatar_url_80:r["default"].string.isRequired}),u=(t.UserPropType=s["default"].mapContains({id:r["default"].number.isRequired,name:r["default"].string.isRequired,username:r["default"].string.isRequired,base_url:r["default"].string.isRequired,current_team_id:r["default"].number.isRequired,paid:r["default"].bool.isRequired,sms_left:r["default"].number.isRequired,avatar_url_512:r["default"].string.isRequired,avatar_url_80:r["default"].string.isRequired,teams:s["default"].listOf(l)}),t.FilePropType=s["default"].mapContains({clientId:r["default"].string.isRequired,settings:s["default"].mapContains({fileName:r["default"].string.isRequired,type:r["default"].string,compileTo:r["default"].string,partial:r["default"].bool}).isRequired,parent:r["default"].oneOfType([r["default"].number,r["default"].string]),level:r["default"].number,loading:r["default"].bool,newestAddition:r["default"].bool,processedFileId:r["default"].string,children:s["default"].setOf(r["default"].string),id:r["default"].number,hashid:r["default"].string,updated_at:r["default"].string,created_at:r["default"].string,client_file_path:r["default"].string,url:r["default"].string,status:s["default"].mapContains({isSelected:r["default"].bool,isDragging:r["default"].bool,isEditing:r["default"].bool,isRenaming:r["default"].bool,isCreatingFile:r["default"].bool,isLoading:r["default"].bool}),allChildren:f,processedFile:d})),d=s["default"].mapContains({clientId:r["default"].string.isRequired,settings:s["default"].mapContains({fileName:r["default"].string.isRequired,type:r["default"].string.isRequired}).isRequired,content:r["default"].string,originalFileId:r["default"].string.isRequired,editable:r["default"].bool.isRequired,id:r["default"].number,hashid:r["default"].string,updated_at:r["default"].string,created_at:r["default"].string,client_file_path:r["default"].string,url:r["default"].string}),c=s["default"].mapContains({loading:r["default"].bool,content:r["default"].string,errors:s["default"].list}),f=t.FilesPropType=s["default"].mapOf(u);t.FilesContentPropType=s["default"].mapOf(c)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=t.get=t.destroy=t.put=t.post=t.save=void 0;var o=n(11),r=i(o),a=n(215),s=i(a),l=n(112),u=n(69),d={error:l.standardOnErrorWithDispatch,fail:l.standardOnFailWithDispatch,serverError:l.standardOnServerErrorWithDispatch,timeout:l.standardOnTimeoutWithDispatch},c=function(e,t){return"put"===t?e:e.split("/").slice(0,-1).join("/")};t.save=function(e){var t=e.isPut?"put":"post";return(0,u.makeRequest)(d,(0,r["default"])({},e,{url:c(e.url,t),method:t}))},t.post=function(e){return(0,u.makeRequest)(d,(0,r["default"])({},e,{method:"post"}))},t.put=function(e){return(0,u.makeRequest)(d,(0,r["default"])({},e,{method:"put"}))},t.destroy=function(e){return(0,u.makeRequest)(d,(0,r["default"])({},e,{method:"del"}))},t.get=function(e){return(0,u.makeRequest)(d,(0,r["default"])({},e,{method:"get"}))},t.getFile=function(e,t,n){return s["default"].get(e).end(function(e,i){if(e||200!==i.status){if("Parser is unable to parse the response"===e.message){var o=e.rawResponse;return t(o)}return n(e||i.text)}var r=i.text||""===i.text?i.text:i.body;return t(r)})}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMediaFileType=t.isMedia=t.isTextFile=t.fileNameExtension=t.fileNameWithoutExtension=t.cleanFileName=t.createProcessedFileName=t.replaceFileExtension=t.isPartial=t.fileHasBadFileExtension=t.filesHaveBadFileExtension=t.fileContainsBinary=t.filesTooBig=t.fileOverMaxSize=t.fileTooBig=t.makeNameSafeToSave=void 0;var i=n(110),o=n(10),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=(t.makeNameSafeToSave=function(e){return e.split(" ").join("_")},t.fileTooBig=function(e,t){return e.filter(function(e){return a(e,t)}).length>0},t.fileOverMaxSize=function(e,t){return e.size>t}),s=(t.filesTooBig=function(e,t){var n=0;return e.forEach(function(e){n+=e.size}),n>t},t.fileContainsBinary=function(e){var t=d(e);return c(t)},t.filesHaveBadFileExtension=function(e){return e.filter(function(e){return s(e.name)}).length>0},t.fileHasBadFileExtension=function(e){var t=d(u(e));return t?(0,i.isBadFileType)(t):!e.match(/^.+\..+$/)}),l=(t.isPartial=function(e){return"_"===e.charAt(0)},t.replaceFileExtension=function(e,t){return(e||"").replace(/\.\w+$/g,"."+t)}),u=(t.createProcessedFileName=function(e,t){var n=i.processedSuffix+"."+t;return"html"===t&&(n=t),l(e,n)},t.cleanFileName=function(e){var t=e.match(/(\.[^\.]+)$/g);return t&&(e=e.replace(t[0],t[0].toLowerCase())),e}),d=(t.fileNameWithoutExtension=function(e){return(e||"").replace(/\.\w+$/g,"")},t.fileNameExtension=function(e){var t=e.match(/(\.[^\.]+)$/g);return t?t[0].replace(".",""):""}),c=(t.isTextFile=function(e){var t=void 0;t=r["default"].Iterable.isIterable(e)?e:r["default"].fromJS(e);var n=t.getIn(["settings","fileName"]),i=d(n);return f(i)},t.isMedia=function(e){var t=void 0;t=r["default"].Iterable.isIterable(e)?e.getIn(["settings","fileName"]):e;var n=d(t);return c(n)},t.isMediaFileType=function(e){return-1!==i.allowedFileTypes.media.indexOf(e)}),f=function(e){return-1!==i.allowedFileTypes.text.indexOf(e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modals=void 0;var o=n(1),r=i(o),a=n(0),s=(i(a),n(110)),l=(0,r["default"])("p",{},void 0,"Deleting a folder will also delete all the files within it"),u=(0,r["default"])("p",{},void 0,"There is already a file of the same type, or folder with this name. Please try a different name."),d=(0,r["default"])("p",{},void 0,"There is already a file of the same type, or folder with that name in that location."),c=(0,r["default"])("p",{},void 0,"Sadly, this would make a file tree too deep for us to store and serve up. You could use shorter folder names, or simplify a little."),f=(0,r["default"])("p",{},void 0,"There is already a file or folder with that name. Would you like to overwrite the file with new content, or create a new uniquely named file?"),p=(0,r["default"])("p",{},void 0,"Your browser doesn't support auto-copying of text. Here's the text for you to copy:"),v=(0,r["default"])("p",{},void 0,"This file has unsaved changes which you will lose if you close the file."),g=(0,r["default"])("p",{},void 0,"Sadly, we have to limit these to 190 characters for our static deploys to work."),h=(0,r["default"])("p",{},void 0,"This file path (file name + directories) is too long. Amazon keeps these < 1024 characters... you might have to re-arrange the directories a little bit, or pick smaller file names."),_=(0,r["default"])("p",{},void 0,"Sadly, our file names need to be vanilla (for deploys!) ... Gotta stick with letters, numbers, dashes, underscores and dots"),m=(0,r["default"])("br",{}),y=(0,r["default"])("br",{}),E=(0,r["default"])("br",{}),S=(0,r["default"])("br",{}),I=(0,r["default"])("p",{},void 0,'Sorry, we\'ve reserved the "processed" string in file names as our own, so we can manage processed scss, css... and everything, really'),b=(0,r["default"])("p",{},void 0,"We don't support changing of media file types (sorry) you can change these on your desktop, and re-upload, if need be!"),O=(0,r["default"])("p",{},void 0,"A restricted project is:"),P=(0,r["default"])("ul",{},void 0,(0,r["default"])("li",{},void 0,"not editable by you"),(0,r["default"])("li",{},void 0,"not viewable by other people")),C=(0,r["default"])("p",{},void 0,"You can instantly restore this project back to normal by upgrading your plan."),M=(0,r["default"])("p",{},void 0,"The file name(s) below already exist. Would you like to overwrite them or would you like to create a new asset with a unique name?"),F=(0,r["default"])("a",{href:"mailto:support@codepen.io",target:"_blank",rel:"noopener"},void 0,"support@codepen.io");t.modals={styles:{warning:{style:"warning",buttonStyle:"red"},error:{style:"error",buttonStyle:"yellow"},good:{style:"error",buttonStyle:"green"},neutral:{style:"neutral",buttonColor:"grey"}},copy:{DELETE_FOLDER:function(e){return{title:"Are you sure you want to delete the folder "+e+"?",message:l,confirm:"Yes, delete the folder",cancel:"Cancel"}},DELETE_FILE:function(e){return{title:"Are you sure you want to delete the file "+e+"?",confirm:"Yes, delete the file",cancel:"Cancel"}},DUPLICATE_FILE:function(e,t){return{title:"Unable to name this "+t+" "+e,message:u,confirm:"Okay"}},DUPLICATE_FILE_MOVE:function(e,t){return{title:"Unable to move the "+t+" "+e,message:d,confirm:"Okay"}},DISSALOWED_FILE_MOVE:function(e,t){return{title:"Unable to move the "+t+" "+e,message:c,confirm:"Okay"}},OVERWRITE_DUPLICATE_FILE:function(e,t){return{title:"Overwrite "+e+"?",message:f,confirm:"Overwrite "+e,alternate:"Create "+t,cancel:"Skip"}},NO_COPY_SUPPORT:function(e){return{title:"Can't copy, sorry :(",message:(0,r["default"])("div",{},void 0,p,(0,r["default"])("input",{type:"text",style:"width: 100%",value:e})),confirm:"Done"}},UNSAVED_FILE:function(e){return{title:"Are you sure you want to close "+e,message:v,confirm:"Close file",alternate:"Save and Close file",cancel:"Cancel"}},FILE_TOO_LONG:function(e){return{title:"The file ending with ..."+e.substr(e.length-40)+"'s name is too long.",message:g,confirm:"Okay"}},PATH_TOO_LONG:function(){return{title:"File path is too long.",message:h,confirm:"Okay"}},BAD_FILE_NAME:function(e){return{title:"This file name is not allowed ("+e+")",message:_,confirm:"Okay"}},BAD_FILE_EXTENSION:function(e){return{title:'Unsupported file type: "'+e+'"',message:(0,r["default"])("p",{},void 0,"Looks like we don't support this file type. Our supported file types are:",m,s.allowedFileTypes.text.map(function(e){return(0,r["default"])("code",{},e,e," ")}),y,E,"And our supported media files are:",S,s.allowedFileTypes.media.map(function(e){return(0,r["default"])("code",{},e,e," ")})),confirm:"Okay"}},NO_PROCESSED_FILES:function(e){return{title:"Edge case alert! ("+e+")",message:I,confirm:"Okay"}},RENAME_MEDIA_ERROR:function(e){return{title:"Sorry, you can't change media file types from "+e,message:b,confirm:"Okay"}},COULDNT_FIND_FILE:function(e){return{title:"Sorry, we can't find the file",message:(0,r["default"])("p",{},void 0,"Could ",(0,r["default"])("em",{},void 0,e)," be an older file, or could this be an older log?"),confirm:"Okay"}},TOO_MANY_GLOBAL_UPLOADS:{title:"Too Many Files",message:(0,r["default"])("p",{},void 0,"We only allow 25 files to be uploaded at a time. Feel free to try again in groups of 25."),confirm:"OK"},UPLOAD_TOO_LARGE:{title:"Uploaded file is too large",message:(0,r["default"])("p",{},void 0,"One or more of the files is over our limit of 2MB. Feel free to try again with a smaller file."),confirm:"OK"},UPLOADS_TOO_LARGE:{title:"This upload is too large",message:(0,r["default"])("p",{},void 0,"Combined, these files are over our limit of 2MB. Feel free to try again with less files."),confirm:"OK"},SAVE_TOO_LARGE:{title:"Save too large.",message:(0,r["default"])("p",{},void 0,"Wow, looks like youre trying to save some big text files, or a lot of files at once. Please try saving files individually, and then hitting save all and run afterwards."),confirm:"OK"},INVALID_UPLOAD_EXTENSION:{title:"Bad File Name",message:(0,r["default"])("p",{},void 0,"One or more of the files either 1) has an invalid file extension like .exe 2) doesnt have a file extension or 3) starts with a period. Feel free to fix this issue an upload again."),confirm:"OK"},INVALID_FOLDER_DROP:{title:"Oops",message:(0,r["default"])("p",{},void 0,"It looks like you tried to drop a folder. Your browser only supports file drop. Please try again with files only."),confirm:"OK"},ALL_FILES_REMOVED:{title:"Oh no!",message:(0,r["default"])("p",{},void 0,"Looks like youve tried to upload .processed. or dotfiles (eg .gitignore) ... We don't these file types in uploads, sorry."),confirm:"OK"},UPGRADE_TO_USE_MEDIA:{title:"Media uploads are a PRO Feature",message:(0,r["default"])("p",{},void 0,"Your current CodePen plan only allows you to upload text files in the Project Editor. Upgrade to a PRO plan to upload images and other media."),upgrade:!0,support:!1},PROJECT_IS_RESTRICTED:function(e,t){return{title:"This project is restricted",message:(0,r["default"])("div",{},void 0,(0,r["default"])("p",{},void 0,"This project has been restricted because your current plan only allows ",e," projects and you have ",t," saved."),O,P,C),upgrade:!0,support:!1}},OVERWRITE_ASSETS:function(e){return{title:"Overwrite or Rename?",message:(0,r["default"])("div",{},void 0,M,e.forEach(function(e){return(0,r["default"])("p",{},void 0,"$",e)})),confirm:"Overwrite file",alternate:"Create unique names",cancel:"Cancel"}},DELETE_ASSET:function(e){return{title:"Are you sure you want to delete the asset "+e+"?",confirm:"Yes, delete the asset",cancel:"Cancel"}},ERROR_SAVING_TRY_AGAIN:{title:"Error",message:(0,r["default"])("p",{},void 0,"Unable to save Project. Please try again."),confirm:"Close"},ERROR_SAVING_CONTACT_SUPPORT:{title:"Error",message:(0,r["default"])("p",{},void 0,"Unable to save Project. Please contact ",(0,r["default"])("a",{href:"mailto:support@codepen.io",target:"_blank",rel:"noopener"},void 0,"support@codepen.io")),confirm:"Close",support:!1},ERROR_SAVING_SLOW_CONNECTION:{title:"Error",message:(0,r["default"])("p",{},void 0,"We're having trouble saving on your connection. Please try saving again. If this issue persists please contact ",(0,r["default"])("a",{href:"mailto:support@codepen.io",target:"_blank",rel:"noopener"},void 0,"support@codepen.io")),confirm:"Close",support:!1},ERROR_UPLOADING_PROJECT_FILE:function(e){return{title:"Upload Error",message:(0,r["default"])("p",{},void 0,"Unable to upload the file ",e,". Please try again. If the issue persists please contact ",F),confirm:"Close",support:!1}},LIMIT_PROJECTS:function(e){return{title:"You're at your Project limit.",message:(0,r["default"])("p",{},void 0,"You have used ",e," projects and have none left on your current plan. The good news is you can upgrade your plan to get more."),upgrade:!0,support:!1}},ANON_PROJECTS:{title:"The CodePen Project Editor is for logged in users.",message:(0,r["default"])("p",{},void 0,"The Project Editor enables you to build web development projects online and share them instantly. ",(0,r["default"])("a",{href:"/pro/projects"},void 0,"Find out more"),"."),login:!0,support:!1},PROJECTS_OFFLINE:{title:"The CodePen Project Editor is down for maintenance right now.",message:(0,r["default"])("p",{},void 0,"We're currently working on an upgrade to the Project Editor. Sorry for the inconvenience. It will be back as soon as possible!")}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(16)),E=i(y),S=(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(E["default"],{icon:"spinner"})),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.classes!==e.classes||this.props.spinning!==e.spinning||this.props.label!==e.label}},{key:"clickHandler",value:function(e){e&&e.preventDefault(),this.props.onClick()}},{key:"render",value:function(){var e=this,t="button "+this.props.classes;!0===this.props.spinning&&(t+=" spinning");var n,i,o;if(this.props.rightLabel&&(n=(0,r["default"])("span",{className:"right-label"},void 0,this.props.rightLabel)),this.props.icon&&this.props.textIcon){var a="icon "+this.props.icon+"-icon";i=(0,r["default"])("span",{className:a},void 0,this.props.textIcon)}else this.props.icon&&(o=(0,r["default"])(E["default"],{icon:this.props.icon,refLink:this.props.refLink}));this.props.spinner&&(o=S),n&&(t+=" button-right-label");var s={className:t,disabled:this.props.disabled,onClick:function(t){return e.clickHandler(t)}};return this.props.title&&(s.title=this.props.title),_["default"].createElement("button",s,i,o,(0,r["default"])("span",{className:"label"},void 0,this.props.label),n)}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overwriteFilesWithUploads=t.confirmOverwrites=t.deleteFiles=t.confirmThenDeleteFolder=t.confirmThenDeleteFile=t.updateDraggedFileLocation=t.updateChangedMediaFiles=t.updateFileName=t.updateNewestFile=t.addBabelFileError=t.addFileError=t.updateFileErrors=t.analyzeFileContent=t.beautifyFileContent=t.resetFileContentToSaved=t.saveProjectFile=t.reloadOpenProcessedFiles=t.getFilesContent=t.updateFileContent=t.duplicateFile=t.cancelProjectUploads=t.continueSavingUploads=t.uploadFilesAndFolders=t.addNewFilesAndFolders=t.addNewFile=void 0;var i=n(688),o=n(689),r=n(718),a=n(334),s=n(719),l=n(720),u=n(252),d=n(721),c=n(722),f=n(723),p=n(724);t.addNewFile=i.addNewFile,t.addNewFilesAndFolders=i.addNewFilesAndFolders,t.uploadFilesAndFolders=o.uploadFilesAndFolders,t.continueSavingUploads=o.continueSavingUploads,t.cancelProjectUploads=o.cancelProjectUploads,t.duplicateFile=s.duplicateFile,t.updateFileContent=u.updateFileContent,t.getFilesContent=l.getFilesContent,t.reloadOpenProcessedFiles=l.reloadOpenProcessedFiles,t.saveProjectFile=a.saveProjectFile,t.resetFileContentToSaved=u.resetFileContentToSaved,t.beautifyFileContent=u.beautifyFileContent,t.analyzeFileContent=d.analyzeFileContent,t.updateFileErrors=u.updateFileErrors,t.addFileError=u.addFileError,t.addBabelFileError=u.addBabelFileError,t.updateNewestFile=c.updateNewestFile,t.updateFileName=c.updateFileName,t.updateChangedMediaFiles=c.updateChangedMediaFiles,t.updateDraggedFileLocation=f.updateDraggedFileLocation,t.confirmThenDeleteFile=p.confirmThenDeleteFile,t.confirmThenDeleteFolder=p.confirmThenDeleteFolder,t.deleteFiles=p.deleteFiles,t.confirmOverwrites=r.confirmOverwrites,t.overwriteFilesWithUploads=r.overwriteFilesWithUploads},,,,,function(e,t,n){"use strict";t.__esModule=!0;var i=n(227),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=function(e,t,n){return t in e?(0,o["default"])(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteScreenshot=t.uploadNewScreenshot=t.exportProjectToZip=t.updateCNAMEs=t.undeployProject=t.deployProject=t.getDeploymentState=t.receiveProjectDeleteSuccess=t.deleteProject=t.rollbackUploadState=t.resetToPreviousState=t.resaveFromQueues=t.updateSaveQueue=t.forkProject=t.deleteAllUploaded=t.saveUpload=t.saveProjectParams=t.saveProject=t.checkProjectPermalink=t.updateProject=void 0;var i=n(700),o=n(250),r=n(708),a=n(709),s=n(251),l=n(332),u=n(710),d=n(711),c=n(712),f=n(713);t.updateProject=i.updateProject,t.checkProjectPermalink=i.checkProjectPermalink,t.saveProject=o.saveProject,t.saveProjectParams=o.saveProjectParams,t.saveUpload=r.saveUpload,t.deleteAllUploaded=r.deleteAllUploaded,t.forkProject=a.forkProject,t.updateSaveQueue=s.updateSaveQueue,t.resaveFromQueues=s.resaveFromQueues,t.resetToPreviousState=l.resetToPreviousState,t.rollbackUploadState=l.rollbackUploadState,t.deleteProject=u.deleteProject,t.receiveProjectDeleteSuccess=u.receiveProjectDeleteSuccess,t.getDeploymentState=d.getDeploymentState,t.deployProject=d.deployProject,t.undeployProject=d.undeployProject,t.updateCNAMEs=d.updateCNAMEs,t.exportProjectToZip=c.exportProjectToZip,t.uploadNewScreenshot=f.uploadNewScreenshot,t.deleteScreenshot=f.deleteScreenshot},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={DEPLOY_DIALOG:"DEPLOY_DIALOG",PROJECT_SETTINGS_DIALOG:"PROJECT_SETTINGS_DIALOG",USER_DROPDOWN_DIALOG:"USER_DROPDOWN_DIALOG",SHARE_PANEL_DIALOG:"SHARE_PANEL_DIALOG",SHORTCUTS_DIALOG:"SHORTCUTS_DIALOG",ASSETS_DIALOG:"ASSETS_DIALOG",EXPORT_DIALOG:"EXPORT_DIALOG",DELETE_PROJECT_DIALOG:"DELETE_PROJECT_DIALOG",FORK_PROJECT_DIALOG:"FORK_PROJECT_DIALOG",ALPHA_DISABLED_DIALOG:"ALPHA_DISABLED_DIALOG",VIEW_SWITCHER_DIALOG:"VIEW_SWITCHER_DIALOG",PROJECT_FILE_UPLOADS_DIALOG:"PROJECT_FILE_UPLOADS_DIALOG"};t["default"]=n,e.exports=t["default"]},,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var i=n(321),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o["default"])(e)}},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.limitations=void 0;var i=n(30),o=function(e){return e.session.get("limitations")},r=function(e){return e.project.getIn(["owner","limitations"])},a=function(e){return e.project.get("id")};t.limitations=(0,i.createSelector)([o,r,a],function(e,t,n){return n>0?e:t})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllChildren=function e(t,n,i){if(!n.has("children"))return[];for(var o=[],r=n.get("children").toArray(),a=0;a<r.length;a++){var s=t.get(r[a]);s&&(o.push(s),!i&&t.get(s.get("processedFileId"))&&o.push(t.get(s.get("processedFileId"))),s.get("children")&&(o=o.concat(e(t,s))))}return o}},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindShortcutListener=function(e,t,n){return e.addListener(t,function(){n.apply(void 0,arguments)})},t.unbindShortcutListener=function(e){e.remove()}},,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.processedSuffix="processed",t.allowedFileTypes={media:[],text:[],all:[]});t.setAllowedFiles=function(e){e&&(n.media=e.media||[],n.text=e.text||[],n.all=n.text.concat(n.media))},t.isBadFileType=function(e){return-1===n.all.indexOf(e)}},function(e,t,n){var i=n(108),o=n(37)("toStringTag"),r="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:r?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardOnTimeoutWithDispatch=t.standardOnFailWithDispatch=t.standardOnServerErrorWithDispatch=t.standardOnErrorWithDispatch=t.reportTimeout=t.initErrorHandling=void 0;var i=n(33),o=n(14),r=0;t.initErrorHandling=function e(t){window.Honeybadger?(Honeybadger.configure({api_key:"32c374f5",environment:"production"}),Honeybadger.setContext({project_id:t.project.get("id"),user_id:t.session.get("user").get("id"),username:t.session.get("user").get("username")})):(r<5&&setTimeout(function(){return e(t)},1e3),r++)},t.reportTimeout=function(){window.Honeybadger&&Honeybadger.notify("MessageBus to client timeout occured",{name:"MessageBus to client timeout",message:"no messages received on client after save attempt"})},t.standardOnErrorWithDispatch=function(e,t){return function(){(t.url.indexOf("projects/project")>-1||t.url.indexOf("container"))&&e((0,o.openErrorModal)({copy:i.modals.copy.ERROR_SAVING_TRY_AGAIN})),t.onFail&&t.onFail(e)}},t.standardOnServerErrorWithDispatch=function(e,t){return function(){(t.url.indexOf("projects/project")>-1&&-1===t.url.indexOf("project_ui_state")||t.url.indexOf("container"))&&e((0,o.openErrorModal)({copy:i.modals.copy.ERROR_SAVING_CONTACT_SUPPORT})),t.onFail&&t.onFail(e)}},t.standardOnFailWithDispatch=function(e,t){return function(){(t.url.indexOf("projects/project")>-1||t.url.indexOf("container"))&&e((0,o.openErrorModal)({copy:i.modals.copy.ERROR_SAVING_CONTACT_SUPPORT})),t.onFail&&t.onFail(e)}},t.standardOnTimeoutWithDispatch=function(e,t){return function(){(t.url.indexOf("projects/project")>-1||t.url.indexOf("container"))&&e((0,o.openErrorModal)({copy:i.modals.copy.ERROR_SAVING_SLOW_CONNECTION})),t.onFail&&t.onFail(e)}}},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addPubNubListener=t.publishPubNubMessage=t.initPubNubMessenger=void 0;var o=n(155),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(69),c=n(305),f=i(c),p="uninitted",v=[],g=function(){function e(t,n,i){(0,s["default"])(this,e),this.channel=null,this.getState=n,this.dispatch=t,this.isEditor="editor"===this.getState().project.get("view"),this.onMessageEvents={},this.uuid=f["default"].generateUUID(),this.queuedMessages=i,this.init()}return(0,u["default"])(e,[{key:"init",value:function(){this.authorize()}},{key:"authorize",value:function(){var e=this,t=this.isEditor?"publish":"subscribe";(0,d.simpleServerPost)("/live/auth",{authType:t,itemHashID:this.getState().project.get("hashid"),itemType:"project"},function(t,n){var i=n.body.pubnub;e.connectPubNub(i.channel,i.auth_key,i.publish_key,i.subscribe_key)})}},{key:"connectPubNub",value:function(e,t,n,i){if(this.channel=e,this.pubnub=new f["default"]({authKey:t,publishKey:n,subscribeKey:i,uuid:this.uuid,ssl:!0}),this.addListenerAndSubscribe(this),this.queuedMessages.length){for(var o=0;o<this.queuedMessages.length;o++)this.publishMessage(this.queuedMessages[o].key,this.queuedMessages[o].message);this.queuedMessages=[]}}},{key:"addListenerAndSubscribe",value:function(e){this.pubnub.addListener({message:function(t){e.receiveMessage(t)},status:function(){},presence:function(){}}),this.pubnub.subscribe({channels:[this.channel]})}},{key:"addPubNubMessageHandler",value:function(e,t){this.onMessageEvents[e]=t}},{key:"receiveMessage",value:function(e){var t=e.message.split("::");e.publisher!==this.uuid&&this.onMessageEvents[t[1]]&&this.onMessageEvents[t[1]](t[2])}},{key:"publishMessage",value:function(e,t){if(this.channel){var n={channel:this.channel,message:"CodePenProject::"+e+"::"+t};this.pubnub.publish(n,function(){})}else this.queuedMessages.push({key:e,message:t})}}]),e}();t.initPubNubMessenger=function(e,t,n){("object"!==(void 0===p?"undefined":(0,r["default"])(p))||n)&&(t().project.get("id")>0&&(!1===t().project.get("readOnly")||"live"===t().project.get("view"))&&!0===t().project.getIn(["owner","paid"])?(p=new g(e,t,v),v=[]):p="dont-allow-messages")},t.publishPubNubMessage=function(e,t){"uninitted"===p?v.push({key:e,message:t}):"object"===(void 0===p?"undefined":(0,r["default"])(p))&&p.publishMessage(e,t)},t.addPubNubListener=function(e,t){"object"===(void 0===p?"undefined":(0,r["default"])(p))&&p.addPubNubMessageHandler(e,t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e="button "+this.props.classes;return(0,r["default"])("a",{className:e,href:this.props.url},void 0,this.props.label)}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remainingFiles=void 0;
var i=n(30),o=n(70),r=n(10),a=function(e){return e&&e.__esModule?e:{"default":e}}(r),s=function(e){return e.files.getIn(["client","files"])},l=function(e){return(0,o.limitations)(e)};t.remainingFiles=(0,i.createSelector)([s,l],function(e,t){var n=t.get("files"),i=e.filter(function(e){var t="folder"!==e.get("settings").get("type"),n=!1!==e.get("editable");return t&&n}),o=i.size,r=n-o,s=o?Math.round(o/n*100)/100:0;return a["default"].Map({limit:n,used:o,remaining:r,ratio:s})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.classes!==e.classes||this.props.label!==e.label}},{key:"clickHandler",value:function(e){e&&e.preventDefault(),this.props.onClick()}},{key:"render",value:function(){var e=this,t="button "+this.props.classes;return(0,r["default"])("button",{className:t,onClick:function(t){return e.clickHandler(t)}},void 0,this.props.label)}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),o=n(32);t["default"]=function(e){return{id:0,clientId:(0,i.guid)(),editable:!1,originalFileId:e.clientId,level:e.level,settings:{type:e.settings.compileTo,fileName:(0,o.createProcessedFileName)(e.settings.fileName,e.settings.compileTo)}}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.guid=function e(){var t=Date.now();return t<=e.previous?t=++e.previous:e.previous=t,t.toString()}).previous=Date.now()},function(e,t,n){var i=n(111),o=n(37)("iterator"),r=n(80);e.exports=n(20).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[i(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var i=n(25),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(i),r=n(214),a=t.defaultState={files:{client:{files:{},content:{}},server:{files:{},content:{}}},ui:{id:0,hashid:"",project_id:0,platform:"mac",editing:"0",layout:{dragging:!1,sidebar:20,editor:75},selected:{clientId:null,level:0,parent:"none"},renaming:{id:null},fileDragging:{clientId:null,overClientId:null},creatingFile:{on:!1,fileName:""},openFiles:[],openFolders:[],gulpConsoleOpen:!1,gulpLogs:[],projectTitleEditor:{editing:!1},popups:{},spinners:{analyze:!1,tidy:!1},projectDeleteDialogInput:"",renderingFile:"0",render:{render:0,auto:!1},search:{filesActiveFile:0,filesIsActive:!1,filesTerm:"",filesResults:[]},processing:{queue:[],saveRequested:!1,setup:!1,failedMessagesCount:0},uploading:{},manuallyUploadedFiles:[],resources:{open:!1,searchTerm:"",searchType:"css",results:[],resultsType:"popular"},viewSwitcher:{open:!1},deployment:{deploying:!1,undeploying:!1,cnameStatus:{}},contextMenu:{open:!1},"export":{zipping:!1}},project:{readOnly:!1,otherEditorsOpen:!1,id:0,hashid:"",slug_hash_private:"",user_id:0,team_id:0,updated_at:"",created_at:"",redirectToURL:"",url:"",editor_settings:{},invalidPermalink:!1,view:"editor",client:{"private":!0,title:"Untitled",description:"",permalink:"",editor_settings:{indent_with:"spaces",tab_size:2,auto_run:!0,autocomplete:!1},processor_settings:{babel:!1,autoprefixer:!1,minify:!1,entry_file:null}},server:{"private":!0,title:"Untitled",description:"",permalink:"",editor_settings:{indent_with:"spaces",tab_size:2,auto_run:!0,autocomplete:!1},processor_settings:{babel:!1,autoprefixer:!1,minify:!1,entry_file:null}},owner:{id:0,name:"",username:"",base_url:"",paid:!1,avatar_url_80:"",limitations:{}},boilerplatesList:[],queuedSave:!1,queuedUploadParams:!1,deployment:{loaded:!1,deployed:!1,last_deploy_time:"",deploy_url:"",remaining_deploys:0,cnames:[]},restricted:{project:!1,deploy:!1,dns:!1},custom_screenshot:{uploading:!1,hashid:null,screenshot_url:null},uploads:{progress:null,fileCount:0,uploadedCount:0,warnings:[],overwrites:[],filesState:{},pending:{}}},session:{user:{id:0,name:"",username:"",base_url:"",current_team_id:0,paid:!1,sms_left:0,sms_errors:[],session_hash:"",avatar_url_512:"",avatar_url_80:"",teams:[],picker:!1},teams:[],heart_level:{heart_level:0,is_loved:!1},limitations:{}},assets:{loaded:!1,isRequesting:!1,assetList:{image:[],javascript:[],other:[],css:[]},space:{total_used:0,total_remaining:o.FILE_UPLOAD_MAX_FILE_SIZE,total_allowed:o.FILE_UPLOAD_MAX_FILE_SIZE},uploadQueue:[]},requests:{}},s=null;t["default"]=function(){return s||(s=(0,r.initialServerToClientState)(a),""!==s.project.getIn(["client","title"])&&(document.title=s.project.getIn(["client","title"]))),s}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.fuzzySearch=function(e,t){if(!e)return{error:"No term provided in fuzzySearch(term, lib)"};if(!t)return{error:"No lib provided in fuzzySearch(term, lib)"};var r={bullseye:null,exact:[],fuzzy:[]},a=null,s=[],l=[],u=null,d=null,c=new RegExp("^"+n(e)+"$","i");u="(.+)?("+n(e)+")(.+)?$";var f=new RegExp(u,"g"),p=e.split("").map(function(e){return"("+n(e)+")"});d="(.+)?"+p.join("(.+)?")+"(.+)?$";var v=new RegExp(d,"g");return t.forEach(function(e){e.string.match(c)?a=e:e.string.match(f)?s.push(e):e.string.match(v)&&l.push(e)}),a&&(r.bullseye={key:a.key,string:a.string,matchType:"bullseye"}),s.forEach(function(e){var t=i(u,e.string);r.exact.push({key:e.key,string:e.string,matchType:"exact",substrings:t.substrings,score:t.score})}),l.forEach(function(e){var t=i(d,e.string);r.fuzzy.push({key:e.key,string:e.string,matchType:"fuzzy",substrings:t.substrings,score:t.score})}),{success:!0,count:r.exact.concat(r.fuzzy).length,term:e,bullseye:r.bullseye,exact:r.exact.sort(o),fuzzy:r.fuzzy.sort(o),_regex:{exact:u,fuzzy:d}}},function(e){return e.replace(/([\/\\\*\?\+\.\(\)\[\]\{\}\$\!])/g,"\\$1")}),i=function(e,t){for(var n=new RegExp(e,"g"),i=n.exec(t),o=[],r=!1,a=0,s=0,l=1;l<i.length;l++)i[l]&&o.push({str:i[l],match:r}),i[l]||1===l||l===i.length-1||a++,i[l]||1!==l||s++,r=!r;return{substrings:o,score:a+s}},o=function(e,t){return e.score<t.score?1:e.score>t.score?-1:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueName=t.checkForDuplicateFileName=void 0;var i=n(148),o=n(32),r=function(e){var t=(0,i.fileSettingsFromFileName)(e).compileTo;return t?(0,o.createProcessedFileName)(e,t).replace(".processed",""):e},a=(t.checkForDuplicateFileName=function(e,t,n,i){var o=e.keySeq().toArray(),s=r(i);s=s.toLowerCase();for(var l=0,u=o.length;l<u;l++){var d=e.get(o[l]);if(d.get("clientId")!==n){var c=r(d.getIn(["settings","fileName"])),f=!0,p=d.get("associated_files");if(p){var v=p.find(function(e){return"minified"===e.get("type")});v&&v.get("name").toLowerCase()===s&&(f=!1)}if(c=c.toLowerCase(),(!f||c===s)&&d.get("parent")===t)return{duplicateId:d.get("clientId").toString(),uniqueName:a(e,o,i,t)}}}return{duplicateId:!1,uniqueName:a(e,o,i,t)}},t.getUniqueName=function e(t,n,i,r){var a=(0,o.fileNameWithoutExtension)(i),l=a+"_copy",u=i.replace(a,l);return s(t,n,u,r)?e(t,n,u,r):u}),s=function(e,t,n,i){for(var o=0,r=t.length;o<r;o++){var a=e.get(t[o]);if(a.getIn(["settings","fileName"])===n){if(a.get("parent")===i)return!0;if(a.get("originalFileId")&&e.getIn([a.get("originalFilesId"),"parent"])===i)return!0}}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkFileStructureRestrictions=t.checkFileNameRestrictions=t.checkCharacterRestrictions=t.checkFullPathAllowedLength=t.checkAllowedLength=void 0;var i=n(95),o=n(157),r=n(110),a=n(32),s=t.checkAllowedLength=function(e){return e.length<=191},l=t.checkFullPathAllowedLength=function(e){return e.length<=832},u=t.checkCharacterRestrictions=function(e){return!~e.indexOf("..")&&/^([a-zA-Z0-9-_\.]+)$/.test(e)},d=function(e){return e.split(".processed.").length>1},c=function(e,t){var n=(0,a.fileNameExtension)(e).toLowerCase();return t?!n||(0,r.isBadFileType)(n):!!n&&!(0,r.isBadFileType)(n)},f=t.checkFileNameRestrictions=function(e,t,n){return!1===s(e)?{result:!1,response:"FILE_TOO_LONG"}:!1===l(t)?{result:!1,response:"PATH_TOO_LONG"}:!1===u(e)?{result:!1,response:"BAD_FILE_NAME"}:!0===d(e)?{result:!1,response:"NO_PROCESSED_FILES"}:!1===c(e,n)?{result:!1,response:"BAD_FILE_EXTENSION"}:{result:!0,response:"WORLD_PEACE_HAS_BEEN_ACHIEVED_IN_OUR_LIFETIME_LETS_ALL_REJOICE_AND_HUG"}};t.checkFileStructureRestrictions=function(e,t,n){var r,a,s,l,u=(0,i.getAllChildren)(n,t),d=(0,o.getFilePathName)(n,e);if(u)for(s=0;s<u.length;s++){r=d+"/"+(0,o.getFilePathName)(n,u[s],t.get("clientId"));var c="folder"===u[s].getIn(["settings","type"]);if(c?(a="test",r+="/"):(a=u[s].getIn(["settings","fileName"]),r=r.slice(0,-a.length)),l=f(a,r,c),!1===l.result&&"PATH_TOO_LONG"===l.response)return!1}return r=d+"/"+(0,o.getFilePathName)(n,t,t.get("clientId")),c="folder"===t.getIn(["settings","type"]),c?(a="test",r+="/"):(a=t.getIn(["settings","fileName"]),r=r.slice(0,-a.length)),l=f(a,r,c),!1!==l.result||"PATH_TOO_LONG"!==l.response}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.folderSettingsFromFileName=t.fileSettingsFromFileName=void 0;var o=n(11),r=i(o),a=n(620),s=i(a),l=n(32),u=function(e,t){return{type:e,ext:t}},d=function(e,t,n,i){if(!0===i.get(e))return{type:n,ext:n,compileTo:n,partial:(0,l.isPartial)(t)}},c=function(e,t,n){if(n)switch(t){case"css":return d("autoprefixer",e,t,n)}},f=function(e,t){for(var n in s["default"])for(var i=s["default"][n].length;i--;){var o=s["default"][n][i];if(o.extensions.includes(t)){var r={type:"none"===o.type?t:o.type,ext:t};return"none"!==o.type&&(r.compileTo=n,r.partial=(0,l.isPartial)(e)),r}}},p=function(e,t){var n=(0,l.fileNameExtension)(e),i=void 0;return""===n?u(null,null):(i=c(e,n,t))?i:(i=f(e,n))||u(n,n)};t.fileSettingsFromFileName=function(e,t){return(0,r["default"])({fileName:e},p(e,t))},t.folderSettingsFromFileName=function(e){return{fileName:e,type:"folder"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMessageLogs=function(e){window.localStorage&&window.localStorage.setItem("showMessageBus",e)},t.logMessages=function(){return window.localStorage&&"true"===window.localStorage.showMessageBus}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResources=t.setExternalResourceUrls=void 0;var i=n(27),o=n(10),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a={},s={},l={css:["sanitize.css","meyer-reset","normalize","Bootstrap","Foundation","animate.css"],js:["jquery","jqueryui","angular.js","ember.js","react","twitter-bootstrap"]},u=(t.setExternalResourceUrls=function(e){e&&(a.js=e.__cdn_js_url,a.css=e.__cdn_css_url)},t.getResources=function(e){return s.requested?e(s):(u("js","css",e),void u("css","js",e))},function(e,t,n){(0,i.getFile)(a[e],function(i){var o=JSON.parse(i),r={};o.forEach(function(e){return r[e.name]={name:e.name,value:e.value}}),s[e]={hash:r,lib:d(o),popular:c(e,r)},s[t]&&(s.requested=!0,n(s))})}),d=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push({key:i.name,string:i.name})}return t},c=function(e,t){for(var n=[],i=0;i<l[e].length;i++){var o=t[l[e][i]];o&&n.push(o)}return r["default"].List(n)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initMessenger=t.refreshMessenger=void 0;var o=n(2),r=i(o),a=n(3),s=i(a),l=n(686),u=i(l),d=n(687),c=i(d),f=n(725),p=i(f),v=n(149),g=n(726),h=void 0,_=void 0,m=void 0;window.showMessageLogs=v.showMessageLogs;var y=function(){function e(t,n){(0,r["default"])(this,e),this.getState=n,this.dispatch=t,this.refresh=this.refresh,this.init()}return(0,s["default"])(e,[{key:"init",value:function(){u["default"].start(),this.updateProject(),this.subscribe()}},{key:"refresh",value:function(){this.updateProject()}},{key:"updateProject",value:function(){u["default"].headers["X-PROJ-ID"]=this.getState().project.get("id"),u["default"].callbackInterval=500}},{key:"subscribe",value:function(){var e=this;u["default"].subscribe("/channel",function(t){e.messageReceived(t)})}},{key:"messageReceived",value:function(e){(0,v.logMessages)()&&console.log(e),(0,g.parseMessageInToAction)(e,this.dispatch,this.getState),m.parseData(e),_.parseData(e)}}]),e}();t.refreshMessenger=function(e,t){h&&t().project.get("id")>0&&h.refresh()},t.initMessenger=function(e,t){t().project.getIn(["owner","id"])===t().session.getIn(["user","id"])&&!h&&t().project.get("id")>0&&(h=new y(e,t),_=new c["default"](e),m=new p["default"](e))}},function(e,t,n){e.exports={"default":n(245),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=void 0;var i=n(197),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(329);t.trackEvent=function(e){return r.AnalyticsCodes[e]?(o["default"].initialize(r.AnalyticsCodes.TRACKER),void o["default"].event(r.AnalyticsCodes[e])):void console.log("Tracking event does not exist!")}},function(e,t,n){e.exports={"default":n(690),__esModule:!0}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilePathName=void 0;var i=n(57),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.getFilePathName=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(n.get("clientId")===i)return[n.getIn(["settings","fileName"])].concat((0,o["default"])(r)).join("/");var a=n.get("client_file_path");if(a&&""!==i)return[a].concat((0,o["default"])(r)).join("/");var s=n.get("parent");return"none"===s?[n.getIn(["settings","fileName"])].concat((0,o["default"])(r)).join("/"):(s=t.get(n.get("parent")),e(t,s,i,[n.getIn(["settings","fileName"])].concat((0,o["default"])(r))))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuTypes={FILE_MENU:"FILE_MENU"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),(0,r["default"])("use",{xlinkHref:"#help"})),S=(0,r["default"])("use",{xlinkHref:"#x"}),I=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.setState({open:!1})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.open!==t.open}},{key:"onIconClick",value:function(){this.setState((0,s["default"])({},this.state,{open:!this.state.open}))}},{key:"onCloseClick",value:function(){this.setState((0,s["default"])({},this.state,{open:!1}))}},{key:"render",value:function(){var e=this,t={display:this.state.open?"block":"none"},n=this.props.flyoutClasses||"help-flyout-reverse";return(0,r["default"])("div",{className:"help-flyout-link"},void 0,(0,r["default"])("svg",{className:"icon icon-help",onClick:function(t){return e.onIconClick(t)}},void 0,E),(0,r["default"])("div",{className:"help-flyout "+n,style:t},void 0,(0,r["default"])("svg",{className:"icon icon-x",onClick:function(t){return e.onCloseClick(t)}},void 0,S),this.props.content))}}]),t}(m.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),{PRIVATE_PROJECTS:(0,r["default"])("div",{},void 0,(0,r["default"])("h5",{},void 0,"About Private Projects"),(0,r["default"])("p",{},void 0,"Private Projects are hidden from everywhere on CodePen, except to you. You can still share them and other people can see them, they just can't find them through searching or browsing."),(0,r["default"])("a",{href:"https://blog.codepen.io/documentation/pro-features/private-pens/"},void 0,"Learn More")),BABEL_PROCESSING:(0,r["default"])("div",{},void 0,(0,r["default"])("h5",{},void 0,"Processing JavaScript with Babel"),(0,r["default"])("p",{},void 0,"The processing of your Project files is determined by their file extension, eg: ",(0,r["default"])("em",{},void 0,".scss")," files will be processed with Sass."),(0,r["default"])("p",{},void 0,"Because ",(0,r["default"])("a",{target:"_blank",href:"https://babeljs.io/"},void 0,"Babel")," processes ",(0,r["default"])("em",{},void 0,".js")," files, you can specify here whether you want to use this processor project-wide."),(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"https://blog.codepen.io/projects/file-processing-projects/"},void 0,"Read more in the documentation"),".")),BABEL_ENTRY_FILE:(0,r["default"])("div",{},void 0,"Your JavaScript will be compiled using webpack and Babel, so you'll need to specify the entry file in which you will import code from other files. This is so you can use ",(0,r["default"])("a",{href:"https://babeljs.io/learn-es2015/#ecmascript-2015-features-modules"},void 0,"ES2015 Modules syntax"),".",(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"https://blog.codepen.io/projects/using-babel-codepen-project/"},void 0,"Read more in the documentation"),".")),AUTOPREFIXER_PROCESSING:(0,r["default"])("div",{},void 0,(0,r["default"])("h5",{},void 0,"Processing CSS with Autoprefixer"),(0,r["default"])("p",{},void 0,"The processing of your Project files is determined by their file extension, eg: ",(0,r["default"])("em",{},void 0,".scss")," files will be processed with Sass."),(0,r["default"])("p",{},void 0,"Because ",(0,r["default"])("a",{target:"_blank",href:"https://github.com/postcss/autoprefixer"},void 0,"Autoprefixer")," processes ",(0,r["default"])("em",{},void 0,".css")," files, you can specify here whether you want to use this processor project-wide."),(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"https://blog.codepen.io/projects/file-processing-projects/"},void 0,"Read more in the documentation"),".")),MINIFIED_FILES:(0,r["default"])("div",{},void 0,(0,r["default"])("h5",{},void 0,"Minified files"),(0,r["default"])("p",{},void 0,"CodePen can generate Minified and Uglified CSS & JavaScript files from your source files. With this option turned on you can link to the minified version of your file, eg. ",(0,r["default"])("em",{},void 0,"script.js")," would have a corresponding ",(0,r["default"])("em",{},void 0,"script.min.js")),(0,r["default"])("p",{},void 0,"Having this setting turned on will make your Save and Project Processing times slightly slower."),(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"https://blog.codepen.io/projects/file-processing-projects/"},void 0,"Read more in the documentation"),".")),PROJECT_REMAINING_FILES:(0,r["default"])("div",{},void 0,(0,r["default"])("h5",{},void 0,"Remaining Files"),(0,r["default"])("p",{},void 0,"This is how many files you have used and how many you are alotted. We do not count folders or processed output towards this number."))});t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logOutUser=t.sendSMS=t.updateOtherEditorsOpen=t.updateProjectUserCurrentTeamId=t.updateProjectEditorSettings=void 0;var i=n(900),o=n(901),r=n(902);t.updateProjectEditorSettings=i.updateProjectEditorSettings,t.updateProjectUserCurrentTeamId=i.updateProjectUserCurrentTeamId,t.updateOtherEditorsOpen=i.updateOtherEditorsOpen,t.sendSMS=o.sendSMS,t.logOutUser=r.logOutUser},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInitData=t.clonedToClientState=t.initialServerToClientState=void 0;var i=n(11),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(648),a=n(649),s=n(650),l=n(328),u=n(110),d=n(150),c=void 0,f=function(){if(c)return c;var e=document.getElementById("init-data");return c=e?JSON.parse(e.getAttribute("value")):{}},p=function(){return f().__PLATFORM||"Macintosh"},v=function(){return f().__browserName||"browser-unknown"},g=function(){return f().__INITIAL_STATE__||{}},h=function(){return f().__GLOBALS__||{}};t.initialServerToClientState=function(e){var t=g(),n=h();return(0,u.setAllowedFiles)(n.allowed_extensions),(0,d.setExternalResourceUrls)(n.resources_urls),(0,o["default"])({},e,{project:(0,r.initialProjectState)(t,e),session:(0,a.initialSessionState)(t,e),ui:(0,s.initialUIState)(t,e,p(),v()),files:(0,l.initialFilesState)(t)})},t.clonedToClientState=function(e,t){var n=f(),i=n.__PLATFORM||"mac";return(0,o["default"])({},t,{project:(0,r.initialProjectState)(e,t),session:(0,a.initialSessionState)(e,t),ui:(0,s.initialUIState)(e,t,i),files:(0,l.initialFilesState)(e)})},t.setInitData=function(e){c=e}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finishedCreateNewFile=t.newFileNameCancel=t.newFileNameUpdate=t.createNewFile=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.createNewFile=function(e){return{type:o["default"].CREATE_NEW_FILE,payload:{type:e}}},t.newFileNameUpdate=function(e){var t=e.type,n=e.fileName;return{type:o["default"].UPDATE_NEW_FILE_NAME,payload:{type:t,fileName:n}}},t.newFileNameCancel=function(){return{type:o["default"].CANCEL_NEW_FILE_NAME}},t.finishedCreateNewFile=function(){return{type:o["default"].FINISHED_CREATING_NEW_FILE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeOpenFiles=t.setOpenFilesAction=t.getOpenFileData=t.swapOpenFilePositions=t.removeFileFromOpenFilesList=t.addFileToOpenFilesList=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=(t.addFileToOpenFilesList=function(e){return{type:o["default"].ADD_OPEN_FILE,payload:{clientId:e}}},t.removeFileFromOpenFilesList=function(e){return function(t,n){l(t,n,[e])}},t.swapOpenFilePositions=function(e,t){return function(n,i){var o=i().ui.get("openFiles").toList(),r=o["delete"](o.indexOf(e)),a=r.insert(o.indexOf(t),e);n(s({openFiles:a.toOrderedSet()}))}},function(e,t){if(e.size>0){var n=t.get(e.last());if(n)return{clientId:n.get("clientId"),level:n.get("level"),parent:n.get("parent")}}return{clientId:"none",level:0,parent:"none"}}),a=t.getOpenFileData=function(e,t,n){var i=n.map(function(e){return e.get("clientId")}),o=e.filter(function(e){return!(i.indexOf(e)>-1)});return{openFiles:o,selectedFile:r(o,t)}},s=t.setOpenFilesAction=function(e){return{type:o["default"].SET_OPEN_FILES,payload:e}},l=t.removeOpenFiles=function(e,t,n){var i=t().ui.get("openFiles"),o=t().files.getIn(["client","files"]);e(s(a(i,o,n)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFileDraggingOverState=t.updateFileDraggingState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateFileDraggingState=function(e,t){return{type:o["default"].UPDATE_FILE_DRAGGING_STATE,payload:{clientId:e,active:t}}},t.updateFileDraggingOverState=function(e,t){return{type:o["default"].UPDATE_FILE_DRAGGING_OVER_STATE,payload:{clientId:e,active:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearGulpConsole=t.setGulpConsoleOpenState=t.addGulpLog=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.addGulpLog=function(e){return{type:o["default"].ADD_GULP_LOG,payload:{log:e}}},t.setGulpConsoleOpenState=function(e){return{type:o["default"].SET_GULP_CONSOLE_OPEN_STATE,payload:{state:e}}},t.clearGulpConsole=function(){return{type:o["default"].CLEAR_GULP_CONSOLE,payload:{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.manualFileUpload=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.manualFileUpload=function(e){return{type:o["default"].MANUAL_FILE_UPLOAD,payload:{files:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEditingWithFileName=t.setRenamingFile=t.setRenderingFile=t.setSelectedSidebarItem=t.setEditing=t.toggleFolderOpenState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(14),a=n(33),s=(t.toggleFolderOpenState=function(e){return{type:o["default"].TOGGLE_FOLDER_OPEN_STATE,payload:{folderID:e}}},t.setEditing=function(e){return{type:o["default"].SET_EDITING,payload:{clientId:e}}});t.setSelectedSidebarItem=function(e,t,n,i){return{type:o["default"].SET_SIDEBAR_SELECTED,payload:{clientId:e,level:t,parent:n,setEditing:i}}},t.setRenderingFile=function(e){return{type:o["default"].SET_RENDERING_FILE,payload:{renderingFile:e}}},t.setRenamingFile=function(e){return{type:o["default"].SET_RENAMING_FILE,payload:{clientId:e}}},t.setEditingWithFileName=function(e){return function(t,n){var i=n().files.getIn(["client","files"]),o=i.find(function(t){return t.get("client_file_path")===e});o?(t(s(o.get("clientId"))),t((0,r.addFileToOpenFilesList)(o.get("clientId")))):t((0,r.openMessageModal)({style:"error",copy:a.modals.copy.COULDNT_FIND_FILE(e)}))}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.openErrorModal=t.openConfirmModal=t.openMessageModal=t.clearPopupMessage=t.setPopupMessage=t.setProjectDeleteDialogInput=t.closeThisDialog=t.closeAllModals=t.closeAllPopups=t.toggleDialog=void 0;var o=n(11),r=i(o),a=n(12),s=i(a),l=n(33),u=(t.toggleDialog=function(e){return{type:s["default"].TOGGLE_DIALOG,payload:{dialog:e}}},t.closeAllPopups=function(){return{type:s["default"].CLOSE_ALL_POPUPS}},t.closeAllModals=function(){return{type:s["default"].CLOSE_ALL_MODALS}},t.closeThisDialog=function(e){return{type:s["default"].CLOSE_THIS_DIALOG,payload:{dialog:e}}},t.setProjectDeleteDialogInput=function(e){return{type:s["default"].SET_PROJECT_DELETE_DIALOG_INPUT,payload:{value:e}}},t.setPopupMessage=function(e){return{type:s["default"].ADD_MESSAGE,payload:{text:e}}},t.clearPopupMessage=function(){return{type:s["default"].CLEAR_MESSAGES}},function(e,t){return{type:s["default"].OPEN_MODAL,payload:(0,r["default"])({},l.modals.styles[t.style],t,{onConfirm:t.onConfirm,onAlternate:t.onAlternate,onCancel:t.onCancel,type:e})}});t.openMessageModal=function(e){return u("message",e)},t.openConfirmModal=function(e){return u("confirm",e)},t.openErrorModal=function(e){return u("message",(0,r["default"])({},e,{style:"error"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerRender=t.setCancelledRender=t.setLayoutState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setLayoutState=function(e){return{type:o["default"].SET_LAYOUT_STATE,payload:{layoutState:e}}},t.setCancelledRender=function(e){return{type:o["default"].SET_CANCELLED_RENDER,payload:{value:e}}},t.triggerRender=function(e){var t=e.auto;return{type:o["default"].TRIGGER_RENDER,payload:{auto:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setProjectTitleEditingState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setProjectTitleEditingState=function(e){return{type:o["default"].SET_PROJECT_TITLE_EDITING_STATE,payload:{editing:e}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveProjectUIState=void 0;var o=n(40),r=i(o),a=n(213),s=i(a),l=n(228),u=i(l),d=n(235),c=i(d),f=n(12),p=i(f),v=n(27),g=n(239),h=function(e){return{type:p["default"].RECIEVE_PROJECT_UI_STATE_SAVE_SUCCESS,payload:e}},_=function(e){return e.get("id")>0&&!e.get("readOnly")},m=function(e,t){return{payload:{project:{id:e.get("id")},ui:t}}};t.saveProjectUIState=function(){return function(e,t){var n=t().ui,i=t().project;if(_(i)){var o=(0,c["default"])(n.toJS()).filter(function(e){var t=(0,u["default"])(e,1),n=t[0];return!g.tempUIState.includes(n)}).reduce(function(e,t){var n=(0,u["default"])(t,2),i=n[0],o=n[1];return(0,s["default"])(e,(0,r["default"])({},i,o))},{});return(0,v.save)({isPut:n.get("id"),dispatch:e,getState:t,url:"/projects/project_ui_state/"+n.get("id"),params:m(i,o),onSuccess:function(t){e(h(t.payload))}})}}}},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(229),r=i(o),a=n(232),s=i(a);t["default"]=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=(0,s["default"])(e);!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,r["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={"default":n(230),__esModule:!0}},function(e,t,n){n(113),n(96),e.exports=n(231)},function(e,t,n){var i=n(111),o=n(37)("iterator"),r=n(80);e.exports=n(20).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||r.hasOwnProperty(i(t))}},function(e,t,n){e.exports={"default":n(233),__esModule:!0}},function(e,t,n){n(113),n(96),e.exports=n(234)},function(e,t,n){var i=n(62),o=n(127);e.exports=n(20).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){e.exports={"default":n(236),__esModule:!0}},function(e,t,n){n(237),e.exports=n(20).Object.entries},function(e,t,n){var i=n(53),o=n(238)(!0);i(i.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var i=n(79),o=n(63),r=n(109).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=i(a),l=s.length,u=0,d=[];l>u;)r.call(a,n=s[u++])&&d.push(e?[n,a[n]]:a[n]);return d}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tempUIState=["popups","renaming","creatingFile","projectTitleEditor","projectDeleteDialogInput","gulpLogs","gulpConsoleOpen","search","processing","render","spinners","manuallyUploadedFiles","resources","cancelledRender","otherEditorsOpen","deployment","uploading","contextMenu","export","browser"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFilesActiveFile=t.setFileSearch=t.updateFileSearch=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateFileSearch=function(e){return{type:o["default"].UPDATE_FILE_SEARCH,payload:{term:e}}},t.setFileSearch=function(e){return{type:o["default"].SET_FILE_SEARCH,payload:{filesIsActive:e}}},t.updateFilesActiveFile=function(e){return{type:o["default"].UPDATE_FILES_ACTIVE_FILE,payload:{filesActiveFile:e}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateResourceSearch=t.updateResourceType=t.toggleResources=t.updateSearchResults=void 0;var o=n(12),r=i(o),a=n(21),s=n(150),l=n(129),u=n(10),d=i(u),c=t.updateSearchResults=function(e,t){return{type:r["default"].UPDATE_RESURCE_SEARCH_RESULTS,payload:{results:e,type:t}}},f=(t.toggleResources=function(){return{type:r["default"].TOGGLE_EXTERNAL_RESOURCES}},t.updateResourceType=function(e){return function(t,n){t((0,a.payloadAction)(r["default"].UPDATE_RESOURCE_SEARCH_TYPE,{type:e})),f(t,n)}},t.updateResourceSearch=function(e){return function(t,n){t((0,a.payloadAction)(r["default"].UPDATE_RESOURCE_SEARCH_TERM,{searchTerm:e})),f(t,n)}},function(e,t){var n=t().ui.getIn(["resources","searchTerm"]),i=t().ui.getIn(["resources","searchType"]);(0,s.getResources)(function(t){if(""===n)return e(c(t[i].popular,"popular"));var o=(0,l.fuzzySearch)(n,t[i].lib),r=o.bullseye?[o.bullseye]:[],a=r.concat(o.exact.concat(o.fuzzy)).map(function(e){return t[i].hash[e.key]}),s=d["default"].OrderedSet(a);e(c(s.slice(0,20),"search"))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.failedToReceiveMessageBusResponse=t.clearAllProcessing=t.updateProcessingQueue=t.updateProcessingSaveStatus=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(112),a=n(21),s=t.updateProcessingSaveStatus=function(e){return{type:o["default"].UPDATE_PROCESSING_SAVE_STATUS,payload:e}};t.updateProcessingQueue=function(e){var t=e.setQueue,n=e.removeFromQueue,i=e.queueId;return{type:o["default"].UPDATE_PROCESSING_QUEUE,payload:{setQueue:t,removeFromQueue:n,queueId:i}}},t.clearAllProcessing=function(){return{type:o["default"].CLEAR_ALL_PROCESSING_INDICATORS,
payload:{}}},t.failedToReceiveMessageBusResponse=function(){return function(e,t){2===t().ui.getIn(["processing","failedMessagesCount"])&&((0,r.reportTimeout)(),e(s({timeoutMessage:!0}))),e((0,a.typeAction)(o["default"].NO_MESSAGE_BUS_RESPONSE))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSpinningState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setSpinningState=function(e,t){return{type:o["default"].SET_SPINNING_STATE,payload:{key:e,value:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeContextMenu=t.openContextMenu=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.openContextMenu=function(e){return{type:o["default"].OPEN_CONTEXT_MENU,payload:e}},t.closeContextMenu=function(){return{type:o["default"].CLOSE_CONTEXT_MENU}}},function(e,t,n){var i=n(20),o=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(){return o.stringify.apply(o,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUpload=t.uploadingComplete=t.startingContainer=t.savingNewProject=t.finishUploading=t.updateUploadedCount=t.beginUploading=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(21),a=n(25);t.beginUploading=function(e){var t=e.fileCount,n=e.filesState;return{type:o["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:a.PROGRESS.UPLOADING,fileCount:t,filesState:n}}},t.updateUploadedCount=function(e){return function(t,n){var i=n().project.getIn(["uploads","uploadedCount"]);t((0,r.payloadAction)(o["default"].UPDATE_PROJECT_UPLOADS_STATE,{uploadedCount:i+e}))}},t.finishUploading=function(){return function(e,t){e((0,r.payloadAction)(o["default"].UPDATE_PROJECT_UPLOADS_STATE,{progress:a.PROGRESS.FINISHING}));var n=t().project.getIn(["uploads","filesState","server","files"]);e((0,r.payloadAction)(o["default"].UPLOADS_PROCESS_COMPLETE,{uploaded:n}))}},t.savingNewProject=function(){return{type:o["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:a.PROGRESS.NEW_PROJECT}}},t.startingContainer=function(){return{type:o["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:a.PROGRESS.WAITING_FOR_CONTAINER}}},t.uploadingComplete=function(){return{type:o["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:a.PROGRESS.COMPLETE}}},t.cancelUpload=function(){return{type:o["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:a.PROGRESS.CANCELLED}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadScreenshotFileToS3=t.uploadAccountAssetFileToS3=t.uploadProjectFileToS3=void 0;var i=n(11),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(69),a=function(e,t,n){(0,r.simpleServerPost)("/uploaded_assets/asset_upload_request",e,function(e,i){var a=i.body.form_data.action,s=(0,o["default"])({},i.body.form_data.fields,{file:t});(0,r.postFormData)(a,s,function(e,t){n(200===t.status?{success:!0,serverResponse:i,s3Response:t}:{success:!1,error:t.text,serverResponse:i,s3Response:t})})})},s=function(e,t,n){return{asset_type:"project",project_id:t,project_file_id:n,content_type:e.type}},l=(t.uploadProjectFileToS3=function(e,t,n,i){a(s(e,t,n),e,i)},function(e,t){return{asset_type:"account",name:t,size:e.size,content_type:e.type}}),u=(t.uploadAccountAssetFileToS3=function(e,t,n){a(l(e,t),e,n)},function(e,t,n,i){return{asset_type:"screenshot",item_type:"project",item_id:t,file_ext:n,content_type:i}});t.uploadScreenshotFileToS3=function(e,t,n,i,o){a(u(0,t,n,i),e,o)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadIsCancelled=void 0;var o=n(12),r=i(o),a=n(25),s=n(249),l=n(21),u=n(41),d=n(10),c=i(d);t.uploadIsCancelled=function(e){var t=e.dispatch,n=e.getState,i=e.projectStateCopy;if(n().project.getIn(["uploads","progress"])===a.PROGRESS.CANCELLED){var o=n().project.getIn(["uploads","filesState"]);if(o.getIn(["server","files"]).count()>0){var d=o.setIn(["client","files"],c["default"].Map({}));(0,l.payloadAction)(r["default"].UPDATE_PROJECT_UPLOADS_STATE,{filesState:(0,s.newEmptyFilesState)()}),t((0,u.deleteAllUploaded)({projectStateCopy:i,deletedFilesState:d}))}return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newEmptyFilesState=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.newEmptyFilesState=function(){return o["default"].fromJS({client:{files:{},content:{}},server:{files:{},content:{}}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.startContainer=t.saveProjectParams=t.saveProject=t.sendSaveToServer=t.buildState=void 0;var o=n(57),r=i(o),a=n(11),s=i(a),l=n(12),u=i(l),d=n(27),c=n(701),f=n(41),p=n(35),v=n(14),g=n(331),h=n(21),_=n(32),m=n(151),y=n(114),E=n(704),S=n(706),I=n(332),b=n(333),O=n(48),P=i(O),C=n(33),M=n(149),F=n(10),T=i(F),A=function(e,t){for(var n={},i=0;i<t.length;i++)t[i].folder||(n[(0,_.fileNameExtension)(t[i].name)]=!0);e((0,h.payloadAction)(u["default"].CLEAR_FILE_ERRORS,n))},k=function(e,t){var n=(0,E.buildProjectFileAttributes)(e,t);return{payload:{project:(0,s["default"])({},(0,E.buildProjectParams)(e),{project_files_attributes:n.files})},notificationTypes:n.notificationTypes}},N=function(e,t){t().ui.getIn(["processing","saveRequested"])||t().ui.getIn(["processing","setup"])||e((0,h.payloadAction)(u["default"].TRIGGER_RENDER,{auto:!0}))},j=function(e,t){(0,g.updateStatus)(e,{containerCheck:!1,saveRequested:!1,setup:!1}),e((0,f.resetToPreviousState)(t))},D=function(e){e((0,v.openMessageModal)({style:"error",copy:C.modals.copy.SAVE_TOO_LARGE}))},L=function(e,t){return 0===t.length&&e.get("id")>0&&e.get("client").equals(e.get("server"))},w=function(e,t){var n=e.get("processing");return t&&n.get("setup")||n.get("saveRequested")},R=function(e,t,n){var i=n.stateToQueue,o=n.params,r=n.onSuccessFunc;if(t().project.get("readOnly"))return null;if(!(0,c.isPayloadSizeSafe)(o))return D(e);var a=o.notificationTypes.length>0;if(w(t().ui,a))return e((0,f.updateSaveQueue)({state:i}));var s=o.payload.project.project_files_attributes,l=t().project;if(!L(s,l)){var u=(0,I.getRollbackState)(o.payload,t()),d=o.payload.project.processor_settings&&!T["default"].Map(o.payload.project.processor_settings).equals(l.getIn(["server","processor_settings"])),p=Date.now().toString();if(0===t().project.get("id")||d)return(0,g.updateStatus)(e,{setup:!0}),o.payload.project.project_files_attributes.length>0&&e((0,f.updateSaveQueue)({state:i})),t().project.get("id")>0&&d?(o.payload.project.project_files_attributes=[],o.payload.project.reset_container=!0):delete o.payload.project.project_files_attributes,G(e,t,{params:o,onSuccessFunc:r,rollback:u,leaveQueue:!0,triggerQueueSaveOnComplete:!a});var v={containerCheck:!0};a&&(v.saveRequested=!0),(0,g.updateStatus)(e,v,p),G(e,t,{params:o,onSuccessFunc:r,stateToQueue:i,rollback:u,queueId:p})}},U=function(e,t,n){t.notificationTypes.length>0?((0,M.logMessages)()&&console.log("Saving file types:",[].concat((0,r["default"])(t.notificationTypes))),e((0,v.updateProcessingQueue)({setQueue:T["default"].List(t.notificationTypes),queueId:n}))):(0,M.logMessages)()&&console.log("Saving non-processed files or deleting. Quick save"),delete t.notificationTypes},x=function(e,t){if(t){var n=t.filter(function(e){return(0,_.isMedia)(e.name)&&"1"!==e._destroy}).map(function(e){return e.client_id});n.length&&e((0,p.updateChangedMediaFiles)({files:n,onDisk:!1}))}},G=function(e,t,n){var i=n.params,o=n.onSuccessFunc,r=n.rollback,a=n.leaveQueue,s=n.stateToQueue,l=n.triggerQueueSaveOnComplete,u=n.queueId,d=t().project.get("hashid"),c=i.payload.project.project_files_attributes;a||e((0,f.updateSaveQueue)({state:!1})),U(e,i,u),x(e,c),c&&A(e,c),H({dispatch:e,getState:t,hashid:d,params:i,success:function(n){n.payload.container?(e((0,f.updateSaveQueue)({state:s})),l&&e(q({fromQueue:!0})),(0,g.updateStatus)(e,{containerCheck:!1,setup:!0})):((0,g.updateStatus)(e,{containerCheck:!1}),o(e,n,i),N(e,t),(0,m.initMessenger)(e,t)),(0,y.initPubNubMessenger)(e,t)},fail:function(){return j(e,r)}})},B=function(e,t){return!!t.project.get("invalidPermalink")&&(e((0,v.toggleDialog)(P["default"].PROJECT_SETTINGS_DIALOG)),!0)},W=t.buildState=function(e,t){var n=t.project.get("queuedSave");return e.fromQueue?n:(0,S.createStateSnapshot)(t,e.fileStateSegment)},H=t.sendSaveToServer=function(e){var t=e.dispatch,n=e.getState,i=e.hashid,o=e.params,r=e.success,a=e.fail;return(0,d.save)({isPut:i,dispatch:t,getState:n,url:"/projects/project/"+i,params:o,onSuccess:r,onFail:a})},q=function(e){return function(t,n){if(e=e||{},!B(t,n())){var i=W(e,n());return R(t,n,{stateToQueue:i,params:k(i.project,i.files),onSuccessFunc:b.standardSaveProjectOnSuccess,noQueue:e.noQueue})}}},V=function(){return function(e,t){var n=t().project;if(0!==n.get("id")&&!n.get("readOnly")){var i=t().project.get("hashid");return(0,g.updateStatus)(e,{containerCheck:!0,hidden:!0}),(0,d.put)({dispatch:e,getState:t,url:"/projects/project_container/"+i,params:{},onSuccess:function(t){"started"===t.payload.status&&(0,g.updateStatus)(e,{containerCheck:!1,setup:!0,hidden:!0}),"running"===t.payload.status&&(0,g.updateStatus)(e,{containerCheck:!1})},onFail:function(){}})}}};t.saveProject=q,t.saveProjectParams=k,t.startContainer=V},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resaveFromQueues=t.updateUploadsQueue=t.updateSaveQueue=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(41),a=n(35);t.updateSaveQueue=function(e){var t=e.state;return{type:o["default"].UPDATE_FILE_SAVE_QUEUE,payload:{state:t}}},t.updateUploadsQueue=function(e){var t=e.uploads;return{type:o["default"].UPDATE_PROJECT_UPLOADS_QUEUE,payload:{uploads:t}}},t.resaveFromQueues=function(){return function(e,t){var n=t().project.get("queuedSave");return t().project.get("queuedUploadParams")?void e((0,a.continueSavingUploads)()):void(n&&e((0,r.saveProject)({fromQueue:!0})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beautifyFileContent=t.addBabelFileError=t.addFileError=t.updateFileErrors=t.resetFileContentToSaved=t.updateFileContent=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(335),a=n(69),s=n(14),l=n(153),u=t.updateFileContent=function(e){var t=e.clientId,n=e.content,i=e.loading,r=e.fromLoad,a=e.fromUploadFileRead;return{type:o["default"].UPDATE_FILE_CONTENT,payload:{clientId:t,content:n,loading:i,fromLoad:r,fromUploadFileRead:a}}};t.resetFileContentToSaved=function(e){return{type:o["default"].RESET_FILE_CONTENT,payload:{clientId:e}}},t.updateFileErrors=function(e,t){return{type:o["default"].UPDATE_FILE_ERRORS,payload:{clientId:e,errors:t}}},t.addFileError=function(e){return{type:o["default"].ADD_FILE_ERROR,payload:{error:e}}},t.addBabelFileError=function(){return{type:o["default"].BABEL_ENTRY_FILE_ERROR,payload:{}}},t.beautifyFileContent=function(e,t,n){return(0,l.trackEvent)("BEAUTIFY_FILE"),function(i,o){var l=o().project.get("client").get("editor_settings");return(0,a.simplePost)({url:r.BEAUTIFY_URL,params:{type:e,content:n,tabSize:l.get("tab_size"),indentWith:l.get("indent_with")},onSuccess:function(e,n){i((0,s.setPopupMessage)("Kapow, all tidy now!")),i(u({clientId:t,content:n.body})),i((0,s.setSpinningState)("tidy",!1))},onError:function(){i((0,s.setSpinningState)("tidy",!1))}})}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasUnsavedChanges=void 0;var i=n(30),o=function(e){return e.files.getIn(["client","files"])},r=function(e){return e.project};t.hasUnsavedChanges=(0,i.createSelector)([o,r],function(e,t){return void 0!==e.find(function(e){return!0===e.get("diff")})||!t.get("client").equals(t.get("server"))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileCategoryFromExtension=void 0;var i=n(32);t.getFileCategoryFromExtension=function(e){var t=(0,i.fileNameExtension)(e);if(""===t)return"generic";switch(t){case"js":case"coffee":case"coffeescript":case"ls":case"livescript":case"ts":case"typescript":return"js";case"css":case"scss":case"less":case"styl":case"sass":return"css";case"html":case"pug":case"md":case"markdown":case"njk":return"html";case"svg":case"xml":return"svg";case"jpg":case"png":case"gif":case"jpeg":case"ico":return"image";case"mp4":case"webm":case"og":return"video";case"m4a":case"mp3":case"ogg":case"wav":return"audio";case"woff":case"woff2":return"binary";default:return"generic"}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fileToShow=t.viewableFiles=void 0;var o=n(39),r=i(o),a=n(10),s=i(a),l=n(30),u=function(e){return e.files.getIn(["server","files"])},d=function(e){return e.ui.get("renderingFile")},c=function e(t,n,i){var o=n.filter(function(e){return e.get("parent")===i});return o=o.sort(function(e,t){var n=["settings","type"],i=["settings","fileName"];return"folder"===e.getIn(n)&&"folder"!==t.getIn(n)?-1:"folder"!==e.getIn(n)&&"folder"===t.getIn(n)?1:"folder"===e.getIn(n)&&"folder"===t.getIn(n)||"folder"!==e.getIn(n)&&"folder"!==t.getIn(n)?e.getIn(i)<t.getIn(i)?-1:e.getIn(i)>t.getIn(i)?1:0:void 0}),o.map(function(i){if(t=t.push(i),i.get("processedFileId")){var o=n.find(function(e){return e.get("originalFileId")===i.get("clientId")});t=t.push(o)}i.has("children")&&(t=e(t,n,i.get("clientId")))}),t},f=t.viewableFiles=(0,l.createSelector)([u],function(e){var t=s["default"].List();t=c(t,e,"none");var n=[],i=t.filter(function(e){var t=e.get("alternate_view"),i=e.get("processedFileId");t&&i&&n.push(i);var o=e.getIn(["settings","type"]);return t||"html"===o||"svg"===o});return n.length&&(i=i.filter(function(e){return-1===n.indexOf(e.get("clientId"))})),i.reduce(function(e,t){return e[t.get("clientId")]=t,e},{})});t.fileToShow=(0,l.createSelector)([f,d],function(e,t){var n=e[t],i=(0,r["default"])(e)[0];return n?s["default"].fromJS(n):s["default"].fromJS(e[i])})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(23)),y=n(258),E=n(255),S=n(16),I=i(S),b=n(343),O=i(b),P=(n(26),(0,r["default"])("span",{className:"diff"})),C=(0,r["default"])("span",{className:"errorsome"}),M=function(e){function t(e,n){(0,u["default"])(this,t);var i=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,n));return(0,m.bindToContext)(i,"onFileClick","onDragStart","onDragEnd","onDrop","onDragEnter","onDragLeave","renderFileName"),i}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.enteredElements=0}},{key:"shouldComponentUpdate",value:function(e){return!this.props.file.equals(e.file)}},{key:"componentWillUnmount",value:function(){}},{key:"onFileClick",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),!this.props.file.getIn(["status","isRenaming"])){var t=this.props.file,n=t.get("settings"),i="folder"===n.get("type");this.props.interactionHandlers.onFileClick({clientId:t.get("clientId"),type:n.get("type"),level:i?t.get("level")+1:t.get("level"),parent:i?t.get("clientId"):t.get("parent")})}}},{key:"onDragStart",value:function(e){e.stopPropagation(),e.dataTransfer.setData("text/plain","0"),this.props.file.getIn(["status","isRenaming"])||this.props.interactionHandlers.onFileDragging(this.props.file.get("clientId"))}},{key:"onDragEnd",value:function(e){e.stopPropagation(),e.preventDefault(),this.enteredElements&&(this.enteredElements=0),null===this.props.dragging.get("overClientId")&&this.props.interactionHandlers.onFileDraggingEnded(this.props.file.get("clientId"))}},{key:"onDrop",value:function(e){e.preventDefault(),"folder"!==this.props.file.getIn(["settings","type"])&&"none"!==this.props.file.get("parent")||(e.stopPropagation(),this.enteredElements&&(this.enteredElements=0),null!==this.props.dragging.get("overClientId")&&this.props.interactionHandlers.onFileDropped(this.props.file.get("clientId"),this.props.dragging.get("clientId")))}},{key:"onDragEnter",value:function(e){e.preventDefault(),(0,y.dragItemsAreFiles)(e)||(e.stopPropagation(),++this.enteredElements,this.props.interactionHandlers.onFileDraggedEnter(this.props.file.get("clientId")))}},{key:"onDragLeave",value:function(e){e.preventDefault(),(0,y.dragItemsAreFiles)(e)||(e.stopPropagation(),--this.enteredElements>0||this.props.dragging.get("overClientId")===this.props.file.get("clientId")&&this.props.interactionHandlers.onFileDraggedLeave(this.props.file.get("clientId")))}},{key:"onDoubleClick",value:function(e){e.preventDefault(),this.props.interactionHandlers.onRenameSelect(this.props.file.get("clientId"),this.props.file.get("level"),this.props.file.get("parent"))}},{key:"renderFileName",value:function(){var e={marginLeft:this.props.indent},t=void 0;this.props.file.get("diff")?t=P:this.props.file.has("has_errors")&&!0===this.props.file.get("has_errors")&&(t=C);var n=(0,E.getFileCategoryFromExtension)(this.props.file.getIn(["settings","fileName"])),i="file-"+n;return this.props.file.getIn(["status","isRenaming"])?(0,r["default"])("div",{className:"rename",style:e},void 0,t,(0,r["default"])(I["default"],{icon:i}),(0,r["default"])(O["default"],{file:this.props.file})):(0,r["default"])("a",{href:"#0",style:e},void 0,t,(0,r["default"])(I["default"],{icon:i}),this.props.file.getIn(["settings","fileName"]))}}]),t}(h.Component);t["default"]=M,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragItemsAreFiles=function(e){var t=[];e.dataTransfer&&(e.dataTransfer.items||e.dataTransfer.types)&&(t=e.dataTransfer.items||e.dataTransfer.types);for(var n=[],i=0;i<t.length;i++){var o=t[i];"file"!==o.kind&&"application/x-moz-file"!==o&&"Files"!==o||n.push(o)}return n.length>0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(9),s=n(809),l=i(s),u=n(14),d=function(e,t){return(0,r["default"])({},t,{readOnly:e.project.get("readOnly")})},c=function(e){return{triggerMenu:function(t){e((0,u.openContextMenu)(t))}}},f=(0,a.connect)(d,c)(l["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(261),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(){return{}},l=function(e){return{onClick:function(){e((0,a.closeAllPopups)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),(0,r["default"])("div",{className:"popup-overlay overlay block"})),y=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this;return this.props.dismissible?(0,r["default"])("div",{className:"popup-overlay overlay block",onClick:function(){return e.props.onClick()}}):m}}]),t}(h.Component);t["default"]=y,e.exports=t["default"]},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(16)),y=i(m),E=(0,r["default"])(y["default"],{icon:"x"}),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=void 0,t=void 0,n={};return this.props.onDismiss&&(e=(0,r["default"])("span",{className:"close",onClick:this.props.onDismiss},void 0,E),n.paddingRight="30px"),this.props.actionButton&&(t=this.props.actionButton),(0,r["default"])("div",{style:n,className:"flash-message"},void 0,this.props.message,t,e)}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filesAndFolders=t.file=void 0;var o=n(11),r=i(o),a=n(10),s=i(a),l=n(317),u=n(95),d=function(e,t){if(void 0===t.item.parent||"none"===t.item.parent)return t.item.parent="none",t.item.level=0,e.withMutations(function(e){c(e,t.item,t.processedItem)});var n=e.getIn(["client","files",t.item.parent]);return n?(t.item.level=n?n.get("level")+1:0,e.withMutations(function(e){e.updateIn(["client","files",n.get("clientId"),"children"],function(e){return e.add(t.item.clientId)}),c(e,t.item,t.processedItem)})):e.withMutations(function(e){c(e,t.item,t.processedItem)})},c=function(e,t,n){void 0!==t.content&&(e.setIn(["client","content",t.clientId],s["default"].fromJS({content:t.content,errors:[]})),t=(0,r["default"])({},t),delete t.content);var i=s["default"].fromJS(t,l.setsFromArrays),o=e.getIn(["client","files",i.get("clientId")]);if(o&&o.get("children")&&((0,u.getAllChildren)(e.getIn(["client","files"]),o).map(function(t){e.deleteIn(["client","files",t.get("clientId")]),e.deleteIn(["client","content",t.get("clientId")])}),i.get("children").map(function(t){e.setIn(["client","files",t,"parent"],o.get("clientId"))})),f(e,i,"original")||e.setIn(["client","files",t.clientId],i),n){var a=s["default"].fromJS(n),d=f(e,a,"processed");d?p(e,d,a,i):e.setIn(["client","files",n.clientId],a)}},f=function(e,t,n){return e.getIn(["client","files"]).find(function(i){var o=void 0;return"original"===n?o=e.getIn(["client","files",i.get("originalFileId"),"parent"])===t.get("parent"):"processed"===n&&(o=i.get("parent")===e.getIn(["client","files",t.get("originalFileId"),"parent"])),i.getIn(["settings","fileName"])===t.getIn(["settings","fileName"])&&o&&i.get("clientId")!==t.get("clientId")})},p=function(e,t,n,i){var o=t.withMutations(function(e){e.set("originalFileId",n.get("originalFileId")).set("settings",n.get("settings"))["delete"]("parent").set("editable",!1)});e.setIn(["client","files",o.get("clientId")],o),e.deleteIn(["client","content",o.get("clientId")]),e.deleteIn(["server","content",o.get("clientId")]),e.setIn(["client","files",i.get("clientId"),"processedFileId"],o.get("clientId"))};t.file=function(e,t){return d(e,t.payload.fileData)},t.filesAndFolders=function(e,t){var n=e;return t.payload.files.forEach(function(e){n=d(n,e)}),t.payload.folders.forEach(function(e){n=d(n,e)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setsFromArrays=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setsFromArrays=function(e,t){return o["default"].Iterable.isIndexed(t)?t.toOrderedSet():t.toMap()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var i=t.getIn([e,"files",n.get("parent")]);if(i){var o=[e,"files",i.get("clientId"),"children"];t.setIn(o,t.getIn(o)["delete"](n.get("clientId")))}},i=t.updateMutableStateAfterFileDeletion=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n(e,t,i),o&&o.forEach(function(n){t.deleteIn([e,"files",n.get("clientId")]),t.deleteIn([e,"content",n.get("clientId")])}),i.has("processedFileId")&&(t.deleteIn([e,"files",i.get("processedFileId")]),t.deleteIn([e,"content",i.get("processedFileId")])),t.deleteIn([e,"files",i.get("clientId")]),t.deleteIn([e,"content",i.get("clientId")])},o=t.deleteFile=function(e,t){var n=t.payload,o=n.file,r=n.children;return e.withMutations(function(e){i("client",e,o,r)})};t.deleteFiles=function(e,t){return e.withMutations(function(e){t.payload.files.forEach(function(t){return o(e,{payload:t})})})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveFiles=t.buildNewServerFiles=t.buildServerFile=void 0;var o=n(39),r=i(o),a=n(10),s=i(a),l=n(318),u=["id","client_file_path","url","size_kb","alternate_view","associated_files"],d=["id","client_file_path","url","size_kb","alternate_view","associated_files"],c=t.buildServerFile=function(e,t){var n=["client","files",t.client_id],i=e.getIn([].concat(n,["loading"])),o=u.reduce(function(e,n){return e[n]=t[n],e},{});return i&&(o.loading=!1),e.getIn(n).merge(s["default"].fromJS(o))},f=function(e,t){return e.getIn(["client","content",t])},p=t.buildNewServerFiles=function(e,t,n){return(0,r["default"])(t).forEach(function(i){var o=t[i],r=["server","files",i],a=["server","content",i];!0!==o.deleted&&e.getIn(["client","files",o.client_id])&&(e.setIn(r,c(e,o)),n.indexOf(o.client_id)>-1&&e.setIn(a,f(e,i))),!0===o.deleted&&e.hasIn(r)&&(0,l.updateMutableStateAfterFileDeletion)("server",e,e.getIn(r))}),e.get("server")},v=function(e,t,n){var i=d.reduce(function(e,n){return e[n]=t[n],e},{});n.indexOf(t.client_id)>-1&&(i.diff=!1);var o=["client","files",t.client_id],r=e.getIn(o);return r.get("loading")&&(r=r["delete"]("loading")),r.get("uploaded")&&(r=r["delete"]("uploaded")),r.merge(s["default"].fromJS(i))},g=function(e,t,n){return(0,r["default"])(t).forEach(function(i){var o=t[i],r=["client","files",i];!0!==o.deleted&&e.getIn(["client","files",o.client_id])&&e.setIn(r,v(e,o,n)),!0===o.deleted&&e.hasIn(r)&&(0,l.updateMutableStateAfterFileDeletion)("client",e,e.getIn(r))}),e.get("client")};t.saveFiles=function(e,t){var n=t.payload.files.server,i=t.payload.savedFiles;return e.withMutations(function(e){e.setIn(["client"],g(e,n,i)),e.setIn(["server"],p(e,n,i))})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationPrefixes={pug:"PUG",nunjucks:"NUNJUCKS",markdown:"MARKDOWN",css_auto:"AUTOPREFIXER",scss:"SASS",sass:"SASS",less:"LESS",stylus:"STYLUS",js_babel:"BABEL",coffeescript:"COFFEESCRIPT",livescript:"LIVESCRIPT",typescript:"TYPESCRIPT"}},function(e,t,n){e.exports={"default":n(624),__esModule:!0}},,,function(e,t,n){var i=n(62);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){var r=e["return"];throw void 0!==r&&i(r.call(e)),t}}},function(e,t,n){var i=n(80),o=n(37)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},function(e,t,n){var i=n(37)("iterator"),o=!1;try{var r=[7][i]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},e(r)}catch(e){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=function(e,t){var n=!0;o["default"].Iterable.isIterable(e)||(e=o["default"].toJS(e),t=o["default"].toJS(t),n=!1);var i=e.get("user_id"),r=e.getIn(["restricted","project"]),a=e.get("team_id"),s=t.getIn(["user","id"]),l=i===s,u=void 0;if(r)u=!0;else if(a>0){var d=t.get("teams").find(function(e){return e.get("id")===a});u=!d}else u=!l;return n?e.set("readOnly",u):e.set("readOnly",u).toJS()},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clientToServerFile=t.initialFilesState=t.fileToClientFile=t.folderToClientFile=void 0;var o=n(39),r=i(o),a=n(11),s=i(a),l=n(10),u=i(l),d=n(148),c=n(125),f=i(c),p=n(317),v=["id","hashid","updated_at","created_at","level","client_file_path","url","size_kb","alternate_view","associated_files"],g=t.folderToClientFile=function(e){var t=v.reduce(function(t,n){return t[n]=e[n],t},{});return(0,s["default"])({},t,{clientId:e.client_id,parent:e.parent_client_id||"none",children:e.children_client_ids||[],settings:(0,d.folderSettingsFromFileName)(e.name)})},h=t.fileToClientFile=function(e){var t=v.reduce(function(t,n){return t[n]=e[n],t},{}),n=(0,s["default"])({},t,{id:e.id||0,clientId:e.client_id,parent:e.parent_client_id||"none",loading:!1,editable:!e.original_client_id,newestAddition:!1,processedFileId:e.processed_client_id||null,originalFileId:e.original_client_id||null,settings:(0,d.fileSettingsFromFileName)(e.name),diff:!1});return n.originalFileId&&(delete n.parent,delete n.level),n},_=function(e){return e.folder?g(e):h(e)},m=function(e,t){return!(!t.settings.compileTo||t.settings.partial||e[t.processedFileId])},y=function(e){return(0,r["default"])(e).reduce(function(t,n){var i=e[n],o=_(i);if(m(e,o)){var r=(0,f["default"])(o);t[r.clientId]=r,o.processedFileId=r.clientId}return t[n]=o,t},{})},E=(t.initialFilesState=function(e){var t=y(e.files?e.files.server||{}:{}),n=E(t);return u["default"].fromJS({client:{files:n,content:{}},server:{files:t,content:{}}},p.setsFromArrays)},function(e){var t=u["default"].fromJS(e).toJS();for(var n in t){var i=t[n];if(i.parent){var o=t[i.parent];o&&-1===o.children.indexOf(i.clientId)&&o.children.push(i.clientId)}}return t}),S=function(e){return"none"===e.parent?null:e.parent};t.clientToServerFile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={_destroy:n?"1":"",client_id:t.clientId,folder:"folder"===t.settings.type,id:t.id,level:t.level,name:t.settings.fileName,project_id:e,editable:null===t.originalFileId,parent_client_id:S(t),client_file_path:t.client_file_path,original_client_id:t.originalFileId,processed_client_id:t.processedFileId};return(t.content||""===t.content)&&(i.content=t.content),e<1&&delete i.project_id,i.id<1&&delete i.id,i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsCodes={TRACKER:"UA-30102653-2",TRACKER_OPTIONS:{cookieDomain:"auto"},ADD_NEW_FILE:{category:"project",action:"create",label:"file"},DELETE_FILE:{category:"project",action:"delete",label:"file"},BEAUTIFY_FILE:{category:"project",action:"tidy",label:"file"},ANALYZE_FILE:{category:"project",action:"analyze",label:"file"}}},function(e,t,n){var i,o,r,a=n(107),s=n(695),l=n(311),u=n(200),d=n(52),c=d.process,f=d.setImmediate,p=d.clearImmediate,v=d.MessageChannel,g=0,h={},_=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e],t()}},m=function(e){_.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return h[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete h[e]},"process"==n(108)(c)?i=function(e){c.nextTick(a(_,e,1))}:v?(o=new v,r=o.port2,o.port1.onmessage=m,i=a(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",m,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStatus=t.checkQueue=t.checkStatus=void 0;var i=n(41),o=n(35),r=n(14),a=n(149),s=t.checkStatus=function(e){return function(t,n){var i=n().ui.getIn(["processing","lastMessage"]);(!i||i<e)&&u(t,n)}},l=t.checkQueue=function(e){return function(t,n){var i=n().ui.getIn(["processing","queueId"]),o=n().ui.getIn(["processing","queue"]);i===e&&o.count()>0&&u(t,n)}},u=function(e,t){(0,a.logMessages)()&&console.log("Messagebus Timeout");var n=t().ui.get("openFiles"),s=t().ui.getIn(["processing","queue"]);e((0,o.reloadOpenProcessedFiles)(n,s)),e((0,r.clearAllProcessing)()),e((0,i.resaveFromQueues)()),e((0,r.failedToReceiveMessageBusResponse)())};t.updateStatus=function(e,t,n){var i=Date.now();t.setup?setTimeout(function(){e(s(i))},5e3):t.saveRequested&&(setTimeout(function(){e(s(i))},1e4),n&&setTimeout(function(){e(l(n))},18e4)),e((0,r.updateProcessingSaveStatus)(t))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRollbackState=t.rollbackUploadState=t.resetToPreviousState=void 0;var o=n(57),r=i(o),a=n(12),s=i(a);t.resetToPreviousState=function(e){var t=e.stateToReset,n=e.state;return{type:s["default"].ROLLBACK_STATE,payload:{stateToReset:t,state:n}}},t.rollbackUploadState=function(e,t){return{type:s["default"].ROLLBACK_UPLOAD_STATE,payload:{clientId:e,overwrite:t}}},t.getRollbackState=function(e,t){var n=e.project.project_files_attributes.map(function(e){return["files","server","files",e.client_id]});
return{stateToReset:[["project"]].concat((0,r["default"])(n)),state:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveUploadsOnSuccess=t.standardSaveProjectOnSuccess=void 0;var i=n(21),o=n(707),r=n(12),a=function(e){return e&&e.__esModule?e:{"default":e}}(r);t.standardSaveProjectOnSuccess=function(e,t,n){var r=(0,o.buildResponsePayload)(t,n);e((0,i.payloadAction)(a["default"].RECEIVE_PROJECT_SAVE_SUCCESS,r)),e((0,i.payloadAction)(a["default"].RECEIVE_FILES_SAVE_SUCCESS,r))},t.saveUploadsOnSuccess=function(e){var t=e.serverPayload,n=e.filesPayload,i=e.clientState;return{type:a["default"].RECEIVE_UPLOADS_SAVE_SUCCESS,payload:{serverPayload:t,filesPayload:n,client:i}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveProjectFile=t.getFilesToSaveArray=void 0;var i=n(57),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(41),a=function(e,t){return e.files.getIn(["client","files"]).toSet().filter(function(e){return e.get("originalFileId")===t}).union(e.files.getIn(["server","files"]).toSet().filter(function(e){return e.get("originalFileId")===t})).map(function(e){return e.get("clientId")}).toJS()},s=t.getFilesToSaveArray=function(e,t){for(var n=[],i=0;i<t.length;i++){var r=a(e,t[i]);n=[].concat((0,o["default"])(n),[t[i]],(0,o["default"])(r))}return n};t.saveProjectFile=function(e){return function(t,n){var i=n();i.project.get("id")<1||(Array.isArray(e)||(e=[e]),t((0,r.saveProject)({fileStateSegment:s(i,e)})))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://gmqxehjo54.execute-api.us-west-2.amazonaws.com/production";t.ANALYZE_URL=n+"/analyze",t.BEAUTIFY_URL=n+"/beautify"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openFiles=void 0;var i=n(30),o=function(e){return e.files.getIn(["client","files"])},r=function(e){return e.ui.get("openFiles")};t.openFiles=(0,i.createSelector)([o,r],function(e,t){return t.filter(function(t){return e.get(t)}).map(function(t){return e.get(t).withMutations(function(e){return e["delete"]("content")["delete"]("newestAddition")})})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("p",{className:"file-type-line"},void 0,(0,r["default"])("b",{},void 0,"HTML")," ",(0,r["default"])("span",{},void 0,".html")," ",(0,r["default"])("span",{title:"Markdown"},void 0,".md")," ",(0,r["default"])("span",{},void 0,".pug")," ",(0,r["default"])("span",{},void 0,".njk"))),l=(0,r["default"])("p",{className:"file-type-line"},void 0,(0,r["default"])("b",{},void 0,"CSS")," ",(0,r["default"])("span",{},void 0,".css")," ",(0,r["default"])("span",{},void 0,".less")," ",(0,r["default"])("span",{},void 0,".scss")," ",(0,r["default"])("span",{},void 0,".sass")," ",(0,r["default"])("span",{},void 0,".styl")),u=(0,r["default"])("b",{},void 0,"JavaScript"),d=(0,r["default"])("span",{},void 0,".js"),c=(0,r["default"])("span",{title:"CoffeeScript"},void 0,".coffee"),f=(0,r["default"])("span",{title:"LiveScript"},void 0,".ls"),p=(0,r["default"])("span",{title:"TypeScript"},void 0,".ts"),v=function(){return(0,r["default"])("div",{},void 0,s,l,(0,r["default"])("p",{className:"file-type-line"},void 0,u," ",d," ",c," ",f," ",p," "))};t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("div",{className:"loading-message"},void 0,(0,r["default"])("svg",{viewBox:"0 0 100 100",className:"icon icon-cloud"},void 0,(0,r["default"])("path",{id:"icon-save",d:"M84.187,44.046c0.084-0.753,0.114-1.52,0.114-2.289c0-13.402-10.814-24.257-24.154-24.257 c-10.354,0-19.161,6.551-22.599,15.754c-2.274-2.508-5.521-4.111-9.166-4.111c-6.872,0-12.439,5.59-12.439,12.493 c0,0.816,0.084,1.606,0.239,2.38C7.014,45.534,0,53.472,0,63.095C0,73.824,8.648,82.5,19.323,82.5h61.354 C91.351,82.5,100,73.824,100,63.095C100,53.59,93.177,45.715,84.187,44.046z"})),(0,r["default"])("span",{},void 0,"loading file"))),l=function(){return s};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("div",{className:"empty-preview"},void 0,(0,r["default"])("div",{className:"description"},void 0,(0,r["default"])("h3",{},void 0,"Nothing to see here"),(0,r["default"])("p",{},void 0,"You'll need to add a HTML or SVG file to your project before you can preview anything.")))),l=function(){return s};t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getURLToShow=function(e){var t,n=e.get("alternate_view"),i=new RegExp(e.getIn(["settings","fileName"])+"$");return t=n?e.get("url").replace(i,n):e.get("url"),t.replace(/^https?:/,document.location.protocol)+"?d="+(new Date).getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectUrls=void 0;var i=n(30),o=function(e){return e.project.getIn(["client","private"])},r=function(e){return e.project.get("hashid")},a=function(e){return e.project.get("slug_hash_private")},s=function(e){return e.project.get("owner")},l=function(e){return e.session.get("user")};t.projectUrls=(0,i.createSelector)([o,r,a,s,l],function(e,t,n,i,o){var r={editorUrl:null,detailsUrl:null,liveUrl:null,fullUrl:null,debugUrl:null},a=i.has("team")?"/team/"+i.getIn(["team","username"])+"/project/":"/"+i.get("username")+"/project/",s=!1;i.has("team")?o.get("current_team_id")===i.getIn(["team","id"])&&(s=!0):o.get("id")===i.get("id")&&(s=!0);var l=e?n+"/"+t:t;return r.editorUrl=a+"editor/"+l+"/",r.detailsUrl=a+"details/"+l+"/",i.get("paid")&&(r.liveUrl=a+"live/"+l+"/"),r.fullUrl=a+"full/"+l+"/",s&&(r.debugUrl=a+"debug/"+l+"/"),r})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(807),y=i(m),E=n(810),S=i(E),I=n(814),b=i(I),O=(n(26),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!this.props.file.equals(e.file)}},{key:"render",value:function(){var e=12*this.props.file.get("level");return"folder"===this.props.file.getIn(["settings","type"])?_["default"].createElement(b["default"],(0,r["default"])({},this.props,{indent:e})):this.props.file.get("processedFile")?_["default"].createElement(y["default"],(0,r["default"])({},this.props,{indent:e})):_["default"].createElement(S["default"],(0,r["default"])({},this.props,{indent:e}))}}]),t}(h.Component));t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(14),r=n(35),a=n(33),s=n(808),l=function(e){return e&&e.__esModule?e:{"default":e}}(s),u=function(e,t){return{file:t.file,files:e.files.getIn(["client","files"]),processorSettings:e.project.getIn(["client","processor_settings"])}},d=function(e){return{interactionHandlers:{onRenameComplete:function(t,n,i){n&&(e((0,r.updateFileName)(t,n,i)),e((0,r.saveProjectFile)(t))),e((0,o.setRenamingFile)(null))},duplicateFileName:function(t,n){e((0,o.openMessageModal)({style:"error",copy:a.modals.copy.DUPLICATE_FILE(t,n)}))},fileNamingRestrictionError:function(t,n){e((0,o.openMessageModal)({style:"error",copy:a.modals.copy[t](n)}))}}}},c=(0,i.connect)(u,d)(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(5),r=i(o),a=n(811),s=i(a);t["default"]=function e(t,n,i){null===t&&(t=Function.prototype);var o=(0,s["default"])(t,n);if(void 0===o){var a=(0,r["default"])(t);return null===a?void 0:e(a,n,i)}if("value"in o)return o.value;var l=o.get;return void 0!==l?l.call(i):void 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(9),s=n(14),l=n(35),u=n(33),d=n(815),c=i(d),f=function(e,t){return(0,r["default"])({},t,{files:e.files.getIn(["client","files"]),dragging:e.ui.get("fileDragging"),processorSettings:e.project.getIn(["client","processor_settings"]),creatingFile:e.ui.get("creatingFile"),modalOpen:e.ui.get("popups").has("modal")})},p=function(e){return{interactionHandlers:{duplicateFileName:function(t,n){e((0,s.openMessageModal)({style:"error",copy:u.modals.copy.DUPLICATE_FILE(t,n)}))},fileNamingRestrictionError:function(t,n){e((0,s.openMessageModal)({style:"error",copy:u.modals.copy[t](n)}))},onNewFileInputSubmit:function(t){e((0,l.addNewFile)(t)),e((0,s.finishedCreateNewFile)()),e("none"!==t.item.parent?(0,l.saveProjectFile)([t.item.clientId,t.item.parent]):(0,l.saveProjectFile)(t.item.clientId))},onNewFileInputChange:function(t){var n=t.type,i=t.fileName;e((0,s.newFileNameUpdate)({type:n,fileName:i}))},onNewFileInputCancel:function(){e((0,s.newFileNameCancel)())}}}},v=(0,a.connect)(f,p)(c["default"]);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileObject=void 0;var i=n(125),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(148),a=n(32);t.createFileObject=function(e,t){var n=(0,a.cleanFileName)(e.fileName),i={id:e.id||0,clientId:e.clientId,settings:(0,r.fileSettingsFromFileName)(n,t),diff:!0,editable:!0,content:e.content||"",parent:e.parent||"none",level:e.level||0,newestAddition:!0};if(i.settings.compileTo&&!i.settings.partial){var s=(0,o["default"])(i);return i.processedFileId=s.clientId,{item:i,processedItem:s}}return{item:i}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFolderObject=function(e){return{item:{id:e.id||0,clientId:e.clientId,settings:{fileName:e.fileName,type:"folder"},children:e.children||[],level:e.level||0,parent:e.parent}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortFiles=function(e){return e.sort(function(e,t){var n=e.get("settings"),i=t.get("settings");return"folder"!==n.get("type")&&"folder"===i.get("type")?1:"folder"===n.get("type")&&"folder"!==i.get("type")?-1:n.get("fileName")<i.get("fileName")?-1:n.get("fileName")>i.get("fileName")?1:void 0})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(350),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),n(81)),S=n(23),I=n(258),b=n(835),O=i(b),P=(n(26),(0,r["default"])(O["default"],{})),C=function(e){function t(e,n){(0,c["default"])(this,t);var i=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return(0,S.bindToContext)(i,"onDragEnter","onDragOver","onDragLeave"),i.state={isActive:!1},i}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){var e=this;this.enteredElements=0,this.enteredElementsList=[],(0,s["default"])(this.props.dropHandler.prototype).forEach(function(t){e[t]||(e[t]=e.props.dropHandler.prototype[t]),(0,S.bindToContext)(e,t)})}},{key:"componentDidUpdate",value:function(){this.props.manuallyUploadedFiles&&this.props.manuallyUploadedFiles.length>0&&this.onManualUpload(this.props.manuallyUploadedFiles)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.enteredElementsList.indexOf(e.target)&&(e.target.classList.contains("file-dropper-interface")?(this.enteredElementsList=[e.target],this.enteredElements=1):(this.enteredElementsList.push(e.target),++this.enteredElements),(0,I.dragItemsAreFiles)(e)&&this.setState({isActive:!0}))}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragLeave",value:function(e){e.preventDefault(),-1!==this.enteredElementsList.indexOf(e.target)&&(this.enteredElementsList.splice(this.enteredElementsList.indexOf(e.target),1),--this.enteredElements>0||this.setState({isActive:!1}))}},{key:"render",value:function(){var e,t=this.state.isActive,n="drop-wrapper";return t&&(n+=" active",e=P),(0,r["default"])("div",{className:n,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},void 0,this.props.children,(0,r["default"])(E.CSSTransitionGroup,{transitionName:"grow-in",transitionEnterTimeout:450,transitionLeaveTimeout:450},void 0,e))}}]),t}(m.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(823),__esModule:!0}},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),function(e){return(0,r["default"])("a",{className:e.selectedTab===e.tab?"active":"",onClick:function(){return e.onTabClick(e.tab)}},void 0,e.label)});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("span",{className:"badge badge-pro"},void 0,"PRO")),u=(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"/pro/",className:"button green",target:"_blank",rel:"noopener"},void 0,"Go PRO")),d=function(e){return(0,r["default"])("div",{className:"upgrade"},void 0,(0,r["default"])("h2",{},void 0,e.feature," is a ",l," feature."),(0,r["default"])("p",{},void 0,e.prompt),u)};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(16)),y=i(m),E=(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(y["default"],{icon:"spinner"})),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.classes!==e.classes||this.props.spinning!==e.spinning||this.props.label!==e.label||this.props.disabled!==e.disabled}},{key:"clickHandler",value:function(e){e&&e.preventDefault(),this.props.onClick()}},{key:"render",value:function(){var e=this,t="button deploy-btn "+this.props.classes;return this.props.spinning&&(t+=" spinning"),(0,r["default"])("button",{className:t,disabled:this.props.disabled,onClick:function(t){return e.clickHandler(t)}},void 0,(0,r["default"])("span",{className:"label"},void 0,this.props.label),E)}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(98),e.exports=n(595)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),r=i(o),a=n(608),s=i(a),l=n(0),u=(i(l),n(112)),d=n(685),c=n(151),f=n(114),p=n(31),v=n(253),g=n(250),h=n(732),_=i(h),m=(0,s["default"])();(0,f.initPubNubMessenger)(m.dispatch,m.getState),(0,c.initMessenger)(m.dispatch,m.getState),(0,u.initErrorHandling)(m.getState()),(0,d.trackProjectPageView)(m.getState().session.get("user")),m.dispatch((0,g.startContainer)()),window.store=m,delete v.AppContainer.prototype.unstable_handleError;var y=document.querySelector(".project-loading");y&&y.remove(),(0,p.render)((0,r["default"])(v.AppContainer,{},void 0,(0,r["default"])(_["default"],{store:m})),document.getElementById("app"))},,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(609)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){return(0,r.createStore)(u["default"],(0,c["default"])(),(0,r.applyMiddleware)(s["default"],p["default"]))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var r=n(77),a=n(105),s=i(a),l=n(610),u=i(l),d=n(128),c=i(d),f=n(684),p=i(f);e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),r=n(611),a=i(r),s=n(630),l=i(s),u=n(647),d=i(u),c=n(675),f=i(c),p=n(679),v=i(p),g=n(683),h=i(g),_=(0,o.combineReducers)({files:a["default"],ui:l["default"],project:d["default"],session:f["default"],assets:v["default"],requests:h["default"]});t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(316),s=i(a),l=n(615),u=i(l),d=n(616),c=i(d),f=n(619),p=i(f),v=n(621),g=i(v),h=n(318),_=i(h),m=n(319),y=i(m),E=n(622),S=i(E),I=n(623),b=i(I),O=n(629),P=i(O),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case r["default"].ADD_NEW_FILE:return s.file(e,t);case r["default"].ADD_NEW_FILES_AND_FOLDERS:return s.filesAndFolders(e,t);case r["default"].RECEIVE_CLONE_SUCCESS:return P.cloneFilesSuccess(e,t);case r["default"].RECEIVE_CLONE_FAILURE:return P.cloneFilesFailure(e,t);case r["default"].UPLOADS_PROCESS_COMPLETE:return u.complete(e,t);case r["default"].UPDATE_FILE_CONTENT:return c.fileContent(e,t);case r["default"].RESET_FILE_CONTENT:return c.fileContentToSaved(e,t);case r["default"].UPDATE_FILE_ERRORS:return c.fileErrors(e,t);case r["default"].ADD_FILE_ERROR:return c.addFileError(e,t);case r["default"].BABEL_ENTRY_FILE_ERROR:return c.babelEntryFileError(e,t);case r["default"].CLEAR_FILE_ERRORS:return c.clearFileErrors(e,t);case r["default"].SET_FILE_CONTENT_TO_LOADING:return c.fileContentLoading(e,t);case r["default"].SET_FILE_CONTENT_LOAD_ERROR:return c.fileContentLoadError(e,t);case r["default"].FLUSH_FILES_CONTENT:return c.flushFilesContent(e,t);case r["default"].UPDATE_FILE_NAME:return p.updateFileName(e,t);case r["default"].UPDATE_NEWEST_FILE:return p.updateNewest(e,t);case r["default"].UPDATE_MEDIA_FILES:return p.updateMedia(e,t);case r["default"].UPDATE_DRAGGED_FILE_LOCATION:return g.updateDragged(e,t);case r["default"].DELETE_FILE:return _.deleteFile(e,t);case r["default"].DELETE_FILES:return _.deleteFiles(e,t);case r["default"].RECEIVE_FILES_SAVE_SUCCESS:return y.saveFiles(e,t);case r["default"].ROLLBACK_STATE:return b.rollbackState(e,t);case r["default"].ROLLBACK_UPLOAD_STATE:return b.rollbackUpload(e,t);case r["default"].UPDATE_PROJECT:return S.updatedSettings(e,t);case r["default"].FILE_STARTED_PROCESSING:return S.fileStartedProcessing(e,t);case r["default"].FILE_FINISHED_COMPILING:return S.fileFinishedCompiling(e,t);case r["default"].FILE_FINISHED_PROCESSING:return S.fileFinishedProcessing(e,t);case r["default"].RELOAD_OPEN_PROCESSED_FILES:return S.reloadOpenProcessedFiles(e,t);case r["default"].CLEAR_ALL_PROCESSING_INDICATORS:return S.clearFiles(e,t);default:return e}};t["default"]=C,e.exports=t["default"]},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.complete=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.complete=function(e,t){return e.withMutations(function(n){t.payload.uploaded.map(function(t){t=t.withMutations(function(e){e.set("newestAddition",!1),e.set("diff",!1)});var i=["client","files",t.get("clientId")],r=["server","files",t.get("clientId")],a=e.getIn(i)||o["default"].Map({}),s=e.getIn(r)||o["default"].Map({});n.setIn(i,a.mergeDeep(t)),n.setIn(r,s.mergeDeep(t))})})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flushFilesContent=t.fileContentLoadError=t.fileContentLoading=t.clearFileErrors=t.babelEntryFileError=t.addFileError=t.fileErrors=t.fileContentToSaved=t.fileContent=void 0;var o=n(39),r=i(o),a=n(10),s=i(a),l=n(32),u=function(e,t,n){var i=[t,"files",n.payload.clientId];e.updateIn(i,function(t){return t=t.withMutations(function(t){var i=e.getIn(["server","content",n.payload.clientId,"content"]);n.payload.fromLoad||t.set("diff",n.payload.content!==i),!1===n.payload.loading&&t.set("loading",!1)})})},d=function(e,t,n){var i=[t,"content",n.payload.clientId];(n.payload.content||""===n.payload.content)&&e.updateIn(i,function(e){return e?e=e.withMutations(function(e){e.set("content",n.payload.content),!1===n.payload.loading&&(e["delete"]("loadError"),e["delete"]("loadingContent"))}):s["default"].fromJS({content:n.payload.content,errors:[]})})},c=(t.fileContent=function(e,t){return e.withMutations(function(n){e.getIn(["client","content",t.payload.clientId,"content"])!==t.payload.content&&(u(n,"client",t),d(n,"client",t)),t.payload.fromLoad&&n.setIn(["server","content",t.payload.clientId],n.getIn(["client","content",t.payload.clientId])),t.payload.fromUploadFileRead&&n.setIn(["server","content",t.payload.clientId],"")})},t.fileContentToSaved=function(e,t){var n=e.getIn(["server","content",t.payload.clientId]),i=n?n.get("content"):"";return e.withMutations(function(e){e.setIn(["client","content",t.payload.clientId,"content"],i).setIn(["client","files",t.payload.clientId,"diff"],!1)})},t.fileErrors=function(e,t){return e.withMutations(function(e){var n=t.payload.errors.length>0;e.setIn(["client","content",t.payload.clientId,"errors"],s["default"].List(t.payload.errors)),e.setIn(["client","files",t.payload.clientId,"has_errors"],n),e.getIn(["server","files",t.payload.clientId])&&e.setIn(["server","files",t.payload.clientId,"has_errors"],n)})},t.addFileError=function(e,t){return e.withMutations(function(n){var i=e.getIn(["client","files"]).find(function(e){return e.get("client_file_path")===t.payload.error.file});i&&c(i,n,t.payload.error)})},function(e,t,n){var i=e.get("clientId"),o=e.get("errors")||s["default"].List();o=o.push(n),t.getIn(["client","content",i])&&t.setIn(["client","content",i,"errors"],o),t.setIn(["client","files",i,"has_errors"],!0)});t.babelEntryFileError=function(e){return e.withMutations(function(t){e.getIn(["client","files"]).map(function(e){if("js"===e.getIn(["settings","type"])){var n={file:e.get("client_file_path"),message:["You need to add a valid entry file for Babel processing to work. Update your project Settings."],line:0,column:0};c(e,t,n)}})})},t.clearFileErrors=function(e,t){return e.withMutations(function(n){var i=e.getIn(["client","files"]);(0,r["default"])(t.payload).length>0&&(i=e.getIn(["client","files"]).filter(function(e){if("folder"===e.getIn("settings","type"))return!1;var n=(0,l.fileNameExtension)(e.getIn(["settings","fileName"]));return!0===t.payload[n]})),i.map(function(e){n.setIn(["client","content",e.get("clientId"),"errors"],s["default"].List()).setIn(["client","files",e.get("clientId"),"has_errors"],!1),n.getIn(["server","files",e.get("clientId")])&&n.setIn(["server","files",e.get("clientId"),"has_errors"],!1)})})},t.fileContentLoading=function(e,t){return e.withMutations(function(e){t.payload.files.map(function(t){e.getIn(["client","content",t])?(e.setIn(["client","content",t,"loadingContent"],!0),e.deleteIn(["client","content",t,"loadError"],!1)):e.setIn(["client","content",t],s["default"].Map({loadingContent:!0}))})})},t.fileContentLoadError=function(e,t){return e.withMutations(function(e){e.setIn(["client","content",t.payload.clientId,"loadError"],!0),e.deleteIn(["client","content",t.payload.clientId,"loadingContent"],!1)})},t.flushFilesContent=function(e,t){var n=t.payload.files;return e.withMutations(function(e){n.forEach(function(t){return e.deleteIn(["client","content",t]).deleteIn(["server","content",t]),t})})}},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateMedia=t.updateNewest=t.updateFileName=void 0;var o=n(10),r=i(o),a=n(148),s=n(125),l=i(s);t.updateFileName=function(e,t){var n=t.payload,i=n.clientId,o=n.fileName,s=n.processorSettings,u=e.getIn(["client","files",i]);if(u=u.set("diff",!0),"folder"===u.getIn(["settings","type"]))return u=u.setIn(["settings","fileName"],o),e.setIn(["client","files",i],u);var d=(0,a.fileSettingsFromFileName)(o,s);if(u=u.set("settings",r["default"].fromJS(d)),u.getIn(["settings","compileTo"])&&!u.getIn(["settings","partial"])){var c=r["default"].fromJS((0,l["default"])(u.toJS())),f=u.get("processedFileId"),p=f?e.getIn(["client","files",f]):null;if(p){var v=p.keySeq().toJS(),g=c.keySeq().toJS();v.map(function(e){-1===g.indexOf(e)&&(c=c.set(e,p.get(e)))}),c=c.set("clientId",p.get("clientId")),c=c.set("id",p.get("id"))}return f=c.get("clientId"),e.withMutations(function(e){e.setIn(["client","files",i],u.set("processedFileId",f)).setIn(["client","files",f],c)})}if(u.get("processedFileId")){var h=u.get("processedFileId");return u=u["delete"]("processedFileId"),e.withMutations(function(e){e.setIn(["client","files",i],u).deleteIn(["client","files",h]).deleteIn(["client","content",h])})}return e.setIn(["client","files",i],u)},t.updateNewest=function(e,t){return e.setIn(["client","files",t.payload.clientId,"newestAddition"],!1)},t.updateMedia=function(e,t){return e.withMutations(function(n){if(t.payload.files&&t.payload.files.map(function(e){n.setIn(["client","files",e,"onDisk"],t.payload.onDisk)}),t.payload.all&&e.getIn(["client","files"]).filter(function(e){return e.get("onDisk")!==t.payload.onDisk}).map(function(e){n.setIn(["client","files",e.get("clientId"),"onDisk"],t.payload.onDisk)}),t.payload.filePath){var i=e.getIn(["client","files"]).find(function(e){return e.get("client_file_path")===t.payload.filePath});i&&n.setIn(["client","files",i.get("clientId"),"onDisk"],t.payload.onDisk)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={html:[{name:"None",type:"none",extensions:["html"]},{name:"Markdown",type:"markdown",extensions:["md"]},{name:"Pug",type:"pug",extensions:["pug"]},{name:"Nunjucks",type:"nunjucks",extensions:["njk"]}],css:[{name:"None",type:"none",extensions:["css"]},{name:"SCSS",type:"scss",extensions:["scss"]},{name:"Stylus",type:"stylus",extensions:["styl"]},{name:"Less",type:"less",extensions:["less"]},{name:"Sass",type:"sass",extensions:["sass"]}],js:[{name:"None",type:"none",extensions:["js"]},{name:"CoffeeScript",type:"coffeescript",extensions:["coffee"]},{name:"LiveScript",type:"livescript",extensions:["ls"]},{name:"TypeScript",type:"typescript",extensions:["ts"]}]};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDragged=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(95),a=function(e){return!e||"folder"!==e.getIn(["settings","type"])},s=function(e,t,n){var i={parent:"none",level:0};return a(n)||(i={parent:n.get("clientId"),level:n.get("level")+1}),t.merge(o["default"].Map(i))},l=function(e,t,n){var i=e.getIn(["client","files"]),o=(0,r.getAllChildren)(i,t),a=n.get("level")-t.get("level");o.length>0&&o.forEach(function(t){return e.setIn(["client","files",t.get("clientId"),"level"],t.get("level")+a),t})},u=function(e,t,n){if(n){var i=n.get("children").add(t.get("clientId"));e.setIn(["client","files",n.get("clientId")],n.set("children",i))}},d=function(e,t){var n=e.getIn(["client","files",t.get("parent")]);if(n){var i=n.get("children"),o=i["delete"](t.get("clientId"));e.setIn(["client","files",n.get("clientId")],n.set("children",o))}};t.updateDragged=function(e,t){var n=t.payload,i=n.targetFileClientId,o=n.droppedFileClientId,r=e.getIn(["client","files",o]),a=e.getIn(["client","files",i]);return e.withMutations(function(e){var t=s(0,r,a);e.setIn(["client","files",t.get("clientId")],t),l(e,r,t),u(e,t,a),d(e,r)})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reloadOpenProcessedFiles=t.clearFiles=t.fileFinishedCompiling=t.fileFinishedProcessing=t.fileStartedProcessing=t.updatedSettings=void 0;var o=n(125),r=i(o),a=n(10),s=i(a),l=n(320),u=(t.updatedSettings=function(e,t){var n=t.payload.oldSettings?t.payload.oldSettings.get("processor_settings"):null,i=t.payload.newSettings.processor_settings;return i?(i=s["default"].fromJS(i),e.withMutations(function(e){(i.has("babel")||i.has("entry_file"))&&u(i,e,"babel","js",n),i.has("autoprefixer")&&u(i,e,"autoprefixer","css")})):e},function(e,t,n,i,o){var r=t.getIn(["client","files"]),a=r.filter(function(e){return e.getIn(["settings","type"])===i&&(null===e.get("originalFileId")||void 0===e.get("originalFileId"))&&"_"!==e.getIn(["settings","fileName"]).charAt(0)});(e.has(n)?!0===e.get(n):!0===o.get(n))?"babel"===n?d({old_settings:o,processor_settings:e,clientFilesofType:a,mutableState:t,fileType:i}):a.map(function(e){e.get("processedFileId")||c(e,i,t)}):a.map(function(e){null!==e.get("processedFileId")&&f(e,i,t)})}),d=function(e){var t=e.old_settings,n=e.processor_settings,i=e.clientFilesofType,o=e.mutableState,r=e.fileType,a=t?t.get("entry_file"):"";n.has("entry_file")&&(a=n.get("entry_file")),i.map(function(e){e.has("client_file_path")&&e.get("client_file_path")===a?e.get("processedFileId")||c(e,r,o):null!==e.get("processedFileId")&&f(e,r,o)})},c=function(e,t,n){var i=void 0,o=e.withMutations(function(e){e.setIn(["settings","compileTo"],t),i=(0,r["default"])(e.toJS()),e.set("processedFileId",i.clientId)});o.equals(e)||n.setIn(["client","files",e.get("clientId")],o.set("diff",!0)).setIn(["client","files",i.clientId],s["default"].fromJS(i))},f=function(e,t,n){n.deleteIn(["client","files",e.get("processedFileId")]);var i=e.withMutations(function(e){e.deleteIn(["settings","compileTo"])["delete"]("processedFileId")});i.equals(e)||n.setIn(["client","files",e.get("clientId")],i.set("diff",!0))};t.fileStartedProcessing=function(e,t){return e.withMutations(function(n){var i=e.getIn(["client","files"]).find(function(e){return e.get("client_file_path")===t.payload.filePath});return i&&n.setIn(["client","files",i.get("clientId"),"processing"],!0),i&&n.setIn(["server","files",i.get("clientId"),"processing"],!0),n})},t.fileFinishedProcessing=function(e,t){return e.withMutations(function(n){var i=e.getIn(["client","files"]).find(function(e){return e.get("client_file_path")===t.payload.filePath});return i&&i.get("originalFileId")&&(i=e.getIn(["client","files",i.get("originalFileId")])),i&&n.deleteIn(["client","files",i.get("clientId"),"processing"]),i&&n.deleteIn(["server","files",i.get("clientId"),"processing"]),n})},t.fileFinishedCompiling=function(e,t){return e.withMutations(function(n){var i=e.getIn(["client","files"]).find(function(e){return e.get("client_file_path")===t.payload.filePath});return i&&i.get("originalFileId")&&n.deleteIn(["client","content",i.get("clientId")]),n})},t.clearFiles=function(e){var t=e.getIn(["client","files"]).filter(function(e){return!0===e.get("processing")});return e.withMutations(function(e){t.map(function(t){e.deleteIn(["client","files",t.get("clientId"),"processing"]),e.deleteIn(["server","files",t.get("clientId"),"processing"])})})},t.reloadOpenProcessedFiles=function(e,t){var n=t.payload,i=n.openFiles,o=n.typesInQueue,r=e.getIn(["client","files"]).filter(function(e,t){return void 0!==i.find(function(e){return e===t})}),a=r.filter(function(t){if(t.get("originalFileId")){var n=e.getIn(["client","files",t.get("originalFileId")]),i=l.notificationPrefixes[n.getIn(["settings","type"])];return void 0!==o.find(function(e){return e===i})}return!1});return e.withMutations(function(e){a.map(function(t){e.deleteIn(["client","content",t.get("clientId")])})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rollbackUpload=t.rollbackState=void 0;var i=n(57),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.rollbackState=function(e,t){var n=t.payload.state.files;return e.withMutations(function(e){t.payload.stateToReset.forEach(function(t){if("files"===t[0]){var i=[].concat((0,o["default"])(t));i.shift();var r=i.map(function(e){return"server"===e?"client":e});if(n.getIn(i)){var a=[].concat((0,o["default"])(r),["diff"]),s=n.getIn(a);e.setIn(r,n.getIn(i)),e.setIn(a,s)}else e.setIn([].concat((0,o["default"])(r),["diff"]),!0)}})})},t.rollbackUpload=function(e,t){return e.withMutations(function(e){t.payload.overwrite?e.setIn(["client","files",t.payload.clientId],e.getIn(["server","files",t.payload.clientId])):(e.deleteIn(["client","files",t.payload.clientId]),
e.deleteIn(["client","content",t.payload.clientId]))})}},function(e,t,n){n(96),n(627),e.exports=n(20).Array.from},,,function(e,t,n){"use strict";var i=n(107),o=n(53),r=n(124),a=n(324),s=n(325),l=n(206),u=n(628),d=n(127);o(o.S+o.F*!n(326)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,c,f=r(e),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,_=0,m=d(f);if(h&&(g=i(g,v>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(t=l(f.length),n=new p(t);t>_;_++)u(n,_,h?g(f[_],_):f[_]);else for(c=m.call(f),n=new p;!(o=c.next()).done;_++)u(n,_,h?a(c,g,[o.value,_],!0):o.value);return n.length=_,n}})},function(e,t,n){"use strict";var i=n(68),o=n(123);e.exports=function(e,t,n){t in e?i.f(e,t,o(0,n)):e[t]=n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneFilesSuccess=function(e,t){return e.withMutations(function(e){e.setIn(["client","files"],t.payload.files.getIn(["client","files"])),e.setIn(["server","files"],t.payload.files.getIn(["server","files"]))})},t.cloneFilesFailure=function(e){return e}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(631),s=i(a),l=n(632),u=i(l),d=n(633),c=i(d),f=n(634),p=i(f),v=n(635),g=i(v),h=n(636),_=i(h),m=n(637),y=i(m),E=n(638),S=i(E),I=n(639),b=i(I),O=n(640),P=i(O),C=n(641),M=i(C),F=n(642),T=i(F),A=n(643),k=i(A),N=n(644),j=i(N),D=n(645),L=i(D),w=n(646),R=i(w),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r["default"].SET_EDITING:return s.setEditing(e,t);case r["default"].SET_SIDEBAR_SELECTED:return s.setSidebarSelected(e,t);case r["default"].TOGGLE_FOLDER_OPEN_STATE:return s.toggleFolderOpenState(e,t);case r["default"].SET_RENAMING_FILE:return s.setRenaming(e,t);case r["default"].ADD_OPEN_FILE:return u.addOpenFile(e,t);case r["default"].SET_OPEN_FILES:return u.setOpenFiles(e,t);case r["default"].UPDATE_FILE_DRAGGING_STATE:return p.updateFileDraggingState(e,t);case r["default"].UPDATE_FILE_DRAGGING_OVER_STATE:return p.updateFileDraggingOverState(e,t);case r["default"].MANUAL_FILE_UPLOAD:return k.updateFiles(e,t);case r["default"].ADD_GULP_LOG:return S.addGulpLog(e,t);case r["default"].SET_GULP_CONSOLE_OPEN_STATE:return S.setGulpConsoleOpenState(e,t);case r["default"].CLEAR_GULP_CONSOLE:return S.clearGulpConsole(e);case r["default"].CREATE_NEW_FILE:return c.createNewFile(e,t);case r["default"].FINISHED_CREATING_NEW_FILE:return c.finishedCreatingNewFile(e,t);case r["default"].UPDATE_NEW_FILE_NAME:return c.updateNewFile(e,t);case r["default"].CANCEL_NEW_FILE_NAME:return c.cancel(e,t);case r["default"].TOGGLE_DIALOG:return g.toggleDialog(e,t);case r["default"].CLOSE_THIS_DIALOG:return g.closeThisDialog(e,t);case r["default"].CLOSE_ALL_POPUPS:return g.closeAllPopups(e);case r["default"].CLOSE_ALL_MODALS:return g.closeAllModals(e);case r["default"].SET_PROJECT_DELETE_DIALOG_INPUT:return g.setProjectDeleteDialogInput(e,t);case r["default"].OPEN_MODAL:return g.openModal(e,t);case r["default"].ADD_MESSAGE:return g.setPopupMessage(e,t);case r["default"].CLEAR_MESSAGES:return g.clearPopupMessage(e);case r["default"].SET_PROJECT_TITLE_EDITING_STATE:return _.setProjectTitleEditingState(e,t);case r["default"].SET_LAYOUT_STATE:return _.setLayoutState(e,t);case r["default"].SET_CANCELLED_RENDER:return _.setCancelledRender(e,t);case r["default"].SET_RENDERING_FILE:return _.setRenderingFile(e,t);case r["default"].TRIGGER_RENDER:return _.triggerRender(e,t);case r["default"].UPDATE_FILE_SEARCH:return b.updateFileSearch(e,t);case r["default"].SET_FILE_SEARCH:return b.setFileSearch(e,t);case r["default"].UPDATE_FILES_ACTIVE_FILE:return b.updateFilesActiveFile(e,t);case r["default"].UPDATE_RESOURCE_SEARCH_TYPE:return P.updateSearchType(e,t);case r["default"].UPDATE_RESOURCE_SEARCH_TERM:return P.updateSearchTerm(e,t);case r["default"].UPDATE_RESURCE_SEARCH_RESULTS:return P.updateSearchResults(e,t);case r["default"].TOGGLE_EXTERNAL_RESOURCES:return P.toggleResources(e);case r["default"].RECIEVE_PROJECT_UI_STATE_SAVE_SUCCESS:return y.receivedUIStateSuccess(e,t);case r["default"].UPDATE_PROCESSING_QUEUE:return M.updateQueue(e,t);case r["default"].UPDATE_PROCESSING_SAVE_STATUS:return M.updateStatus(e,t);case r["default"].CLEAR_ALL_PROCESSING_INDICATORS:return M.clearAll(e,t);case r["default"].UPDATE_S3_UPLOADS:return M.updateUploads(e,t);case r["default"].UPDATE_MEDIA_FILES:return M.mediaFinished(e,t);case r["default"].NO_MESSAGE_BUS_RESPONSE:return M.noMessageBus(e,t);case r["default"].SET_SPINNING_STATE:return T.setSpinningState(e,t);case r["default"].DEPLOYMENT_IN_PROGRESS:return j.updateDeploymentState(e,t);case r["default"].FAILED_TO_DEPLOY:return j.failed(e,t);case r["default"].UPDATE_CNAME_STATUS:return j.updateCNAMEStatus(e,t);case r["default"].OPEN_CONTEXT_MENU:return L.openMenu(e,t);case r["default"].CLOSE_CONTEXT_MENU:return L.closeMenu(e,t);case r["default"].UPDATE_EXPORT_STATUS:return R.updateStatus(e,t);default:return e}};t["default"]=U,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRenaming=t.toggleFolderOpenState=t.setSidebarSelected=t.setEditing=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setEditing=function(e,t){return e.set("editing",t.payload.clientId)},t.setSidebarSelected=function(e,t){var n=t.payload.parent||"none";0===n&&(n="none");var i=t.payload.level||0,r=o["default"].fromJS({selected:{clientId:t.payload.clientId,parent:n,level:i}});return t.payload.setEditing&&(r=r.set("editing",t.payload.clientId)),e.merge(r)},t.toggleFolderOpenState=function(e,t){var n=t.payload.folderID;return e.get("openFolders").includes(n)?e.set("openFolders",e.get("openFolders")["delete"](n)):e.set("openFolders",e.get("openFolders").add(n))},t.setRenaming=function(e,t){return e.setIn(["renaming","clientId"],t.payload.clientId)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOpenFiles=t.addOpenFile=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.addOpenFile=function(e,t){return e.set("openFiles",e.get("openFiles").add(t.payload.clientId))},t.setOpenFiles=function(e,t){return e.withMutations(function(e){e.set("openFiles",t.payload.openFiles),t.payload.selectedFile&&(e.set("editing",t.payload.selectedFile.clientId),e.set("selected",o["default"].Map(t.payload.selectedFile)))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancel=t.finishedCreatingNewFile=t.updateNewFile=t.createNewFile=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.createNewFile=function(e,t){var n=e.getIn(["selected","level"]),i=e.getIn(["selected","parent"]),r=o["default"].fromJS({creatingFile:{on:!0,level:n,parent:i,fileName:"",type:t.payload.type},selected:{clientId:"new-file",level:n,parent:i}});return"none"!==i&&(r=r.set("openFolders",e.get("openFolders").add(i))),e.merge(r)},t.updateNewFile=function(e,t){var n=o["default"].fromJS({on:!0,fileName:t.payload.fileName,type:t.payload.type});return e.set("creatingFile",e.get("creatingFile").merge(n))},t.finishedCreatingNewFile=function(e){var t=o["default"].fromJS({creatingFile:{on:!1,fileName:""}});return e.merge(t)},t.cancel=function(e){var t=o["default"].fromJS({creatingFile:{on:!1,fileName:""}});return"new-file"===e.get("editing")&&(t=t.withMutations(function(e){e.set("selected",o["default"].Map({clientId:"none",level:0,parent:"none"})).set("editing","none")})),e.merge(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFileDraggingOverState=t.updateFileDraggingState=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=function(e,t){return e.set("fileDragging",e.get("fileDragging").merge(t))};t.updateFileDraggingState=function(e,t){var n=t.payload.active?t.payload.clientId:null;return r(e,o["default"].Map({clientId:n}))},t.updateFileDraggingOverState=function(e,t){var n=t.payload.active?t.payload.clientId:null;return r(e,o["default"].Map({overClientId:n}))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleDialog=function(e,t){return t.payload.dialog?e.setIn(["popups","dialog"],t.payload.dialog):e.deleteIn(["popups","dialog"])},t.closeAllModals=function(e){return e.deleteIn(["popups","modal"])},t.closeAllPopups=function(e){return e.withMutations(function(e){e.deleteIn(["popups","modal"]).deleteIn(["popups","dialog"])})},t.closeThisDialog=function(e,t){var n=t.payload.dialog===e.getIn(["popups","dialog"])?"":e.getIn(["popups","dialog"]);return e.setIn(["popups","dialog"],n)},t.setProjectDeleteDialogInput=function(e,t){return e.set("projectDeleteDialogInput",t.payload.value)},t.openModal=function(e,t){return e.setIn(["popups","modal"],t.payload)},t.setPopupMessage=function(e,t){return e.setIn(["popups","message"],t.payload.text)},t.clearPopupMessage=function(e){return e.deleteIn(["popups","message"])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerRender=t.setCancelledRender=t.setRenderingFile=t.setLayoutState=t.setProjectTitleEditingState=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setProjectTitleEditingState=function(e,t){return e.setIn(["projectTitleEditor","editing"],t.payload.editing)},t.setLayoutState=function(e,t){return e.set("layout",e.get("layout").withMutations(function(e){for(var n in t.payload.layoutState)e.set(n,t.payload.layoutState[n])}))},t.setRenderingFile=function(e,t){return e.withMutations(function(e){e.set("renderingFile",t.payload.renderingFile),e.set("render",o["default"].Map({render:Date.now(),auto:!1}))})},t.setCancelledRender=function(e,t){return e.withMutations(function(e){e.set("cancelledRender",t.payload.value)})},t.triggerRender=function(e,t){return e.set("render",o["default"].Map({render:Date.now(),auto:t.payload.auto}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receivedUIStateSuccess=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.receivedUIStateSuccess=function(e,t){return e.get("id")>0?e:e.merge(o["default"].Map({id:t.payload.ui.id,hashid:t.payload.ui.hashid,user_id:t.payload.ui.user_id,project_id:t.payload.ui.project_id}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearGulpConsole=t.addGulpLog=t.setGulpConsoleOpenState=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.setGulpConsoleOpenState=function(e,t){return e.set("gulpConsoleOpen",t.payload.state)},t.addGulpLog=function(e,t){return e.withMutations(function(e){e.set("gulpLogs",e.get("gulpLogs").push(t.payload.log)),e.get("gulpLogs").count()>100&&e.set("gulpLogs",e.get("gulpLogs").shift())})},t.clearGulpConsole=function(e){return e.set("gulpLogs",o["default"].List())}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFileSearch=function(e,t){return e.setIn(["search","filesTerm"],t.payload.term)},t.setFileSearch=function(e,t){return e.setIn(["search","filesIsActive"],t.payload.filesIsActive)},t.updateFilesActiveFile=function(e,t){return e.setIn(["search","filesActiveFile"],t.payload.filesActiveFile)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchTerm=function(e,t){return e.setIn(["resources","searchTerm"],t.payload.searchTerm)},t.updateSearchType=function(e,t){return e.setIn(["resources","searchType"],t.payload.type)},t.updateSearchResults=function(e,t){return e.withMutations(function(e){e.setIn(["resources","results"],t.payload.results).setIn(["resources","resultsType"],t.payload.type)})},t.toggleResources=function(e){return e.setIn(["resources","open"],!e.getIn(["resources","open"]))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.noMessageBus=t.mediaFinished=t.updateUploads=t.clearAll=t.updateStatus=t.updateQueue=void 0;var o=n(11),r=i(o),a=n(10),s=i(a),l=n(149),u=(t.updateQueue=function(e,t){return e.getIn(["processing","queue"])&&s["default"].Iterable.isIterable(e.getIn(["processing","queue"]))||(e=e.setIn(["processing","queue"],s["default"].List([]))),t.payload.setQueue&&(e=e.mergeIn(["processing","queue"],t.payload.setQueue),t.payload.queueId&&(e=e.setIn(["processing","queueId"],t.payload.queueId))),t.payload.removeFromQueue&&(Array.isArray(t.payload.removeFromQueue)?t.payload.removeFromQueue:[t.payload.removeFromQueue]).forEach(function(t){var n=e.getIn(["processing","queue"]).indexOf(t);-1!==n&&(e=e.deleteIn(["processing","queue",n]))}),0===e.getIn(["processing","queue"]).count()?((0,l.logMessages)()&&console.log("save complete"),e=e.deleteIn(["processing","queueId"]),u(e,{payload:{saveRequested:!1}})):u(e,{payload:{saveRequested:!0}})},t.updateStatus=function(e,t){var n=t.payload;return e.withMutations(function(t){(!0===e.getIn(["processing","setup"])&&!1===e.getIn(["processing","saveRequested"])&&!1===n.setup||!0===e.getIn(["processing","saveRequested"])&&!1===n.saveRequested)&&t.set("render",s["default"].Map({render:Date.now(),auto:!0})),n.hidden||(n=(0,r["default"])({},n,{hidden:!1})),t.set("processing",e.get("processing").mergeDeep(s["default"].fromJS(n))),n.lastMessage&&t.deleteIn(["processing","timeoutMessage"])})});t.clearAll=function(e){return e.set("processing",e.get("processing").merge(s["default"].fromJS({queue:s["default"].List([]),saveRequested:!1,setup:!1,containerCheck:!1})))},t.updateUploads=function(e,t){return t.payload.files?e.withMutations(function(e){e.get("uploading")||(e=e.set("uploading",s["default"].fromJS({}))),e.set("uploading",e.get("uploading").merge(t.payload.files))}):e.set("uploading",s["default"].fromJS({}))},t.mediaFinished=function(e,t){return t.payload.all?e.set("uploading",s["default"].fromJS({})):e},t.noMessageBus=function(e){var t=e.getIn(["processing","failedMessagesCount"]);return t++,3===t&&(t=0),e.setIn(["processing","failedMessagesCount"],t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSpinningState=function(e,t){return e.setIn(["spinners",t.payload.key],t.payload.value)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFiles=function(e,t){return e.set("manuallyUploadedFiles",t.payload.files)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCNAMEStatus=t.failed=t.updateDeploymentState=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateDeploymentState=function(e,t){return e.set("deployment",e.get("deployment").merge(o["default"].fromJS(t.payload))["delete"]("failed"))},t.failed=function(e,t){return e.setIn(["deployment","failed"],t.payload.type)},t.updateCNAMEStatus=function(e,t){return e.setIn(["deployment","cnameStatus"],t.payload.status)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeMenu=t.openMenu=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.openMenu=function(e,t){return e.withMutations(function(e){e.setIn(["contextMenu","open"],!0),e.setIn(["contextMenu","menuType"],t.payload.menuType),e.setIn(["contextMenu","left"],t.payload.left),e.setIn(["contextMenu","top"],t.payload.top),e.setIn(["contextMenu","menuProps"],t.payload.props)})},t.closeMenu=function(e){return e.set("contextMenu",o["default"].Map({open:!1}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStatus=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateStatus=function(e,t){return e.set("export",o["default"].fromJS(t.payload))}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),s=n(128),l=o(s),u=n(664),d=i(u),c=n(665),f=i(c),p=n(666),v=i(p),g=n(667),h=i(g),_=n(670),m=i(_),y=n(671),E=i(y),S=n(672),I=i(S),b=n(673),O=i(b),P=n(674),C=i(P),M=(0,l["default"])().project,F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments[1];switch(t.type){case a["default"].UPDATE_PROJECT:return h.updateProject(e,t);case a["default"].UPDATE_READONLY:return h.updateReadOnly(e,t);case a["default"].UPDATE_OTHER_EDITORS_OPEN:return h.updateOtherEditorsOpen(e,t);case a["default"].UPDATE_PROJECT_EDITOR_SETTINGS:return h.updateProjectEditorSettings(e,t);case a["default"].UPDATE_PERMALINK_VALIDITY:return h.permalinkValidity(e,t);case a["default"].RECEIVE_PROJECT_SAVE_SUCCESS:return d.saveProject(e,t);case a["default"].RECEIVE_PROJECT_DELETE_SUCCESS:return e.set("redirectToURL",t.payload.project.redirectToURL);case a["default"].RECEIVE_UPLOADS_SAVE_SUCCESS:return d.saveUploads(e,t);case a["default"].UPDATE_FILE_SAVE_QUEUE:return m.updateSaveQueue(e,t);case a["default"].UPDATE_PROJECT_UPLOADS_QUEUE:return m.updateUploadsQueue(e,t);case a["default"].RECEIVE_CLONE_SUCCESS:return v.cloneProjectSuccess(e,t);case a["default"].RECEIVE_CLONE_FAILURE:return v.cloneProjectFailure(e,t);case a["default"].RECEIVE_BOILERPLATES_SUCCESS:return f.boilerplatesSuccess(e,t);case a["default"].RECEIVE_BOILERPLATES_FAILURE:return f.boilerplatesFailure(e,t);case a["default"].UPDATE_PROJECT_DEPLOY_STATUS:return I.updateStatus(e,t);case a["default"].UPDATE_SCREENSHOT_STATUS:return O.updateStatus(e,t);case a["default"].UPDATE_PROJECT_UPLOADS_STATE:return C.updateState(e,t);case a["default"].ROLLBACK_STATE:return E.rollbackState(e,t);default:return e}};t["default"]=F,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialProjectState=void 0;var o=n(11),r=i(o),a=n(10),s=i(a),l=n(327),u=i(l);t.initialProjectState=function(e,t){return(0,u["default"])(s["default"].fromJS((0,r["default"])({},t.project,e.project,{client:e.project?e.project.server||{}:{}})),s["default"].fromJS((0,r["default"])({},t.session,e.session)))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialSessionState=void 0;var o=n(11),r=i(o),a=n(10),s=i(a);t.initialSessionState=function(e,t){return s["default"].fromJS((0,r["default"])({},t.session,e.session))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialUIState=t.updateSettingsFromUrl=t.findFile=void 0;var o=n(11),r=i(o),a=n(39),s=i(a),l=n(10),u=i(l),d=n(651),c=function(e,t){var n=e.editing||"";return t[n]?n:"none"},f=function(e,t){return t[!!e.selected&&(e.selected.clientId||!1)]?e.selected:{clientId:null,level:0,parent:"none"}},p=function(e,t){return e?e.filter(function(e){return t[e]}):[]},v=function(e){return g(e,"index.html")||"0"},g=t.findFile=function(e,t){for(var n=(0,s["default"])(e),i=0;i<n.length;i++){var o=n[i];if(e[o].client_file_path===t)return o}},h=t.updateSettingsFromUrl=function(e,t){var n=(0,d.getUrlParams)(window.location.href),i=n.open_file,o=n.preview_file,r=n.preview_height;if(i){var a=g(t,i);if(a){var s=e.openFiles||[];-1===s.indexOf(a)&&s.push(a),e.editing=a,e.openFiles=s}}if(o){var l=g(t,o);l&&(e.renderingFile=l)}return r&&(e.layout={dragging:!1,editor:100-r}),e};t.initialUIState=function(e,t,n,i){if(0===(0,s["default"])(e).length)return t;var o=e.ui;delete o.serverUI;var a=e.files?e.files.server||{}:{};return o=h(o,a),u["default"].fromJS((0,r["default"])({},t.ui,o,{platform:n,browser:i})).merge(u["default"].Map({editing:c(o,a),renderingFile:o.renderingFile||v(a),selected:u["default"].Map(f(o,a)),openFiles:u["default"].Set(p(o.openFiles,a)),openFolders:u["default"].Set(p(o.openFolders,a)),layout:u["default"].Map((0,r["default"])({dragging:!1,sidebar:20,editor:75},o.layout))}))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParams=function(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t){t=t.split("#")[0];for(var i=t.split("&"),o=0;o<i.length;o++){var r=i[o].split("="),a=void 0,s=r[0].replace(/\[\d*\]/,function(e){return a=e.slice(1,-1),""}),l=void 0===r[1]||r[1];s=s.toLowerCase(),l&&(l=l.toLowerCase()),n[s]?("string"==typeof n[s]&&(n[s]=[n[s]]),void 0===a?n[s].push(l):n[s][a]=l):n[s]=l}}return n}},,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveUploads=t.saveProject=void 0;var o=n(39),r=i(o),a=n(10),s=i(a),l=n(319),u=["id","hashid","slug_hash_private","user_id","team_id","redirectToURL","url"];t.saveProject=function(e,t){return e.withMutations(function(e){u.forEach(function(n){e.set(n,t.payload.project[n])}),e.set("server",s["default"].fromJS(t.payload.project.server))})},t.saveUploads=function(e,t){var n=t.payload.filesPayload.reduce(function(e,t){return e[t.client_id]=t,e},{}),i=(0,r["default"])(t.payload.serverPayload.files.server).reduce(function(e,i){return n[i]&&(e[i]=t.payload.serverPayload.files.server[i]),e},{});return e.withMutations(function(e){e.setIn(["uploads","filesState","client","files"],e.getIn(["uploads","filesState","client","files"]).mergeDeep(t.payload.client.get("files")).map(function(e){return e["delete"]("uploaded")})),(0,r["default"])(i).forEach(function(t){var n=i[t],o=["uploads","filesState","server","files",t];!0!==n.deleted&&e.setIn(o,(0,l.buildServerFile)(e.getIn(["uploads","filesState"]),n))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boilerplatesFailure=t.boilerplatesSuccess=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.boilerplatesSuccess=function(e,t){return e.set("boilerplatesList",o["default"].fromJS(t.payload))},t.boilerplatesFailure=function(e){return e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.cloneProjectSuccess=function(e,t){var i=e.getIn(["client","title"]),o=e.getIn(["client","description"]),r=t.payload.project;return e.mergeDeep(r.withMutations(function(e){if(""===i){var t="NEW "+r.getIn(["server","title"]);n(e,"title",t)}else n(e,"title",i);""!==o&&n(e,"description",o),n(e,"template",!1),n(e,"permalink","")}))},t.cloneProjectFailure=function(e){return e},function(e,t,n){e.setIn(["server",t],n).setIn(["client",t],n)})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.permalinkValidity=t.updateProject=t.updateProjectEditorSettings=t.updateOtherEditorsOpen=t.updateReadOnly=void 0;var o=n(10),r=i(o),a=n(327),s=i(a),l=n(668),u=function(e,t){return e.get("client").withMutations(function(n){n.mergeDeep(r["default"].fromJS(t.payload.newSettings)),n.set("permalink",(0,l.updatedPermalink)(e,t.payload.newSettings)),t.payload.newSettings.title&&(document.title=t.payload.newSettings.title)})};t.updateReadOnly=function(e,t){return(0,s["default"])(e,t.payload.session)},t.updateOtherEditorsOpen=function(e,t){return e.set("otherEditorsOpen",t.payload)},t.updateProjectEditorSettings=function(e,t){var n=r["default"].Map(t.payload);return e.mergeIn(["editor_settings"],n).mergeIn(["client","editor_settings"],n)},t.updateProject=function(e,t){return e.set("client",u(e,t))},t.permalinkValidity=function(e,t){return e.set("invalidPermalink",!t.payload.valid)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatedPermalink=void 0;var i=n(669);t.updatedPermalink=function(e,t){return void 0!==t.title||void 0!==t.permalink?e.get("id")>0?t.permalink||e.get("client").get("permalink"):t.permalink&&""!==t.permalink.trim()?t.permalink:(0,i.parameterize)(t.title||""):e.get("client").get("permalink")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parameterize=function(e){return((e||"")+"").replace(/[^-\w]+/gi,"-").replace(/-{2,}/gi,"-").replace(/^-|-$/gi,"").toLowerCase()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSaveQueue=function(e,t){return e.set("queuedSave",t.payload.state)},t.updateUploadsQueue=function(e,t){return e.set("queuedUploadParams",t.payload.uploads)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rollbackState=void 0;var i=n(57),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.rollbackState=function(e,t){var n=t.payload.state.project;return t.payload.stateToReset.forEach(function(i){if("project"===i[0]){if(1===i.length)return t.payload.state.project;var r=[].concat((0,o["default"])(i)).shift(),a=r.map(function(e){return"server"===e?"client":e});e=e.set(a,n.get(r))}}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStatus=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateStatus=function(e,t){return e.set("deployment",o["default"].fromJS(t.payload).set("loaded",!0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStatus=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateStatus=function(e,t){return e.set("custom_screenshot",e.get("custom_screenshot").merge(o["default"].fromJS(t.payload)))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateState=void 0;var o=n(11),r=i(o),a=n(10),s=i(a);t.updateState=function(e,t){var n=(0,r["default"])({},t.payload);return n.pending&&(e=e.setIn(["uploads","pending"],n.pending),delete n.pending),e.set("uploads",e.get("uploads").merge(s["default"].fromJS(n)))}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),s=n(128),l=o(s),u=n(676),d=i(u),c=n(677),f=i(c),p=n(678),v=i(p),g=(0,l["default"])().session,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case a["default"].UPDATE_USER_TEAM:return d.updateTeam(e,t);case a["default"].RECIEVE_SMS_SUCCESS:case a["default"].RECIEVE_SMS_FAILURE:return d.updateUser(e,t);case a["default"].USER_HAS_LOGGED_OUT:return f.logOutUser(e,t);case a["default"].HEART_PROJECT:return v.updateLevel(e,t);default:return e}};t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateUser=t.updateTeam=void 0;var i=n(10),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateTeam=function(e,t){return e=0===e.get("id")?e.set("team_id",t.payload.teamId).setIn(["user","current_team_id"],t.payload.teamId):e.setIn(["user","current_team_id"],t.payload.teamId)},t.updateUser=function(e,t){return e=e.mergeIn(["user"],o["default"].fromJS(t.payload))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logOutUser=function(e){return e.set("loggedout",!0)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLevel=function(e,t){return e.setIn(["heart_level","heart_level"],"loved-"+t.payload.props.level)}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),s=n(128),l=o(s),u=n(680),d=i(u),c=n(681),f=i(c),p=n(682),v=i(p),g=(0,l["default"])().assets,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case a["default"].RECEIVE_GLOBAL_ASSETS_SUCCESS:return d.receiveAssets(e,t);case a["default"].UPDATE_ASSET_SEARCH:return d.updateSearch(e,t);case a["default"].ADD_ASSET_TO_UPLOAD_QUEUE:return f.addToQueue(e,t);case a["default"].REMOVE_ASSET_FROM_UPLOAD_QUEUE:return f.removeFromQueue(e,t);case a["default"].RECEIVE_GLOBAL_ASSET_UPLOAD_SUCCESS:return f.success(e,t);case a["default"].UPDATE_ASSET_AFTER_SUCCESSFUL_UPLOAD:return f.updateAssetAfterSuccessfulUpload(e,t);case a["default"].ADD_GLOBAL_ASSET_DATA_TO_LIST:return v.addAsset(e,t);case a["default"].REMOVE_GLOBAL_ASSET_DATA_FROM_LIST:return v.deleteAsset(e,t);default:return e}};t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearch=t.receiveAssets=void 0;var i=n(11),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.receiveAssets=function(e,t){return(0,o["default"])({},e,{assetList:t.payload.categorized_assets,space:t.payload.space,loaded:!0})},t.updateSearch=function(e,t){return(0,o["default"])({},e,{searchTerm:t.payload.term})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateAssetAfterSuccessfulUpload=t.success=t.removeFromQueue=t.addToQueue=void 0;var o=n(40),r=i(o),a=n(57),s=i(a),l=n(11),u=i(l),d=(t.addToQueue=function(e,t){return(0,u["default"])({},e,{uploadQueue:[].concat((0,s["default"])(e.uploadQueue),[t.payload.uploadId])})},t.removeFromQueue=function(e,t){var n=[].concat((0,s["default"])(e.uploadQueue));return n.splice(n.indexOf(t.payload.uploadId),1),(0,u["default"])({},e,{uploadQueue:n})},function(e,t){var n=e.filter(function(e){return e.id!==t.id});return[(0,u["default"])({},t,{justUploaded:!0})].concat((0,s["default"])(n))});t.success=function(e,t){var n=t.payload.asset;return(0,u["default"])({},e,{assetList:(0,u["default"])({},e.assetList,(0,r["default"])({},n.category,d(e.assetList[n.category],n))),space:(0,u["default"])({},e.space,{total_used:e.space.total_used+=t.payload.size/1025})})},t.updateAssetAfterSuccessfulUpload=function(e,t){var n=t.payload.asset.category;return(0,u["default"])({},e,{assetList:(0,u["default"])({},e.assetList,(0,r["default"])({},n,e.assetList[n].map(function(e){return e.id===t.payload.asset.id&&delete e.justUploaded,e})))})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAsset=t.addAsset=void 0;var o=n(40),r=i(o),a=n(57),s=i(a),l=n(11),u=i(l);t.addAsset=function(e,t){var n=(0,u["default"])({},e,{assetList:(0,u["default"])({},e.assetList,(0,r["default"])({},t.payload.asset.category,[t.payload.asset].concat((0,s["default"])(e.assetList[t.payload.asset.category])))),space:(0,u["default"])({},e.space,{total_used:e.space.total_used+=Number(t.payload.asset.size.slice(0,-1))})});return n.assetList[t.payload.asset.category].splice(t.payload.index,0,t.payload.asset),n},t.deleteAsset=function(e,t){for(var n,i=t.payload.asset,o=(0,u["default"])({},e,{assetList:(0,u["default"])({},e.assetList,(0,r["default"])({},i.category,[].concat((0,s["default"])(e.assetList[i.category])))),space:(0,u["default"])({},e.space,{total_used:e.space.total_used-Number(t.payload.asset.size.slice(0,-1))})}),a=0,l=o.assetList[i.category].length;a<l;a++)if(o.assetList[i.category][a].id===i.id){n=a;break}return o.assetList[t.payload.asset.category].splice(n,1),o}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),r=i(o),a=n(11),s=i(a),l=n(12),u=i(l),d=n(128),c=i(d),f=(0,c["default"])().requests,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case u["default"].SEND_REQUEST:return(0,s["default"])({},e,(0,r["default"])({},t.payload.requestKey,!0));case u["default"].RECEIVE_REQUEST:return(0,s["default"])({},e,(0,r["default"])({},t.payload.requestKey,!1));default:return e}};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(14),a=function(e){return[o["default"].SET_EDITING,o["default"].SET_SIDEBAR_SELECTED,o["default"].TOGGLE_FOLDER_OPEN_STATE,o["default"].SET_RENAMING_FILE,o["default"].ADD_OPEN_FILE,o["default"].SET_OPEN_FILES,o["default"].UPDATE_FILE_DRAGGING_STATE,o["default"].UPDATE_FILE_DRAGGING_OVER_STATE,o["default"].CREATE_NEW_FILE,o["default"].FINISHED_CREATING_NEW_FILE,o["default"].UPDATE_NEW_FILE_NAME,o["default"].CANCEL_NEW_FILE_NAME,o["default"].TOGGLE_DIALOG,o["default"].CLOSE_THIS_DIALOG,o["default"].CLOSE_ALL_POPUPS,o["default"].SET_PROJECT_DELETE_DIALOG_INPUT,o["default"].OPEN_MODAL,o["default"].ADD_MESSAGE,o["default"].CLEAR_MESSAGES,o["default"].SET_PROJECT_TITLE_EDITING_STATE,o["default"].SET_LAYOUT_STATE,o["default"].SET_RENDERING_FILE,o["default"].UPDATE_FILE_SEARCH,o["default"].SET_FILE_SEARCH,o["default"].UPDATE_FILES_ACTIVE_FILE].includes(e);
},s=function(e){e.dispatch((0,r.saveProjectUIState)())},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=null,o=null,r=function(){return e.apply(n,o)};return function(){o=arguments,clearTimeout(i),i=setTimeout(r,t)}}(function(e){return s(e)},2e3),u=function(e){return function(t){return function(n){return a(n.type)&&l(e),t(n)}}};t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackProjectPageView=void 0;var i=n(197),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(329);t.trackProjectPageView=function(e){o["default"].initialize(r.AnalyticsCodes.TRACKER,r.AnalyticsCodes.TRACKER_OPTIONS);var t={dimension1:0!==e.get("id")?1:0,dimension2:!0===e.get("paid")?1:0,dimension3:"project"};0!==t.dimension1&&(t.userId=e.get("id")),o["default"].set({page:location.pathname+location.search}),o["default"].set(t),o["default"].ga("send","pageview")}},function(e,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0});var o,r,a,s,l,u,d,c,f,p,v,g,h,_,m=n(152),y=function(e){return e&&e.__esModule?e:{"default":e}}(m);l=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"===e?t:3&t|8,n.toString(16)})},r=l(),o=[],a=0,u="/",v=!1,g=[],_=0,h=i.jQuery;var E;!function(){for(var e=["","webkit","ms","moz"],t=0;t<e.length;t++){var n=e[t],i=n+(""===n?"hidden":"Hidden");void 0!==document[i]&&(E=i)}}();var S=function(){return void 0!==E?document[E]:!document.hasFocus},I=null===(new XMLHttpRequest).onprogress,b=function(){return T.enableChunkedEncoding&&I};s=function(){return T.alwaysLongPoll||!S()};var O,P=0,C=0,M=function(e){var t=!1;if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];t=!0;for(var r=0;r<o.length;r++){var a=o[r];a.channel===i.channel&&(a.last_id=i.message_id,a.func(i.data,i.global_id,i.message_id)),"/__status"===i.channel&&void 0!==i.data[a.channel]&&(a.last_id=i.data[a.channel])}}return t},F=function(e){if(a=0,!v)return M(e);if(e)for(var t=0;t<e.length;t++)g.push(e[t]);return!1};f=function(e,t){var n=!1,i=!1;O=new Date,C+=1,t.__seq=C;var o=s()&&T.enableLongPolling,r=o&&b();_>0&&(_--,r=!1);var l={"X-SILENCE-LOGGER":"true"};for(var u in T.headers)l[u]=T.headers[u];r||(l["Dont-Chunk"]="true");var d=r?"text":"json",c=function e(n,i){var o=n.indexOf("\r\n|\r\n",i);if(-1===o)return i;var r=n.substring(i,o);r=r.replace(/\r\n\|\|\r\n/g,"\r\n|\r\n");try{F(JSON.parse(r))}catch(e){console.log&&(console.log("FAILED TO PARSE CHUNKED REPLY"),console.log(t))}return e(n,o+"\r\n|\r\n".length)},f=function(){T.longPoll&&(T.longPoll.abort(),_=30)};if(!T.ajax)throw new Error("Either jQuery or the ajax adapter must be loaded");var v=function(e){var t=0,n=setTimeout(f,3e3);return e.onprogress=function(){clearTimeout(n),"application/json; charset=utf-8"===e.getResponseHeader("Content-Type")?r=!1:t=c(e.responseText,t)}};return T.ajax({url:T.baseUrl+"message-bus/"+T.clientId+"/poll"+(o?"":"?dlp=t"),data:t,cache:!1,async:!0,dataType:d,type:"POST",headers:l,messageBus:{chunked:r,onProgressListener:v,xhr:function(){var e=h.ajaxSettings.xhr();return r?(this.messageBus.onProgressListener(e),e):e},success:function(e){r||("string"==typeof e&&(e=JSON.parse(e)),n=F(e))},error:function(e,t){"abort"===t?i=!0:(a+=1,P+=1)},complete:function(){var t;n||i?t=100:(t=T.callbackInterval,a>2?t*=a:s()||(t=T.backgroundCallbackInterval),t>T.maxPollInterval&&(t=T.maxPollInterval),(t-=new Date-O)<100&&(t=100)),p=setTimeout(function(){p=null,e()},t),T.longPoll=null}}})};var T={enableChunkedEncoding:!0,enableLongPolling:!0,callbackInterval:15e3,backgroundCallbackInterval:6e4,maxPollInterval:18e4,callbacks:o,clientId:r,alwaysLongPoll:!1,baseUrl:u,headers:{},ajax:h&&h.ajax,noConflict:function(){return i.MessageBus=i.MessageBus.previousMessageBus,this},diagnostics:function(){console.log("Stopped: "+c+" Started: "+d),console.log("Current callbacks"),console.log(o),console.log("Total ajax calls: "+C+" Recent failure count: "+a+" Total failures: "+P),console.log("Last ajax call: "+(new Date-O)/1e3+" seconds ago")},pause:function(){v=!0},resume:function(){v=!1,M(g),g=[]},stop:function(){c=!0,d=!1},start:function(){var e,t;d||(d=!0,c=!1,e=function(){var n;if(!c){if(0===o.length)return void(t||(t=setTimeout(function(){t=null,e()},500)));n={};for(var i=0;i<o.length;i++)n[o[i].channel]=o[i].last_id;T.longPoll=f(e,n)}},document.addEventListener&&"hidden"in document&&(T.visibilityEvent=i.document.addEventListener("visibilitychange",function(){document.hidden||T.longPoll||!p||(clearTimeout(p),p=null,e())})),e())},status:function(){if(v)return"paused";if(d)return"started";if(c)return"stopped";throw"Cannot determine current status"},subscribe:function(e,t,n){return d||c||T.start(),("number"!=typeof n||n<-1)&&(n=-1),o.push({channel:e,func:t,last_id:n}),T.longPoll&&T.longPoll.abort(),t},unsubscribe:function(e,t){var n;-1!==e.indexOf("*",e.length-1)&&(e=e.substr(0,e.length-1),n=!0);for(var i=!1,r=o.length-1;r>=0;r--){var a,s=o[r];a=n?s.channel.substr(0,e.length)!==e:s.channel!==e,!a&&t&&s.func!==t&&(a=!0),a||(o.splice(r,1),i=!0)}return i&&T.longPoll&&T.longPoll.abort(),i}},A=1e4*Math.random()|0;T.ajax=function(e){var t=i.MessageBus&&i.MessageBus.xhrImplementation||i.XMLHttpRequest,n=new t;n.dataType=e.dataType;var o=e.url;e.cache||(o+=(-1==o.indexOf("?")?"?":"&")+"_="+A++),n.open("POST",o);for(var r in e.headers)n.setRequestHeader(r,e.headers[r]);return n.setRequestHeader("Content-Type","application/json"),e.messageBus.chunked&&e.messageBus.onProgressListener(n),n.onreadystatechange=function(){if(4===n.readyState){var t=n.status;t>=200&&t<300||304===t?e.messageBus.success(n.responseText):e.messageBus.error(n,n.statusText),e.messageBus.complete()}},n.send((0,y["default"])(e.data)),n},t["default"]=T,e.exports=t["default"]}).call(t,n(99))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(3),s=i(a),l=n(35),u=n(14),d=function(){function e(t){(0,r["default"])(this,e),this.dispatch=t,this.init()}return(0,s["default"])(e,[{key:"init",value:function(){this.parsingError=!1,this.parsingErrorMessage=!1,this.currentError={}}},{key:"parseData",value:function(e){return!0===this.parsingError?void this.parseErrorData(e):void("ERROR:"===e&&(this.parsingError=!0))}},{key:"parseErrorData",value:function(e){if(":ERROR"===e)return void this.dispatchError();if(e.indexOf(":MESSAGE")>=0)return void(this.parsingErrorMessage=!1);if(!0===this.parsingErrorMessage)return void this.currentError.message.push(e);if(e.indexOf("LINE:")>=0){var t=e.split(" ")[1];return void(t&&(this.currentError.line=parseInt(t)))}if(e.indexOf("FILE:")>=0){var n=e.split(" ")[1];return void(n&&(this.currentError.file=/in\//.test(n)?n.substring(3):n))}e.indexOf("MESSAGE:")>=0&&(this.parsingErrorMessage=!0,this.currentError.message=[])}},{key:"dispatchError",value:function(){this.dispatch((0,l.addFileError)(this.currentError)),this.dispatch((0,u.addGulpLog)(this.currentError)),this.currentError=[],this.parsingError=!1,this.parsingErrorMessage=!1}}]),e}();t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNewFilesAndFolders=t.addNewFile=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(153);t.addNewFile=function(e){return(0,r.trackEvent)("ADD_NEW_FILE"),{type:o["default"].ADD_NEW_FILE,payload:{fileData:e}}},t.addNewFilesAndFolders=function(e,t){return{type:o["default"].ADD_NEW_FILES_AND_FOLDERS,payload:{files:e,folders:t}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cancelProjectUploads=t.continueSavingUploads=t.uploadFilesAndFolders=void 0;var o=n(11),r=i(o),a=n(154),s=i(a),l=n(246),u=n(699),d=n(714),c=n(715),f=n(716),p=n(717),v=n(248),g=n(249),h=n(251),_=n(14),m=n(48),y=i(m),E=(t.uploadFilesAndFolders=function(e,t){return function(n,i){n((0,l.beginUploading)({fileCount:e.length+t.length,filesState:(0,g.newEmptyFilesState)()})),(0,d.buildFileDataList)(e).then(function(o){var r=(0,c.buildFolderDataList)(t),a=(0,f.buildS3List)(e),s=i().project.set("client",i().project.get("server"));E({dispatch:n,getState:i,projectStateCopy:s,folderDataList:r,fileDataList:o,s3List:a})})}},function(e){var t=e.dispatch;(0,p.saveFolderUploads)(e).then(p.saveFilesforS3Uploads).then(function(e){if(!(0,v.uploadIsCancelled)(e))return s["default"].all([(0,u.uploadBinaryFiles)(e),(0,p.saveTextUploads)(e)])}).then(function(e){return(0,p.saveS3FilesAterUpload)(e[0])}).then(function(){(0,v.uploadIsCancelled)(e)||(t((0,l.finishUploading)()),setTimeout(function(){(0,v.uploadIsCancelled)(e)||t((0,l.uploadingComplete)())},1e3))})["catch"](function(e){console.log(e)})});t.continueSavingUploads=function(){return function(e,t){var n=t().project.get("queuedUploadParams");e((0,h.updateUploadsQueue)({uploads:!1}));var i=t().project.set("client",t().project.get("server")),o=(0,r["default"])({},n,{dispatch:e,getState:t,projectStateCopy:i});return(0,v.uploadIsCancelled)(o)?void e((0,_.closeThisDialog)(y["default"].PROJECT_FILE_UPLOADS_DIALOG)):void E(o)}},t.cancelProjectUploads=l.cancelUpload},function(e,t,n){n(315),n(96),n(113),n(691),e.exports=n(20).Promise},function(e,t,n){"use strict";var i,o,r,a=n(146),s=n(52),l=n(107),u=n(111),d=n(53),c=n(94),f=n(199),p=n(692),v=n(693),g=n(694),h=n(330).set,_=n(696)(),m=s.TypeError,y=s.process,E=s.Promise,y=s.process,S="process"==u(y),I=function(){},b=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(37)("species")]=function(e){e(I,I)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t}catch(e){}}(),O=function(e,t){return e===t||e===E&&t===r},P=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},C=function(e){return O(E,e)?new M(e):new o(e)},M=o=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw m("Bad Promise constructor");t=e,n=i}),this.resolve=f(t),this.reject=f(n)},F=function(e){try{e()}catch(e){return{error:e}}},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var i=e._v,o=1==e._s,r=0;n.length>r;)!function(t){var n,r,a=o?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{a?(o||(2==e._h&&N(e),e._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&u.exit()),n===t.promise?l(m("Promise-chain cycle")):(r=P(n))?r.call(n,s,l):s(n)):l(i)}catch(e){l(e)}}(n[r++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){h.call(s,function(){var t,n,i,o=e._v;if(k(e)&&(t=F(function(){S?y.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",o)}),e._h=S||k(e)?2:1),e._a=void 0,t)throw t.error})},k=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!k(t.promise))return!1;return!0},N=function(e){h.call(s,function(){var t;S?y.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw m("Promise can't be resolved itself");(t=P(e))?_(function(){var i={_w:n,_d:!1};try{t.call(e,l(D,i,1),l(j,i,1))}catch(e){j.call(i,e)}}):(n._v=e,n._s=1,T(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};b||(E=function(e){p(this,E,"Promise","_h"),f(e),i.call(this);try{e(l(D,this,1),l(j,this,1))}catch(e){j.call(this,e)}},i=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(697)(E.prototype,{then:function(e,t){var n=C(g(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?y.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},"catch":function(e){return this.then(void 0,e)}}),M=function(){var e=new i;this.promise=e,this.resolve=l(D,e,1),this.reject=l(j,e,1)}),d(d.G+d.W+d.F*!b,{Promise:E}),n(145)(E,"Promise"),n(698)("Promise"),r=n(20).Promise,d(d.S+d.F*!b,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!b),"Promise",{resolve:function(e){if(e instanceof E&&O(e.constructor,this))return e;var t=C(this);return(0,t.resolve)(e),t.promise}}),d(d.S+d.F*!(b&&n(326)(function(e){E.all(e)["catch"](I)})),"Promise",{all:function(e){var t=this,n=C(t),i=n.resolve,o=n.reject,r=F(function(){var n=[],r=0,a=1;v(e,!1,function(e){var s=r++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},o)}),--a||i(n)});return r&&o(r.error),n.promise},race:function(e){var t=this,n=C(t),i=n.reject,o=F(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return o&&i(o.error),n.promise}})},function(e){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(107),o=n(324),r=n(325),a=n(62),s=n(206),l=n(127),u={},d={},t=e.exports=function(e,t,n,c,f){var p,v,g,h,_=f?function(){return e}:l(e),m=i(n,c,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(r(_)){for(p=s(e.length);p>y;y++)if((h=t?m(a(v=e[y])[0],v[1]):m(e[y]))===u||h===d)return h}else for(g=_.call(e);!(v=g.next()).done;)if((h=o(g,m,v.value,t))===u||h===d)return h};t.BREAK=u,t.RETURN=d},function(e,t,n){var i=n(62),o=n(199),r=n(37)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[r])?t:o(n)}},function(e){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(52),o=n(330).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(108)(a);e.exports=function(){var e,t,n,u=function(){var i,o;for(l&&(i=a.domain)&&i.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(r){var d=!0,c=document.createTextNode("");new r(u).observe(c,{characterData:!0}),n=function(){c.data=d=!d}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(u)}}else n=function(){o.call(i,u)};return function(i){var o={fn:i,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var i=n(93);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:i(e,o,t[o]);return e}},function(e,t,n){"use strict";var i=n(52),o=n(20),r=n(68),a=n(78),s=n(37)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:i[e];a&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadBinaryFiles=void 0;var o=n(11),r=i(o),a=n(154),s=i(a),l=n(247),u=n(246),d=n(248),c=n(25),f=(t.uploadBinaryFiles=function(e){return new s["default"](function(t,n){f((0,r["default"])({},e,{current:0,complete:function(){t(e)},error:function(e){n(e)}}))})},function e(t){var n=t.getState,i=t.dispatch,o=t.s3List,a=t.current,s=t.complete,l=t.error,u=t.projectStateCopy,d=o[a];return 0===d.length?s(t):void p({getState:n,dispatch:i,projectStateCopy:u,batch:d,currentUpload:0,batchComplete:function(){a===o.length-1?s(t):e((0,r["default"])({},t,{current:a+1}))},batchError:function(e){l(e)}})}),p=function e(t){if((0,d.uploadIsCancelled)(t))return t.batchError(c.UPLOAD_ERROR_TYPES.USER_CANCELLED);var n=t.getState,i=t.dispatch,o=t.batch,a=t.currentUpload,s=t.batchComplete,f=t.batchError,p=o[a],v=n().project,g=v.getIn(["uploads","filesState","server","files",p.fileData.item.clientId]);(0,l.uploadProjectFileToS3)(p.file,v.get("id"),g.get("id"),function(n){n.success?(i((0,u.updateUploadedCount)(.5)),a===o.length-1?s():e((0,r["default"])({},t,{currentUpload:a+1}))):f(c.UPLOAD_ERROR_TYPES.S3_FAIL)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkProjectPermalink=t.updateProject=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21);t.updateProject=function(e){return function(t,n){var i=n().project.get("client");return e.processor_settings&&t((0,a.payloadAction)(o["default"].CLEAR_FILE_ERRORS,{})),t((0,a.payloadAction)(o["default"].UPDATE_PROJECT,{newSettings:e,oldSettings:i}))}},t.checkProjectPermalink=function(){return function(e,t){var n={permalink:t().project.getIn(["client","permalink"]),user_id:t().project.get("user_id")};return(0,r.get)({dispatch:e,getState:t,url:"/projects/permalink",params:n,onSuccess:function(t){e((0,a.payloadAction)(o["default"].UPDATE_PERMALINK_VALIDITY,{valid:t.valid}))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPayloadSizeSafe=void 0;var i=n(152),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=function(e){return(0,o["default"])(e).length};t.isPayloadSizeSafe=function(e){var t=e.payload;return r(t)<1048576}},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildProjectParams=t.buildProjectFileAttributes=void 0;var o=n(11),r=i(o),a=n(705),s=i(a),l=n(328),u=n(32),d=n(320),c=n(10),f=i(c),p=["settings","editable","level","children","content","processedFileId","clientId","parent","id","uploaded"],v=function(e){var t=[];return e.map(function(e){d.notificationPrefixes[e]&&t.push(d.notificationPrefixes[e])}),t},g=function(e,t){if(!t.get("originalFileId")){var n=t.getIn(["settings","type"]);return"js"===n&&e.getIn(["client","processor_settings","babel"])&&(n="js_babel"),"css"===n&&e.getIn(["client","processor_settings","autoprefixer"])&&(n="css_auto"),n}},h=function(e,t,n){var i=n.keys(),o=(0,s["default"])(i),r=o.slice(0),a=t.keys(),u=(0,s["default"])(a),d=u.slice(0),c=r.filter(function(e){return!d.includes(e)}),p=c.map(function(e){return n.get(e)}),v=f["default"].Set([]);return{files:p.map(function(t){return(0,l.clientToServerFile)(e.get("id"),t.toJS(),!0)}),types:v}},_=function(e){return e?e.withMutations(function(e){e.map(function(t,n){p.indexOf(n)<0&&e["delete"](n)})}):e},m=function(e,t,n){var i=t.filter(function(e,i){var o=n.get(i);if(o&&!o.get("content")&&""!==o.get("content")&&(e=e["delete"]("content")),!_(e).equals(_(o)))return!0;var r=t.get(e.get("originalFileId"));if(r){var a=n.get(r.get("clientId"));if(r.get("parent")!==a.get("parent"))return!0}return!1}),o=i.map(function(t){return g(e,t)}).toSet();return{files:i.reduce(function(t,n){var i=n.toJS(),o=(0,l.clientToServerFile)(e.get("id"),i);return i.uploaded&&(o.uploaded=!0),t.push(o),t},[]),types:o}},y=function(e,t){return e.getIn([t,"files"]).map(function(n){if(n.get("originalFileId")||(0,u.isMedia)(n))return n;var i=e.getIn([t,"content",n.get("clientId")]);return i?i.has("loadError")||i.has("loadingContent")?n:(i.has("content")&&(n=n.set("content",i.get("content"))),n):n})};t.buildProjectFileAttributes=function(e,t){var n=y(t,"client"),i=y(t,"server"),o=m(e,n,i),r=h(e,n,i);return{files:o.files.concat(r.files),notificationTypes:v(o.types.merge(r.types))}},t.buildProjectParams=function(e){var t=e.get("client").toJS(),n=(0,r["default"])({id:e.get("id"),slug_hash:e.get("hashid")},t);return e.get("id")>0?n:t}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(321),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t["default"]=function(e){return Array.isArray(e)?e:(0,o["default"])(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStateSnapshot=void 0;var i=n(57),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=[["client","files"],["client","content"],["server","files"],["server","content"]],a=(t.createStateSnapshot=function(e,t){if(!t)return e;var n=s(e.files,t),i=e.project.get("queuedSave")?e.project.get("queuedSave").files:null;return i&&(n=a(i,n)),{project:e.project,files:n}},function(e,t){return e.withMutations(function(e){r.forEach(function(n){t.getIn(n)&&t.getIn(n).map(function(i){var r=[].concat((0,o["default"])(n),[i.get("clientId")]);e.setIn(r,t.getIn(r))})})})}),s=function(e,t){return e.withMutations(function(e){r.forEach(function(n){e.setIn(n,e.getIn(n).filter(function(e,n){return t.indexOf(n)>-1}))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildResponsePayload=void 0;var i=n(11),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=function(e){return e.payload.project.project_files_attributes?e.payload.project.project_files_attributes.reduce(function(e,t){return"1"===t._destroy&&(e[t.client_id]={id:t.id,client_id:t.client_id,deleted:!0}),e},{}):{}};t.buildResponsePayload=function(e,t){var n=(0,o["default"])({},e.payload);return t&&(n.files.server=(0,o["default"])({},n.files.server,r(t)),n.savedFiles=[],t.payload.project.project_files_attributes&&(n.savedFiles=t.payload.project.project_files_attributes.map(function(e){return e.client_id}))),n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAllUploaded=t.saveUpload=void 0;var o=n(11),r=i(o),a=n(156),s=i(a),l=n(250),u=n(331),d=n(316),c=n(333),f=n(246),p=n(248),v=n(249),g=n(251),h=n(21),_=n(151),m=n(14),y=n(48),E=i(y),S=n(12),I=i(S),b=n(25),O=function(e){var t=Date.now();setTimeout(function(){e((0,u.checkStatus)(t))},5e3)},P=function e(t){var n=t.dispatch,i=t.getState,o=t.projectStateCopy,a=t.current,u=t.complete,d=t.error,v=t.type,m=(0,s["default"])(t,["dispatch","getState","projectStateCopy","current","complete","error","type"]);if((0,p.uploadIsCancelled)(t))return d(b.UPLOAD_ERROR_TYPES.USER_CANCELLED);var y=C((0,r["default"])({},m,{getState:i,type:v,current:a})),E=y.list,S=y.stateForPayload;if(0===E[a].length)return u(t);var P=(0,l.saveProjectParams)(o,S),M=o.get("hashid");return M||delete P.payload.project.project_files_attributes,i().requests["put_/projects/project/"+M]?void n((0,g.updateUploadsQueue)({uploads:(0,r["default"])({},m)})):(0,l.sendSaveToServer)({dispatch:n,getState:i,hashid:M,params:P,success:function(o){if(!M||o.payload.container)M?n((0,f.startingContainer)()):(n((0,h.payloadAction)(I["default"].RECEIVE_PROJECT_SAVE_SUCCESS,o.payload)),(0,_.initMessenger)(n,i),n((0,f.savingNewProject)())),O(n),n((0,g.updateUploadsQueue)({uploads:(0,r["default"])({},m)}));else{if(n((0,c.saveUploadsOnSuccess)({filesPayload:P.payload.project.project_files_attributes,serverPayload:o.payload,clientState:S.get("client")})),"s3"!==v&&n((0,f.updateUploadedCount)(E[a].length)),"s3-uploaded"===v&&n((0,f.updateUploadedCount)(.5*E[a].length)),(0,p.uploadIsCancelled)(t))return;a===E.length-1?setTimeout(function(){u(t)},500):setTimeout(function(){e((0,r["default"])({},t,{current:a+1}))},500)}},fail:d})};t.saveUpload=P;var C=function(e){var t=e.getState,n=e.current,i=e.type,o=e.fileDataList,r=e.folderDataList,a=e.s3List,s={payload:{}},l=void 0,u=void 0;switch(i){case"files":l=o,s.payload={files:l[n],folders:[]},u=(0,d.filesAndFolders)((0,v.newEmptyFilesState)(),s);break;case"folders":l=r,s.payload={files:[],folders:l[n]},u=(0,d.filesAndFolders)((0,v.newEmptyFilesState)(),s);break;case"s3":l=a,s.payload={files:l[n].map(function(e){return e.fileData}),folders:[]},u=(0,d.filesAndFolders)((0,v.newEmptyFilesState)(),s);break;case"s3-uploaded":l=a,u=M({uploadedFilesState:t().project.getIn(["uploads","filesState"]),list:l[n]})}return{list:l,stateForPayload:u}},M=function(e){var t=e.uploadedFilesState,n=e.list;return(0,v.newEmptyFilesState)().withMutations(function(e){n.forEach(function(n){var i=["client","files",n.fileData.item.clientId],o=["server","files",n.fileData.item.clientId],r=t.getIn(o);e.setIn(i,r.set("uploaded","true"))})})};t.deleteAllUploaded=function(e){var t=e.projectStateCopy,n=e.deletedFilesState;return function(e,i){var o=i().project.get("hashid"),r=(0,l.saveProjectParams)(t,n);return(0,l.sendSaveToServer)({dispatch:e,getState:i,hashid:o,params:r,success:function(){e((0,m.closeThisDialog)(E["default"].PROJECT_FILE_UPLOADS_DIALOG))},fail:function(){e((0,m.closeThisDialog)(E["default"].PROJECT_FILE_UPLOADS_DIALOG))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkProject=void 0;var i=n(214),o=n(151),r=n(114),a=n(21),s=n(27),l=n(12),u=function(e){return e&&e.__esModule?e:{"default":e}}(l);t.forkProject=function(e,t,n){var l={source:e,user_id:t,team_id:n};return function(e,t){return(0,s.post)({dispatch:e,getState:t,url:"/projects/fork",params:l,onSuccess:function(n){var s=(0,i.clonedToClientState)(n.payload,t);e((0,a.payloadAction)(u["default"].RECEIVE_CLONE_SUCCESS,s)),(0,r.initPubNubMessenger)(e,t,!0),(0,o.refreshMessenger)(e,t)},onFail:function(t){e((0,a.payloadAction)(u["default"].RECEIVE_CLONE_FAILURE,t))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProject=t.receiveProjectDeleteSuccess=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=t.receiveProjectDeleteSuccess=function(e){return{type:o["default"].RECEIVE_PROJECT_DELETE_SUCCESS,payload:e}};t.deleteProject=function(){return function(e,t){var n=t().project;if(!(n.get("id")<1))return(0,r.destroy)({dispatch:e,getState:t,url:"/projects/project/"+n.get("hashid"),onSuccess:function(t){e(a(t.payload))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCNAMEs=t.undeployProject=t.deployProject=t.getDeploymentState=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21),s=(t.getDeploymentState=function(){return function(e,t){var n=t().project.get("hashid");if(!0!==t().project.getIn(["deployment","loaded"]))return(0,r.get)({dispatch:e,getState:t,url:"/projects/deployment/"+n,params:{},onSuccess:function(t){e((0,a.payloadAction)(o["default"].UPDATE_PROJECT_DEPLOY_STATUS,t.payload))}})}},t.deployProject=function(){return function(e,t){var n=t().project.get("hashid"),i="/projects/deployment",s={},l=t().project.getIn(["deployment","deployed"])?r.put:r.post;return l===r.put?i+="/"+n:s.id=n,e((0,a.payloadAction)(o["default"].DEPLOYMENT_IN_PROGRESS,{deploying:!0})),l({dispatch:e,getState:t,url:i,params:s,onSuccess:function(t){e((0,a.payloadAction)(o["default"].DEPLOYMENT_IN_PROGRESS,{deploying:!1})),e(t.success?(0,a.payloadAction)(o["default"].UPDATE_PROJECT_DEPLOY_STATUS,t.payload):(0,a.payloadAction)(o["default"].FAILED_TO_DEPLOY,{type:"deploy"}))},customFailHandler:function(){e((0,a.payloadAction)(o["default"].DEPLOYMENT_IN_PROGRESS,{deploying:!1})),e((0,a.payloadAction)(o["default"].FAILED_TO_DEPLOY,{type:"deploy"}))}})}},t.undeployProject=function(){return function(e,t){var n=t().project.get("hashid"),i="/projects/deployment/"+n,s={};return e((0,a.payloadAction)(o["default"].DEPLOYMENT_IN_PROGRESS,{undeploying:!0})),(0,r.destroy)({dispatch:e,getState:t,url:i,params:s,onSuccess:function(t){e((0,a.payloadAction)(o["default"].DEPLOYMENT_IN_PROGRESS,{undeploying:!1})),e(t.success?(0,a.payloadAction)(o["default"].UPDATE_PROJECT_DEPLOY_STATUS,t.payload):(0,a.payloadAction)(o["default"].FAILED_TO_DEPLOY,{type:"undeploy"}))},customFailHandler:function(){e((0,a.payloadAction)(o["default"].FAILED_TO_DEPLOY,{type:"undeploy"}))}})}},t.updateCNAMEs=function(e){return function(t,n){var i=n().project.get("hashid"),l=s(e);return t((0,a.payloadAction)(o["default"].UPDATE_CNAME_STATUS,{status:"changing"})),(0,r.put)({dispatch:t,getState:n,url:"/projects/cnames/"+i,params:{payload:{cnames:l}},onSuccess:function(e){e.success&&t((0,a.payloadAction)(o["default"].UPDATE_PROJECT_DEPLOY_STATUS,e.payload)),t((0,a.payloadAction)(o["default"].UPDATE_CNAME_STATUS,{status:"okay"}))},customFailHandler:function(){t((0,a.payloadAction)(o["default"].UPDATE_CNAME_STATUS,{status:"fail"}))}})}},function(e){return e.filter(function(e){return""!==e.get("value")}).map(function(e){return e["delete"]("valid")}).toJS()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportProjectToZip=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21),s=function e(t){var n=t.url,i=t.dispatch,s=t.getState;setTimeout(function(){(0,r.get)({dispatch:i,getState:s,url:n,onSuccess:function(t){t.ready?i((0,a.payloadAction)(o["default"].UPDATE_EXPORT_STATUS,{zipping:!1,zipped:t.success,lastURL:t.zip_url})):e({url:n,dispatch:i,getState:s})}})},500)};t.exportProjectToZip=function(){return function(e,t){var n=t().project,i=n.getIn(["server","private"])?n.get("slug_hash_private"):n.get("hashid"),l={id:i};return e((0,a.payloadAction)(o["default"].UPDATE_EXPORT_STATUS,{zipping:!0})),(0,r.post)({dispatch:e,getState:t,url:"/projects/export",params:l,onSuccess:function(n){s({url:"/projects/export/"+i+"?key="+encodeURIComponent(n.zip_key),dispatch:e,getState:t})},customFailHandler:function(){e((0,a.payloadAction)(o["default"].UPDATE_EXPORT_STATUS,{zipping:!1,zipped:!1}))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteScreenshot=t.uploadNewScreenshot=void 0;var i=n(21),o=n(14),r=n(247),a=n(32),s=n(27),l=(t.uploadNewScreenshot=function(e){return function(t,n){var s=n().project;return u(e)?t((0,o.setPopupMessage)("Screenshots must be a .png or .jpg file, smaller than 2mb")):(t((0,o.setPopupMessage)("Saving screenshot...")),t((0,i.payloadAction)("UPDATE_SCREENSHOT_STATUS",{uploading:!0})),(0,r.uploadScreenshotFileToS3)(e,s.get("id"),(0,a.fileNameExtension)(e.name).toLowerCase(),e.type,function(e){e.success?setTimeout(function(){var r=e.serverResponse.body.form_data.action+"/"+e.serverResponse.body.form_data.fields.key+"?"+Date.now();t((0,o.setPopupMessage)("Pen screenshot is saved. It may take a minute to update everywhere.")),t((0,i.payloadAction)("UPDATE_SCREENSHOT_STATUS",{tempImage:r,uploading:!1})),l(s.get("custom_screenshot"),s.get("hashid"),t,n)},400):(t((0,o.setPopupMessage)("Failed to upload image. Please try again.")),t((0,i.payloadAction)("UPDATE_SCREENSHOT_STATUS",{uploading:!1})))}),void 0)}},function(e,t,n,o){var r="/custom_screenshot",a=s.post,l={item_type:"project",item_id:t};return e.get("hashid")&&(a=s.put,r+="/"+e.get("hashid")),a({dispatch:n,getState:o,url:r,params:l,onSuccess:function(e){n((0,i.payloadAction)("UPDATE_SCREENSHOT_STATUS",{hashid:e.screenshot_hashid}))}})}),u=function(e){return"image/png"!==e.type&&"image/jpeg"!==e.type||e.size>2097152};t.deleteScreenshot=function(){return function(e,t){var n=t().project;return(0,s.destroy)({dispatch:e,getState:t,url:"/custom_screenshot/"+n.getIn(["custom_screenshot","hashid"]),params:{item_type:"project",item_id:n.get("hashid")},onSuccess:function(t){e((0,i.payloadAction)("UPDATE_SCREENSHOT_STATUS",{hashid:null,tempImage:!1,screenshot_url:t.screenshot_url}))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFileDataList=void 0;var i=n(154),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(32),a=n(25),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(a),l=(t.buildFileDataList=function(e){return new o["default"](function(t){var n=e.filter(function(e){return(0,r.isTextFile)(e.fileData.item)}).map(function(e){return l(e)});o["default"].all(n).then(function(e){var n=[[]],i=0,o=0,r=0;e.forEach(function(e){var t=e.size;(i+t>s.FILE_UPLOAD_MAX_FILE_SIZE||o===s.FILE_UPLOAD_MAX_FILES)&&(r++,n[r]=[],i=0,o=0),n[r].push(e),i+=t,o++}),t(n)})})},function(e){return new o["default"](function(t){if(e.fileData.item.newestAddition=!1,(0,r.isTextFile)(e.fileData.item)){var n=new FileReader;n.readAsText(e.file,"UTF-8"),n.onload=function(n){e.fileData.item.content=n.target.result,e.fileData.size=e.file.size,t(e.fileData)}}else t(e.fileData)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFolderDataList=void 0;var i=n(25),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(i);t.buildFolderDataList=function(e){var t=[[]],n=0,i=0;return e.forEach(function(e){n===o.FILE_UPLOAD_MAX_FILES&&(i++,t[i]=[],n=0),t[i].push(e.fileData),n++}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildS3List=void 0;var i=n(25),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(i),r=n(32);t.buildS3List=function(e){var t=[[]],n=0,i=0;return e.filter(function(e){return!(0,r.isTextFile)(e.fileData.item);
}).forEach(function(e){n===o.FILE_UPLOAD_MAX_FILES&&(i++,t[i]=[],n=0),t[i].push(e),n++}),t}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveS3FilesAterUpload=t.saveFilesforS3Uploads=t.saveFolderUploads=t.saveTextUploads=void 0;var o=n(11),r=i(o),a=n(154),s=i(a),l=n(41),u=function(e,t){return new s["default"](function(n,i){(0,l.saveUpload)((0,r["default"])({},e,{current:0,complete:n,error:i,type:t}))})};t.saveTextUploads=function(e){return u(e,"files")},t.saveFolderUploads=function(e){return u(e,"folders")},t.saveFilesforS3Uploads=function(e){return u(e,"s3")},t.saveS3FilesAterUpload=function(e){return u(e,"s3-uploaded")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overwriteFilesWithUploads=t.confirmOverwrites=void 0;var i=n(25),o=n(12),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(21),s=n(35);t.confirmOverwrites=function(e){var t=e.duplicatesData,n=e.uploads;return{type:r["default"].UPDATE_PROJECT_UPLOADS_STATE,payload:{progress:i.PROGRESS.OVERWRITES,overwrites:t,pending:n}}},t.overwriteFilesWithUploads=function(){return function(e,t){var n=t().project.get("uploads"),o=n.get("pending"),l=n.get("overwrites");e((0,a.payloadAction)(r["default"].UPDATE_PROJECT_UPLOADS_STATE,{progress:i.PROGRESS.PROCESSING})),e((0,s.deleteFiles)(l.map(function(e){return e.get("clientId")}))),setTimeout(function(){e((0,s.uploadFilesAndFolders)(o.files,o.folders))},5e3)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateFile=void 0;var o=n(12),r=i(o),a=n(130),s=n(131),l=n(157),u=n(126),d=n(21),c=n(334),f=n(125),p=i(f),v=n(14),g=n(33);t.duplicateFile=function(e){return function(t,n){var i=n().files.getIn(["client","files"]),o=i.get(e);if(!o)return void console.warn("Invalid clientId for file to duplicate: "+e);var f=n().files.getIn(["client","content",e]);if(o){var h=(0,a.checkForDuplicateFileName)(i,o.get("parent"),o.get("clientId"),o.getIn(["settings","fileName"])),_=(0,s.checkFileNameRestrictions)(h.uniqueName,(0,l.getFilePathName)(i,o),!1);if(!1===_.result)return void t((0,v.openMessageModal)({style:"error",copy:g.modals.copy[_.response](h.uniqueName)}));var m=(0,u.guid)(),y={item:o.withMutations(function(e){e.set("clientId",m).set("id",0).setIn(["settings","fileName"],h.uniqueName).set("content",f.get("content"))["delete"]("client_file_path")}).toJS()};i.get(o.get("processedFileId"))&&(y.processedItem=(0,p["default"])(y.item),y.item.processedFileId=y.processedItem.clientId),t((0,d.payloadAction)(r["default"].ADD_NEW_FILE,{fileData:y})),t("none"!==o.get("parent")?(0,c.saveProjectFile)([m,o.get("parent")]):(0,c.saveProjectFile)(m))}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reloadOpenProcessedFiles=t.getFilesContent=void 0;var o=n(12),r=i(o),a=n(21),s=n(27),l=n(252),u=n(10),d=i(u),c=(t.getFilesContent=function(e){return function(t,n){var i=n().files.getIn(["client","files"]);t((0,a.payloadAction)(r["default"].SET_FILE_CONTENT_TO_LOADING,{files:e})),e.forEach(function(e){c(t,n,i.get(e))}),f(t,n)}},function(e,t,n){if(!n.get("url"))return e((0,l.updateFileContent)({clientId:n.get("clientId"),content:"",loading:!1,fromLoad:!0}));var i=n.get("url");i+="?"+(new Date).getTime(),(0,s.getFile)(i,function(t){e((0,l.updateFileContent)({clientId:n.get("clientId"),content:t,loading:!1,fromLoad:!0}))},function(){e((0,a.payloadAction)(r["default"].SET_FILE_CONTENT_LOAD_ERROR,{clientId:n.get("clientId")}))})}),f=function(e,t){var n=t().files.getIn(["client","content"]);if(n.count()>20){var i=t().ui.get("openFiles"),o=[];n.mapKeys(function(e){return i.find(function(t){return t===e})||o.push(e),e}),o.length>0&&e((0,a.payloadAction)(r["default"].FLUSH_FILES_CONTENT,{files:d["default"].List(o)}))}};t.reloadOpenProcessedFiles=function(e,t){return{type:r["default"].RELOAD_OPEN_PROCESSED_FILES,payload:{openFiles:e,typesInQueue:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeFileContent=void 0;var i=n(335),o=n(14),r=n(69),a=n(252),s=n(153);t.analyzeFileContent=function(e,t,n){return(0,s.trackEvent)("ANALYZE_FILE"),function(s){return(0,r.simplePost)({url:i.ANALYZE_URL,params:{type:e,content:n},onSuccess:function(e,n){var i=n.body;s(0===i.length?(0,o.setPopupMessage)("No errors found. You're all good!"):(0,a.updateFileErrors)(t,i)),s((0,o.setSpinningState)("analyze",!1))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateChangedMediaFiles=t.updateFileName=t.updateNewestFile=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i);t.updateNewestFile=function(e){return{type:o["default"].UPDATE_NEWEST_FILE,payload:{clientId:e}}},t.updateFileName=function(e,t,n){return{type:o["default"].UPDATE_FILE_NAME,payload:{clientId:e,fileName:t,processorSettings:n}}},t.updateChangedMediaFiles=function(e){var t=e.files,n=e.filePath,i=e.all,r=e.onDisk;return{type:o["default"].UPDATE_MEDIA_FILES,payload:{files:t,filePath:n,all:i,onDisk:r}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateDraggedFileLocation=t.dropIsADuplicate=void 0;var o=n(57),r=i(o),a=n(12),s=i(a),l=n(21),u=n(130),d=n(131),c=n(14),f=n(33),p=n(35),v=n(95),g=function(e,t,n){return t===n||t===e.getIn([n,"parent"])},h=function(e,t){var n="folder"===t.getIn(["settings","type"])?"folder":"file";e((0,c.openMessageModal)({style:"error",copy:f.modals.copy.DUPLICATE_FILE_MOVE(t.getIn(["settings","fileName"]),n)}))},_=function(e,t){var n="folder"===t.getIn(["settings","type"])?"folder":"file";e((0,c.openMessageModal)({style:"error",copy:f.modals.copy.DISSALOWED_FILE_MOVE(t.getIn(["settings","fileName"]),n)}))},m=t.dropIsADuplicate=function(e,t,n){var i=e.get(n);return(0,u.checkForDuplicateFileName)(e,t,i.get("clientId"),i.getIn(["settings","fileName"])).duplicateId},y=function(e,t,n){e((0,l.payloadAction)(s["default"].UPDATE_DRAGGED_FILE_LOCATION,{targetFileClientId:t,droppedFileClientId:n}))};t.updateDraggedFileLocation=function(e,t){return function(n,i){if(null!==t){var o=i().files.getIn(["client","files"]),a=i().project;if(n((0,c.updateFileDraggingState)(e,!1)),n((0,c.updateFileDraggingOverState)(e,!1)),!g(o,e,t)){if(m(o,e,t))return void h(n,o.get(t));if("folder"===o.getIn([e,"settings","type"])&&!1===(0,d.checkFileStructureRestrictions)(o.get(e),o.get(t),o))return void _(n,o.get(t));var s=o.getIn([t,"parent"]);if(y(n,e,t),a.get("id")>0){var l=o.get(t),u=(0,v.getAllChildren)(o,l,!0),f=[t];"none"!==e&&f.push(e),s&&"none"!==s&&f.push(s),f=[].concat((0,r["default"])(f),(0,r["default"])(u.map(function(e){return e.get("clientId")}))),n((0,p.saveProjectFile)(f))}}}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFiles=t.deleteFile=t.deleteFileVariables=t.confirmThenDeleteFile=t.confirmThenDeleteFolder=void 0;var o=n(57),r=i(o),a=n(12),s=i(a),l=n(95),u=n(33),d=n(21),c=n(41),f=n(153),p=n(14),v=function(e,t,n){e(h(t)),n&&e((0,p.closeAllPopups)())},g=(t.confirmThenDeleteFolder=function(e,t,n,i){e((0,p.openConfirmModal)({style:"warning",copy:u.modals.copy.DELETE_FOLDER(n),onConfirm:function(){return v(e,t,i)}}))},t.confirmThenDeleteFile=function(e,t,n,i){e((0,p.openConfirmModal)({style:"warning",copy:u.modals.copy.DELETE_FILE(n),onConfirm:function(){return v(e,t,i)}}))},t.deleteFileVariables=function(e,t){var n=e.files.getIn(["client","files"]),i=n.get(t),o=i.has("children")?(0,l.getAllChildren)(n,i):[],a=[].concat((0,r["default"])(o),[i]),s=!(!i.get("parent")||!n.get(i.get("parent")))&&i.get("parent"),u=a.map(function(e){return e.get("clientId")});return s&&u.push(s),{file:i,children:o,filesToClose:a,filesToSave:u}}),h=t.deleteFile=function(e){return(0,f.trackEvent)("DELETE_FILE"),function(t,n){var i=n(),o=g(i,e),r=o.file,a=o.children,l=o.filesToClose,u=o.filesToSave;t((0,d.payloadAction)(s["default"].DELETE_FILE,{file:r,children:a})),(0,p.removeOpenFiles)(t,n,l),i.project.get("id")<=1||t((0,c.saveProject)({fileStateSegment:u}))}};t.deleteFiles=function(e){return function(t,n){var i=n(),o=[],r=[],a=[];e.forEach(function(e){var t=g(i,e),n=t.file,s=t.children,l=t.filesToClose,u=t.filesToSave;o.push({file:n,children:s}),r=r.concat(l),a=a.concat(u)}),t((0,d.payloadAction)(s["default"].DELETE_FILES,{files:o})),(0,p.removeOpenFiles)(t,n,r),i.project.get("id")<=1||t((0,c.saveProject)({fileStateSegment:a,noQueue:!0}))}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=i(o),a=n(3),s=i(a),l=n(14),u=function(){function e(t){(0,r["default"])(this,e),this.dispatch=t}return(0,s["default"])(e,[{key:"parseData",value:function(e){var t=e.split(" "),n=t[1];if(n&&-1!==n.indexOf("_START")&&3===t.length&&this.dispatch((0,l.clearGulpConsole)()),n&&(-1!==n.indexOf("_START")||-1!==n.indexOf("_DONE"))){var i={};if(t.shift(),!/in\//.test(t[t.length-1]))return;i.file=t.pop().substring(3),i.message=[t.join(" ")],this.dispatchLine(i)}}},{key:"dispatchLine",value:function(e){this.dispatch((0,l.addGulpLog)(e))}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseMessageInToAction=void 0;var o=n(12),r=i(o),a=n(21),s=n(14),l=n(35),u=n(41),d=n(727),c=i(d),f=["PUG","NUNJUCKS"],p=(t.parseMessageInToAction=function(e,t,n){if(e.indexOf("=> in")>-1){var i=e.match(/=> in\/(.*)/)[1];t((0,a.payloadAction)(r["default"].FILE_FINISHED_COMPILING,{filePath:i}))}if(e.indexOf("_DONE:")>-1){var o=n().project.getIn(["server","processor_settings","minify"]);if(-1===e.indexOf("_DONE: in")){var d=e.match(/\] (.*)_DONE/)[1];(!o||f.indexOf(d)>-1||"BABEL"===d)&&(t((0,s.updateProcessingQueue)({removeFromQueue:d})),p(t,n))}}if(e.indexOf("_ALT:")>-1&&-1===e.indexOf("_ALT: in")){var v=e.match(/\] (.*)_ALT/)[1];t((0,s.updateProcessingQueue)({removeFromQueue:v})),p(t,n)}if(e.indexOf("BINARY ")>-1&&-1===e.indexOf("BINARY in")&&t((0,l.updateChangedMediaFiles)({all:!0,onDisk:!0})),e.indexOf("SOURCE:")>-1){var g=e.match(/SOURCE: (.*)/)[1],h=c["default"][g];h&&t((0,s.updateProcessingQueue)({removeFromQueue:h})),p(t,n)}e.indexOf("Starting 'binaries'...")>-1?(t((0,s.updateProcessingSaveStatus)({setup:!1,containerCheck:!1,saveRequested:!1,lastMessage:Date.now()})),t((0,u.resaveFromQueues)())):t((0,s.updateProcessingSaveStatus)({lastMessage:Date.now()}))},function(e,t){t().ui.getIn(["processing","queue"])&&0===t().ui.getIn(["processing","queue"]).count()&&e((0,u.resaveFromQueues)())})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={"gulp-sass":"SASS","gulp-less":"LESS","gulp-stylus":"STYLUS","gulp-pug":"PUG","gulp-nunjucks":"NUNJUCKS","gulp-markdown":"MARKDOWN","webpack-stream":"BABEL","gulp-coffee":"COFFEESCRIPT","gulp-livescript":"LIVESCRIPT","gulp-typescript":"COFFEESCRIPT","gulp-clean-css":["SASS","AUTOPREFIXER","LESS","STYLUS"]},e.exports=t["default"]},,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(9)),y=n(742),E=i(y),S=(0,r["default"])(E["default"],{}),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.store;return(0,r["default"])(m.Provider,{store:e},void 0,S)}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(743),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(9),a=n(14),s=n(33),l=n(70),u=function(e){return{dragging:e.ui.getIn(["layout","dragging"]),view:e.project.get("view"),restricted:e.project.getIn(["restricted","project"]),limitations:(0,l.limitations)(e),browser:e.ui.get("browser")}},d=function(e){return{showRestrictedWarning:function(t,n){e((0,a.openErrorModal)({copy:s.modals.copy.PROJECT_IS_RESTRICTED(t,n)}))}}},c=(0,r.connect)(u,d)(o["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),n(744)),S=i(E),I=n(971),b=i(I),O=n(973),P=i(O),C=n(15),M=i(C);window.__projects_offline=!1;var F=(0,r["default"])(S["default"],{}),T=(0,r["default"])(P["default"],{}),A=(0,r["default"])("p",{}),k=(0,r["default"])(b["default"],{}),N=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.props.restricted&&this.props.showRestrictedWarning(this.props.limitations.get("projects"),this.props.limitations.get("used_projects"))}},{key:"renderRoot",value:function(){var e,t=(0,M["default"])((e={"react-container":!0},(0,s["default"])(e,this.props.browser,!0),(0,s["default"])(e,"dragging",this.props.dragging),e));return(0,r["default"])("div",{className:t},void 0,F,T,A)}},{key:"renderLive",value:function(){return k}},{key:"render",value:function(){switch(this.props.view){case"live":return this.renderLive();default:return this.renderRoot()}}}]),t}(m.Component);t["default"]=N,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=i(_),y=n(745),E=i(y),S=n(758),I=i(S),b=n(861),O=i(b),P=n(873),C=i(P),M=n(968),F=i(M),T=(0,r["default"])("div",{className:"project-root"},void 0,(0,r["default"])(E["default"],{}),(0,r["default"])(I["default"],{}),(0,r["default"])(O["default"],{}),(0,r["default"])(C["default"],{})),A=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"getChildContext",value:function(){return{emitter:this.shortcutManager.emitter}}},{key:"componentWillMount",value:function(){this.shortcutManager=new F["default"]}},{key:"render",value:function(){return T}}]),t}(h.Component);A.childContextTypes={emitter:m["default"].object},t["default"]=A,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(48),a=i(r),s=n(746),l=i(s),u=n(14),d=n(41),c=n(756),f=n(254),p=n(757),v=n(70),g=function(e){return{projectSettingsDialogOpen:a["default"].PROJECT_SETTINGS_DIALOG===e.ui.getIn(["popups","dialog"]),userDropdownDialogOpen:a["default"].USER_DROPDOWN_DIALOG===e.ui.getIn(["popups","dialog"]),editingTitle:e.ui.getIn(["projectTitleEditor","editing"]),projectSettings:e.project.get("client"),user:e.session.get("user"),teams:e.session.get("teams"),owner:e.project.get("owner"),limitations:(0,v.limitations)(e),projectId:e.project.get("id"),privateProject:e.project.getIn(["client","private"]),hasUnsavedChanges:(0,f.hasUnsavedChanges)(e),updating:(0,p.projectIsUpdating)(e),forking:e.requests["post_/projects/fork"]||!1,cloning:e.requests["post_/projects/clone"]||!1,autoRun:e.project.getIn(["client","editor_settings","auto_run"]),readOnly:e.project.get("readOnly"),heartLevel:e.session.getIn(["heart_level","heart_level"])}},h=function(e){return{onProjectSettingsDialogButtonClick:function(){e((0,u.toggleDialog)(a["default"].PROJECT_SETTINGS_DIALOG))},onViewSwitcherButtonClick:function(){e((0,u.toggleDialog)(a["default"].VIEW_SWITCHER_DIALOG))},onUserDropdownDialogButtonClick:function(){e((0,u.toggleDialog)(a["default"].USER_DROPDOWN_DIALOG))},onSaveBtnClick:function(){e((0,d.saveProject)())},onHeartBtnClick:function(t){e((0,c.heartProject)(t))},onForkBtnClick:function(){e((0,u.toggleDialog)(a["default"].FORK_PROJECT_DIALOG))},onSaveAsPrivateBtnClick:function(){e((0,d.updateProject)({"private":!0})),e((0,d.saveProject)())},onRunBtnClick:function(){e((0,u.triggerRender)({auto:!1}))},onEditTitleButtonClick:function(t){e((0,u.setProjectTitleEditingState)(!t))},saveTitleChanges:function(){e((0,d.saveProject)())},onSettingsChange:function(t){e((0,d.updateProject)(t))},onProjectSettingsSaveBtnClick:function(){e((0,d.saveProject)()),e((0,u.closeThisDialog)(a["default"].PROJECT_SETTINGS_DIALOG))}}},_=(0,o.connect)(g,h)(l["default"]);t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(747)),E=i(y),S=n(748),I=i(S),b=n(749),O=i(b),P=n(750),C=i(P),M=n(751),F=i(M),T=n(752),A=i(T),k=n(753),N=i(k),j=n(754),D=i(j),L=n(115),w=i(L),R=n(755),U=i(R),x=(0,r["default"])("svg",{className:"icon-codepen-box"},void 0,(0,r["default"])("use",{xlinkHref:"#codepen-box"})),G=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"renderTitle",value:function(){return 0!==this.props.projectId||this.props.limitations.get("remaining_projects")>0?_["default"].createElement(E["default"],this.props):null}},{key:"renderSecondaryNav",value:function(){var e=this,t=1===this.props.user.get("id"),n=this.props.user.get("id")===this.props.owner.get("id"),i=!this.props.readOnly,o=this.props.limitations.get("remaining_projects")>0,a=this.props.forking,s=i&&(0!==this.props.projectId||o)&&!a,l=!t&&(!this.props.privateProject||n)&&0!==this.props.projectId||this.props.user.get("admin"),u=!t&&!n,d=s&&this.props.limitations.get("can_create_private"),c=void 0,f=void 0,p=void 0,v=void 0,g=void 0,h=void 0,_=void 0,m=void 0,y=void 0,E=void 0;return i&&this.props.projectId>0&&!this.props.autoRun&&(p=(0,r["default"])(F["default"],{onRunBtnClick:this.props.onRunBtnClick})),d&&0===this.props.projectId&&(c=(0,r["default"])(I["default"],{onSaveBtnClick:this.props.onSaveAsPrivateBtnClick,projectId:this.props.projectId,hasUnsavedChanges:this.props.hasUnsavedChanges,updating:this.props.updating||this.props.cloning,autoRun:this.props.autoRun,"private":!0})),s&&(f=(0,r["default"])(I["default"],{onSaveBtnClick:this.props.onSaveBtnClick,projectId:this.props.projectId,hasUnsavedChanges:this.props.hasUnsavedChanges,updating:this.props.updating||this.props.cloning,autoRun:this.props.autoRun})),u&&(h=(0,r["default"])(C["default"],{onHeartBtnClick:this.props.onHeartBtnClick,projectId:this.props.projectId,heartLevel:this.props.heartLevel})),l&&(g=(0,r["default"])(O["default"],{onForkBtnClick:function(){return e.props.onForkBtnClick()},forking:this.props.forking,projectId:this.props.projectId})),i&&(v=(0,r["default"])(N["default"],{projectSettingsDialogOpen:this.props.projectSettingsDialogOpen,canSave:s,onProjectSettingsDialogButtonClick:this.props.onProjectSettingsDialogButtonClick})),t?(y=(0,r["default"])(w["default"],{url:"/login",classes:"button-editor-solid button-editor-outline",label:"Log In"}),E=(0,r["default"])(w["default"],{url:"/signup",classes:"button-editor-solid button-editor-outline",label:"Sign Up"})):m=(0,r["default"])(D["default"],{onUserDropdownDialogButtonClick:this.props.onUserDropdownDialogButtonClick,userDropdownDialogOpen:this.props.userDropdownDialogOpen,user:this.props.user,teams:this.props.teams}),0!==this.props.projectId&&(_=(0,r["default"])(A["default"],{onViewSwitcherButtonClick:this.props.onViewSwitcherButtonClick})),(0,r["default"])("div",{className:"header-chunk primary-actions secondary-nav"},void 0,c,p,f,h,g,v,_,m,y,E)}},{key:"render",value:function(){return(0,r["default"])("header",{className:"main-header",id:"main-header"},void 0,(0,r["default"])("div",{className:"header-chunk pen-title-area fill-space"},void 0,(0,r["default"])("a",{className:"pen-title-home-link",href:(0,U["default"])("/")},void 0,x),this.renderTitle()),this.renderSecondaryNav())}}]),t}(h.Component);t["default"]=G,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(31)),E=i(y),S=(0,r["default"])("use",{xlinkHref:"#edit"}),I=(0,r["default"])("span",{className:"badge badge-pro"},void 0,"PRO"),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.props.editingTitle&&E["default"].findDOMNode(this.refs.titleInput).focus()}},{key:"componentDidUpdate",value:function(){this.props.editingTitle&&E["default"].findDOMNode(this.refs.titleInput).focus()}},{key:"onPencilButtonClick",value:function(e){e.preventDefault(),this.props.onEditTitleButtonClick(this.props.editingTitle)}},{key:"onInputBlur",value:function(){this.props.onEditTitleButtonClick(this.props.editingTitle)}},{key:"onInputChange",value:function(){this.props.onSettingsChange({title:this.refs.titleInput.value})}},{key:"onInputSubmit",value:function(e){e.preventDefault(),this.props.saveTitleChanges(),this.props.onEditTitleButtonClick(this.props.editingTitle)}},{key:"moveCaretAtEnd",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t}},{key:"renderTitle",value:function(){var e=this,t=this.props.readOnly?null:(0,r["default"])("svg",{className:"edit-pen-title",onClick:function(t){return e.onPencilButtonClick(t)}},void 0,S);return this.props.editingTitle?(0,r["default"])("form",{onSubmit:function(t){return e.onInputSubmit(t)}},void 0,_["default"].createElement("input",{onBlur:function(){return e.onInputBlur()},onChange:function(){return e.onInputChange()},onFocus:function(t){return e.moveCaretAtEnd(t)},ref:"titleInput",type:"text",value:this.props.projectSettings.get("title")})):(0,r["default"])("div",{},void 0,(0,r["default"])("a",{className:"pen-title-link",href:"#0"},void 0,this.props.projectSettings.get("title")||"Untitled"),t)}},{key:"render",value:function(){var e=this.props.owner,t=e.get("team")?e.get("team"):e,n=t.get("base_url"),i=t.get("name");""===i&&(i=t.get("username"));var o=null;return!0===e.get("paid")&&(o=I),(0,r["default"])("div",{className:"pen-title-text"},void 0,(0,r["default"])("h1",{className:"pen-title",id:"pen-title"},void 0,this.renderTitle()),(0,r["default"])("div",{className:"by"},void 0,"A Project By"," ",(0,r["default"])("a",{className:"pen-owner-link",href:n},void 0,i," ",o)))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(16),S=i(E),I=(0,r["default"])("span",{className:"icon-wrap"},void 0,(0,r["default"])(S["default"],{icon:"cloud"}),(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(S["default"],{icon:"spinner"}))),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onClick",value:function(e){e&&e.preventDefault(),this.props.onSaveBtnClick()}},{key:"render",value:function(){var e=this,t=this.props,n=(0,y["default"])({button:!0,"button-editor-solid":0===t.projectId,"button-editor-outline":t.projectId>0,"save-btn":!0,updating:t.updating,unsaved:t.hasUnsavedChanges}),i=" Save";return t.projectId>0&&(i=t.autoRun?" Save All + Run":" Save All"),t["private"]&&(i=" Save As Private"),(0,r["default"])("button",{className:n,onClick:function(t){return e.onClick(t)}},void 0,I,i)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(16),S=i(E),I=(0,r["default"])("span",{className:"icon-wrap"},void 0,(0,r["default"])(S["default"],{icon:"branch"}),(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(S["default"],{icon:"spinner"}))),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onClick",value:function(e){e&&e.preventDefault(),this.props.onForkBtnClick()}},{key:"render",value:function(){var e=this,t=this.props,n=(0,y["default"])({button:!0,"button-editor-solid":0===t.projectId,"button-editor-outline":t.projectId>0,forking:t.forking,"fork-btn":!0});return(0,r["default"])("button",{className:n,onClick:function(t){return e.onClick(t)}},void 0,I," Fork")}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),n(15)),S=i(E),I=n(16),b=i(I),O=(0,r["default"])(b["default"],{icon:"heart"}),P=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"onClick",value:function(e){e&&e.preventDefault(),this.props.onHeartBtnClick(this.props.heartLevel)}},{key:"render",value:function(){var e=this,t=this.props,n=(0,S["default"])((0,s["default"])({button:!0,"button-editor-solid":0===t.projectId,"button-editor-outline":t.projectId>0,loves:!0},t.heartLevel,!0));return(0,r["default"])("button",{className:n,onClick:function(t){return e.onClick(t)}},void 0,O)}}]),t}(m.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onClick",value:function(e){e&&e.preventDefault(),this.props.onRunBtnClick()}},{key:"render",value:function(){return(0,r["default"])(y["default"],{classes:"button-editor-outline",icon:"run",refLink:"rerun",label:"Run",onClick:this.props.onRunBtnClick})}}]),t}(h.Component);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return(0,r["default"])(y["default"],{classes:"button button-editor-solid view-switcher-button",icon:"viewswitcher",label:"Change View",onClick:this.props.onViewSwitcherButtonClick})}}]),t}(h.Component);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(34),S=i(E),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.projectSettingsDialogOpen!==e.projectSettingsDialogOpen}},{key:"render",value:function(){if(this.props.canSave){var e=(0,y["default"])({active:this.props.projectSettingsDialogOpen,"button-editor-solid":!0});return(0,r["default"])(S["default"],{classes:e,icon:"gear",label:"Settings",onClick:this.props.onProjectSettingsDialogButtonClick})}return null}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(26),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!this.props.user.equals(e.user)}},{key:"getCurrentAvatar",value:function(){var e=this.props.user,t=this.props.teams;return 0===e.get("current_team_id")?e.get("avatar_url_80"):t.find(function(t){return t.get("id")===e.get("current_team_id")}).get("avatar_url_80")}},{key:"render",value:function(){return(0,r["default"])("div",{className:"all-user-dropdown-stuff user-stuff header-chunk"},void 0,(0,r["default"])("img",{src:this.getCurrentAvatar(),width:"44",height:"44",alt:"User Avatar",id:"mini-personal-avatar",className:"user-avatar",onClick:this.props.onUserDropdownDialogButtonClick}))}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.location.origin.replace("https://","http://");t["default"]=function(e){return n+e},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heartProject=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=function(e){return{type:o["default"].HEART_PROJECT,payload:{props:e}}};t.heartProject=function(e){return function(t,n){var i=parseInt(e.split("-").pop(),10);++i>3&&(i=0);var o=n().project;return t(a({level:i})),(0,r.post)({dispatch:t,getState:n,url:"/love/project/"+o.get("hashid")+"/"+i,onSuccess:function(){}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectIsUpdating=void 0;var i=n(30),o=function(e){return e.requests["post_/projects/project"]},r=function(e){return e.requests["put_/projects/project/"+e.project.get("id")]},a=function(e){return e.ui.get("processing")};t.projectIsUpdating=(0,i.createSelector)([r,o,a],function(e,t,n){return!0===e||!0===t||!n.get("hidden")&&(!0===n.get("saveRequested")||!0===n.get("setup")||!0===n.get("containerCheck"))})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(759),_=i(h),m=n(760),y=i(m),E=n(787),S=i(E),I=n(0),b=(i(I),n(795)),O=i(b),P=n(797),C=i(P),M=n(799),F=i(M),T=n(803),A=i(T),k=n(858),N=i(k),j=n(860),D=i(j),L=(0,r["default"])("div",{className:"project-editor-wrap"},void 0,(0,r["default"])(_["default"],{}),(0,r["default"])(D["default"],{}),(0,r["default"])(N["default"],{}),(0,r["default"])(A["default"],{}),(0,r["default"])(O["default"],{classes:"project-resizer-vertical",type:"horizontal"}),(0,r["default"])("div",{className:"project-editor-editor-and-result"},void 0,(0,r["default"])(y["default"],{}),(0,r["default"])(O["default"],{classes:"project-resizer-horizontal",type:"vertical"},void 0,(0,r["default"])(C["default"],{}),(0,r["default"])(F["default"],{})),(0,r["default"])(S["default"],{}))),w=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return L}}]),t}(I.Component);t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{
value:!0});var o=n(5),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(6),c=i(d),f=n(7),p=i(f),v=n(0),g=n(4),h=(i(g),n(9)),_=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){this.props.redirectToURL&&(document.location=this.props.redirectToURL);var e=window.location.search,t=this.props.url+e;return window.history.replaceState(t,"",t),null}}]),t}(v.Component),m=function(e){return{url:e.project.get("url"),redirectToURL:e.project.get("redirectToURL")}},y=function(){return{}};t["default"]=(0,h.connect)(m,y)(_),e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(761),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(35),s=n(41),l=n(786),u=n(336),d=function(e){return{layout:e.ui.getIn(["layout","editor"]),file:(0,l.editingFile)(e),openFiles:(0,u.openFiles)(e),projectId:e.ui.get("project_id"),editorSettings:e.project.get("editor_settings"),processorSettings:e.project.getIn(["client","processor_settings"]),creatingNewFile:e.ui.get("creatingFile")["delete"]("fileName"),filesContent:e.files.getIn(["client","content"]),filesExist:e.files.getIn(["client","files"]).toArray().length>0,readOnly:e.project.get("readOnly"),resourcesOpen:e.ui.getIn(["resources","open"])}},c=function(e){return{onEditorChange:function(t,n){e((0,a.updateFileContent)({clientId:t,content:n}))},requestFilesContent:function(t){e((0,a.getFilesContent)(t))},shortcuts:{save:function(t){e((0,a.saveProjectFile)(t))},saveAllFiles:function(){e((0,s.saveProject)())},clearErrors:function(t){e((0,a.updateFileErrors)(t,[]))}}}},f=(0,i.connect)(d,c)(r["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(762)),E=i(y),S=n(766),I=i(S),b=n(767),O=i(b),P=n(768),C=i(P),M=n(785),F=i(M),T=n(255),A=(n(26),n(15)),k=i(A),N=(0,r["default"])(I["default"],{}),j=(0,r["default"])(E["default"],{}),D=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){this.checkForFileContent(this.props)}},{key:"componentWillReceiveProps",value:function(e){!e.file||this.props.file&&this.props.file.get("clientId")===e.file.get("clientId")||this.checkForFileContent(e)}},{key:"shouldComponentUpdate",value:function(e){if(this.props.readOnly===e.readOnly&&this.props.layout===e.layout&&this.props.resourcesOpen===e.resourcesOpen){if(!this.props.file&&!e.file&&this.props.creatingNewFile.equals(e.creatingNewFile))return!1;if(this.props.file&&e.file&&this.props.file.equals(e.file))return!1}return!0}},{key:"checkForFileContent",value:function(e){var t=this,n=e.openFiles.filter(function(n){var i=n.get("clientId");return!t.fileIsMedia(n)&&(!e.filesContent.get(i)||!(!e.filesContent.get(i)||e.filesContent.hasIn([i,"content"])||e.filesContent.hasIn([i,"loadingContent"])||e.filesContent.hasIn([i,"loadError"]))||void 0)}).map(function(e){return e.get("clientId")});e.file&&e.file.has("loadError")&&(n=n.add(e.file.get("clientId"))),n.count()>0&&e.requestFilesContent(n)}},{key:"renderInstructional",value:function(){var e=this.props;return void 0===e.file&&!1===e.creatingNewFile.get("on")?(0,r["default"])(O["default"],{readOnly:e.readOnly,filesExist:e.filesExist}):!0===e.creatingNewFile.get("on")&&"file"===e.creatingNewFile.get("type")?N:void 0}},{key:"fileIsMedia",value:function(e){var t=(0,T.getFileCategoryFromExtension)(e.getIn(["settings","fileName"]));return("image"===t||"video"===t||"audio"===t||"binary"===t)&&t}},{key:"render",value:function(){var e=this.props,t=void 0;e.file&&(t=this.fileIsMedia(e.file));var n=e.file&&!t?_["default"].createElement(C["default"],this.props):null,i=t?(0,r["default"])(F["default"],{file:this.props.file,mediaType:t}):null,o={height:e.layout+"%"},a=(0,k["default"])({"project-editor-editor":!0,"read-only":this.props.readOnly});return(0,r["default"])("div",{className:a,style:o},void 0,j,this.renderInstructional(),n,i)}}]),t}(h.Component);t["default"]=D,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(14),r=n(35),a=n(33),s=n(763),l=function(e){return e&&e.__esModule?e:{"default":e}}(s),u=n(336),d=function(e){return{files:e.files.getIn(["client","files"]),openFiles:(0,u.openFiles)(e),editing:e.ui.get("editing"),layout:e.ui.get("layout")}},c=function(e){return{onTabClick:function(t,n,i){e((0,o.setSelectedSidebarItem)(t,n,i,!0))},onCloseBtnClick:function(t){e(t.get("diff")?(0,o.openConfirmModal)({style:"warning",copy:a.modals.copy.UNSAVED_FILE(t.getIn(["settings","fileName"])),onConfirm:function(){e((0,r.resetFileContentToSaved)(t.get("clientId"))),e((0,o.removeFileFromOpenFilesList)(t))},onAlternate:function(){e((0,r.saveProjectFile)(t.get("clientId"))),e((0,o.removeFileFromOpenFilesList)(t))}}):(0,o.removeFileFromOpenFilesList)(t))},swapOpenFilePositions:function(t,n){e((0,o.swapOpenFilePositions)(t,n))},setLayoutState:function(t){e((0,o.setLayoutState)(t))}}},f=(0,i.connect)(d,c)(l["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(764)),I=i(S),b=n(765),O=i(b),P=(n(26),n(13)),C=(i(P),n(10)),M=i(C),F=n(23),T=function(e){function t(e,n){(0,c["default"])(this,t);var i=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return(0,F.bindToContext)(i,"updateVisibleTabs","setTabWidth","onTabRemoving","setWindowWidth","onTabDragging"),i}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.setState({tabs:M["default"].Map({}),outOfBounds:M["default"].Set([]),navWidth:0,offset:0})}},{key:"componentDidMount",value:function(){this.lastOutOfBoundTabs=[],this.updateVisibleTabs(),window.addEventListener("resize",this.setWindowWidth)}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.openFiles.equals(e.openFiles)&&this.props.editing===e.editing&&this.props.layout.equals(e.layout)&&this.state.tabs.equals(t.tabs)&&this.state.outOfBounds.equals(t.outOfBounds)&&this.state.offset===t.offset&&this.state.navWidth===t.navWidth&&this.props.openFiles===e.openFiles)}},{key:"componentDidUpdate",value:function(){this.updateVisibleTabs()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setWindowWidth)}},{key:"setWindowWidth",value:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],o=e.innerWidth||n.clientWidth||i.clientWidth;this.props.setLayoutState({windowWidth:o})}},{key:"setTabWidth",value:function(e){this.setState(function(t){var n=t.tabs.set(e.get("clientId"),e.get("position"));return(0,s["default"])({},t,{tabs:n,tabLength:n.reduce(function(e,t){return t.get("right")>e?t.get("right"):e},0)})})}},{key:"onTabRemoving",value:function(e){this.setState(function(t){var n=t.tabs.remove(e);return(0,s["default"])({},t,{tabs:n,tabLength:n.reduce(function(e,t){return t.get("right")>e?t.get("right"):e},0)})})}},{key:"updateNavOffset",value:function(){var e=0,t=this.state.tabs.get(this.props.editing);this.state.navWidth>this.state.tabLength?e=0:t&&(t.get("right")-5>this.state.navWidth?e=-1*(t.get("right")+5-this.state.navWidth):t.get("left")+e<0&&(e=-t.get("left"))),e!==this.state.offset&&this.setState(function(t){return(0,s["default"])({},t,{offset:e})})}},{key:"updateOutOfBoundsTabs",value:function(){var e=this,t=M["default"].Set([]);this.state.tabs.forEach(function(n,i){n.get("right")-5>e.state.navWidth-e.state.offset?t=t.add(i):n.get("left")+e.state.offset<0&&(t=t.add(i))}),t.equals(this.state.outOfBounds)||this.setState(function(e){return(0,s["default"])({},e,{outOfBounds:t})})}},{key:"updateVisibleTabs",value:function(){var e=this.refs.navContainer.offsetWidth-30;e!==this.state.navWidth?this.setState(function(t){return(0,s["default"])({},t,{navWidth:e})}):(this.updateNavOffset(),this.updateOutOfBoundsTabs())}},{key:"onTabDragging",value:function(e,t,n,i){var o=this,r=n+i;this.state.tabs.forEach(function(e,n){if(n!==t){var i=e.get("width")/4;r>e.get("left")+i&&r<e.get("right")-i&&o.props.swapOpenFilePositions(t,n)}})}},{key:"checkForDuplicateNames",value:function(e,t){if(e.find(function(e){return t.getIn(["settings","fileName"])===e.getIn(["settings","fileName"])&&t.get("clientId")!==e.get("clientId")})&&t.get("client_file_path")){var n=t.get("client_file_path").replace("/"+t.getIn(["settings","fileName"]),"").split("/");return t.set("includeDir",n[n.length-1])}return t}},{key:"render",value:function(){var e=this,t=this.props,n=this.state.tabs.reduce(function(e,t){return e+t.get("width")},6),i={width:n+"px",transform:"translateX("+this.state.offset+"px)"};return y["default"].createElement("nav",{className:"project-editor-open-files",ref:"navContainer"},y["default"].createElement("ul",{style:i,ref:"navList"},t.openFiles.valueSeq().toArray().map(function(n,i){return n=e.checkForDuplicateNames(t.openFiles,n),(0,r["default"])(I["default"],{file:n,editing:t.editing,index:i,onCloseBtnClick:t.onCloseBtnClick,onTabClick:t.onTabClick,setTabWidth:e.setTabWidth,onTabRemoving:e.onTabRemoving,onTabDragging:e.onTabDragging,navWidth:e.state.navWidth},n.get("clientId"))})),(0,r["default"])(O["default"],{files:t.files,outOfBounds:this.state.outOfBounds,onTabClick:t.onTabClick}))}}]),t}(m.Component);t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(15)),I=i(S),b=n(16),O=i(b),P=n(255),C=(n(26),n(10)),M=i(C),F=n(23),T=(0,r["default"])(O["default"],{icon:"x"}),A=function(e){function t(e,n){(0,c["default"])(this,t);var i=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return(0,F.bindToContext)(i,"beingDragged","endDragging"),i}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.setState({dragging:!1,dragPosition:0,dragStartPosition:0})}},{key:"componentDidMount",value:function(){this.checkWidth()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.index!==e.index||!this.props.file.equals(e.file)||this.props.editing!==e.editing||this.state.dragging!==t.dragging||this.state.draggingPosition!==t.dragPosition}},{key:"componentDidUpdate",value:function(){this.checkWidth()}},{key:"componentWillUnmount",value:function(){this.props.onTabRemoving(this.props.file.get("clientId"))}},{key:"startDragging",value:function(e){document.addEventListener("mousemove",this.beingDragged),document.addEventListener("mouseup",this.endDragging);var t=e.nativeEvent.offsetX;"SPAN"===e.target.nodeName&&"DIV"===e.target.nodeName||(t=e.target.offsetWidth?this.refs.tab.offsetWidth-e.nativeEvent.offsetX:this.refs.tab.offsetWidth-16-e.nativeEvent.offsetX),this.setState({dragging:!1,dragStartPosition:t,dragPosition:null})}},{key:"beingDragged",value:function(e){var t=window.innerWidth-(this.props.navWidth+30),n=Math.max(e.clientX-t-this.state.dragStartPosition,0);!1===this.state.dragging&&this.tabClick(),this.setState({dragging:!0,dragPosition:n}),this.props.onTabDragging(e,this.props.file.get("clientId"),n,this.state.dragStartPosition)}},{key:"endDragging",value:function(){document.removeEventListener("mousemove",this.beingDragged),document.removeEventListener("mouseup",this.endDragging),this.setState({dragging:!1})}},{key:"onMouseOrTouchDown",value:function(e){return 2===e.nativeEvent.which?void this.props.onCloseBtnClick(this.props.file):void this.startDragging(e)}},{key:"mouseEnter",value:function(){this.refs.changeIndicator.style.display="none",this.refs.closeBtn.style.display="inline-block"}},{key:"mouseLeave",value:function(){!0===this.props.file.get("diff")&&(this.refs.changeIndicator.style.display="inline-block",this.refs.closeBtn.style.display="none")}},{key:"checkWidth",value:function(){var e=this.refs.tab.offsetLeft,t=this.refs.tab.offsetWidth;this.props.setTabWidth(M["default"].Map({clientId:this.props.file.get("clientId"),position:M["default"].Map({left:e,width:t,right:e+t})}))}},{key:"closeButtonClick",value:function(e){e.stopPropagation(),this.props.onCloseBtnClick(this.props.file)}},{key:"tabClick",value:function(){this.props.onTabClick(this.props.file.get("clientId"),this.props.file.get("diff"),this.props.file.get("parent"))}},{key:"render",value:function(){var e=this,t=(0,I["default"])({"open-file":this.props.file.get("clientId")===this.props.editing,"not-editable":!1===this.props.file.get("editable"),dragging:this.state.dragging}),n=(0,P.getFileCategoryFromExtension)(this.props.file.getIn(["settings","fileName"])),i=(0,I["default"])((0,s["default"])({"tab-contents":!0},"file-"+n,!0)),o=(0,I["default"])({"close-btn":!0}),a=(0,I["default"])({"changed-indicator":!0}),l={},u={};!0===this.props.file.get("diff")?(l.display="none",u.display="inline-block"):(l.display="inline-block",u.display="none");var d=null,c={};if(this.state.dragging){var f={width:this.refs.tab.offsetWidth};d=(0,r["default"])("div",{className:"dragging-spacer",style:f}),this.state.dragPosition&&(c={left:this.state.dragPosition+"px"})}var p=this.props.file.getIn(["settings","fileName"]),v=this.props.file.has("includeDir")?p+" \u2014 "+this.props.file.get("includeDir"):this.props.file.getIn(["settings","fileName"]);return y["default"].createElement("li",{className:t,ref:"tab",onMouseDown:function(t){return e.onMouseOrTouchDown(t)}},(0,r["default"])("div",{className:i,style:c},void 0,(0,r["default"])("span",{className:"tab-file-name",onClick:function(t){return e.tabClick(t)}},void 0,v),y["default"].createElement("button",{ref:"closeBtn",className:o,style:l,onClick:function(t){return e.closeButtonClick(t)},onMouseLeave:function(){return e.mouseLeave()}},T),y["default"].createElement("span",{ref:"changeIndicator",className:a,style:u,onMouseEnter:function(){return e.mouseEnter()}})),d)}}]),t}(m.Component);t["default"]=A,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(15)),E=i(y),S=n(16),I=i(S),b=(n(26),n(13)),O=(i(b),(0,r["default"])(I["default"],{icon:"arrow-down-mini"})),P=(0,r["default"])("option",{disabled:!0,value:"default"},"default"," Jump to..."),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!this.props.outOfBounds.equals(e.outOfBounds)}},{key:"jumpToOpenFile",value:function(){var e=this.refs.fileSelect.getAttribute("data-level"),t=this.refs.fileSelect.getAttribute("data-parent");this.props.onTabClick(this.refs.fileSelect.value,Number(e),"none"===t?t:Number(t)),this.refs.fileSelect.value="default"}},{key:"render",value:function(){var e=this,t=this.props,n=(0,E["default"])({"open-tabs-selector-wrap":!0,hide:0===t.outOfBounds.count()});return(0,r["default"])("div",{className:n},void 0,O,_["default"].createElement("select",{className:"open-tabs-selector",defaultValue:"default",ref:"fileSelect",onChange:function(){return e.jumpToOpenFile()}},P,this.props.outOfBounds.toArray().map(function(e){var n=t.files.get(e);if(n)return(0,r["default"])("option",{value:e,"data-level":n.get("level"),"data-parent":n.get("parent")},e,n.getIn(["settings","fileName"]))})))}}]),t}(h.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(337)),l=i(s),u=(0,r["default"])("div",{className:"instructional"},void 0,(0,r["default"])("div",{className:"description"},void 0,(0,r["default"])("h2",{},void 0,"Create a New File"),(0,r["default"])("p",{},void 0,"You name files anything you like in here, but files named with certain extentions are preprocessed."),(0,r["default"])("div",{className:"file-type-cheatsheet"},void 0,(0,r["default"])("h3",{},void 0,"File Types Cheatsheet"),(0,r["default"])(l["default"],{})))),d=function(){return u};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(337)),y=i(m),E=(0,r["default"])("div",{},void 0,(0,r["default"])("h2",{},void 0,"Welcome to the Project Editor! ",(0,r["default"])("span",{className:"badge-beta"},void 0,"BETA")),(0,r["default"])("p",{},void 0,"Open a file on the left to see its content. HTML files can be previewed below.")),S=(0,r["default"])("h2",{},void 0,"This Project is Empty!"),I=(0,r["default"])("p",{},void 0,"Here's some ASCII art..."),b=(0,r["default"])("div",{},void 0,(0,r["default"])("h2",{},void 0,"The Project Editor! ",(0,r["default"])("span",{className:"badge-beta"},void 0,"BETA")),(0,r["default"])("p",{},void 0,"Your own code editor and file system in the sky."),(0,r["default"])("ul",{},void 0,(0,r["default"])("li",{},void 0,"Create new files and directories with the buttons in the lower left."),(0,r["default"])("li",{},void 0,"Click on a file in the sidebar to open it here."),(0,r["default"])("li",{},void 0,"Drag and drop files into the sidebar to upload them.")),(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"https://blog.codepen.io/projects/project-editor/",target:"_blank",rel:"noopener"},void 0,"Learn more")," in the docs."),(0,r["default"])("div",{className:"file-type-cheatsheet"},void 0,(0,r["default"])("h3",{},void 0,"File Types Cheatsheet"),(0,r["default"])(y["default"],{}))),O=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"ascii",value:function(){return["                `.`                ","             `:ohdho:`             ","          `-ohddWWWddho-`          ","       `-ohddy+.dWd.+yddho-`       ","    `-ohddy+.`  dWd  `.+yddho-`    "," `-+hddy+-`     dWd     `-+yddh+-` ","-hdWdo-`      .:dWd:.      `-odWdh-","+WWWdy/.   `:shWdydWhs:`   ./ydWWW+","+WWoohWdy+shWdy/. ./ydWhs+ydWhooWW+","+WW/ -oWWWWWh:`     `:hWWWWWo- /WW+","+WWoohWdy+shWdy/. ./ydWhs+ydWhooWW+","+WWWdy+.   `:shWdydWhs:`   .+ydWWW+","-hdWdo-`      .:dWd:.      `-odWdh-"," `-+hddy+-`     dWd     `-+yddh+-` ","    `-ohddy+.`  dWd  `.+yddho-`    ","       `-ohddy+.dWd.+yddho-`       ","          `-ohddWWWddho-`          ","             `:ohdho:`             ","                `.`                "].join("\n").replace(/ /g,"\xa0")}},{key:"renderIntro",value:function(){if(this.props.readOnly){var e={fontFamily:"Menlo, monospace",fontSize:"0.8rem",lineHeight:"1.3",color:"#c5c5c5"};return this.props.filesExist?E:(0,r["default"])("div",{style:{textAlign:"center"}},void 0,S,I,(0,r["default"])("pre",{style:e},void 0,this.ascii()))}return b}},{key:"render",value:function(){return(0,r["default"])("div",{className:"instructional"},void 0,(0,r["default"])("div",{className:"description"},void 0,this.renderIntro()))}}]),t}(h.Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=i(_),y=n(15),E=i(y),S=n(769),I=i(S),b=n(771),O=i(b),P=n(774),C=i(P),M=n(97),F=(n(26),n(13)),T=(i(F),n(784)),A=i(T),k=n(338),N=i(k),j=(0,r["default"])(A["default"],{}),D=(0,r["default"])(N["default"],{}),L=(0,r["default"])(O["default"],{}),w=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.listener=(0,M.bindShortcutListener)(this.context.emitter,"EditorPane",this.handleShortcuts.bind(this))}},{key:"shouldComponentUpdate",value:function(e){return!(this.props.readOnly===e.readOnly&&this.props.file&&this.props.file.equals(e.file)&&this.props.openFiles.equals(e.openFiles)&&this.props.editorSettings.equals(e.editorSettings)&&this.props.resourcesOpen===e.resourcesOpen)}},{key:"componentWillUnmount",value:function(){(0,M.unbindShortcutListener)(this.listener)}},{key:"renderEditorContents",value:function(){var e=this;return this.props.file.has("loadError")?j:this.props.file.has("loadingContent")?D:(0,r["default"])(C["default"],{file:this.props.file,openFiles:this.props.openFiles,isImage:this.props.isImage,editorSettings:this.props.editorSettings,processorSettings:this.props.processorSettings,onEditorChange:this.props.onEditorChange,readOnly:this.props.readOnly,saveFile:function(){return e.props.shortcuts.save(e.props.file.get("clientId"))}})}},{key:"handleShortcuts",value:function(e){if(this.props.file)switch(e.functionName){case"SHOW_FILE_SETTINGS":this.props.shortcuts.showFileSettings();break;case"SAVE_FILE":this.props.projectId>0?this.props.shortcuts.save(this.props.file.get("clientId")):this.props.shortcuts.saveAllFiles();break;case"CLEAR_ERRORS":this.props.shortcuts.clearErrors(this.props.file.get("clientId"));break;case"SAVE_ALL_FILES":this.props.shortcuts.saveAllFiles()}}},{key:"render",value:function(){var e=(0,E["default"])({"editor-pane":!0,hide:void 0===this.props.file||this.props.isImage}),t=this.props.readOnly?null:(0,r["default"])(I["default"],{file:this.props.file}),n=this.props.resourcesOpen&&!0===this.props.file.get("editable")?L:null;return(0,r["default"])("div",{className:e},void 0,t,n,this.renderEditorContents())}}]),t}(h.Component);w.contextTypes={emitter:m["default"].object},t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(770),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(35),s=n(14),l=function(e,t){return{file:t.file,analyzeSpinning:e.ui.getIn(["spinners","analyze"]),tidySpinning:e.ui.getIn(["spinners","tidy"]),resourcesOpen:e.ui.getIn(["resources","open"])}},u=function(e){return{onFileSaveButtonClick:function(t){e((0,a.saveProjectFile)(t))},onTidyButtonClick:function(t,n,i){e((0,a.beautifyFileContent)(t,n,i)),e((0,s.setSpinningState)("tidy",!0))},onAnalyzeButtonClick:function(t,n,i){e((0,a.analyzeFileContent)(t,n,i)),e((0,s.setSpinningState)("analyze",!0))},onClearErrorsButtonClick:function(t){e((0,a.updateFileErrors)(t,[]))},onResourcesButtonClick:function(){e((0,s.toggleResources)())}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(15)),u=i(l),d=n(34),c=i(d),f=(n(26),function(e){var t=(0,u["default"])({powers:!0,hide:!e.file||!1===e.file.editable});if(!e.file||!1===e.file.editable)return null;var n="button-medium mini-button editor-button",i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,d=e.file,f=d.get("settings"),p=["css","less","scss","html","js","typescript"],v=["css","html","js"];if(e.file&&p.indexOf(f.get("type"))>=0&&!0===d.get("editable")&&(i=(0,r["default"])(c["default"],{label:"Tidy",classes:n,spinner:"true",spinning:e.tidySpinning,onClick:function(){return e.onTidyButtonClick(f.get("type"),d.get("clientId"),d.get("content"))}})),e.file&&v.indexOf(f.get("type"))>=0&&(o=(0,r["default"])(c["default"],{label:"Analyze",classes:n,spinner:"true",spinning:e.analyzeSpinning,onClick:function(){return e.onAnalyzeButtonClick(f.get("type"),d.get("clientId"),d.get("content"))}})),e.file.get("errors")&&e.file.get("errors").count()>0&&(a=(0,r["default"])(c["default"],{label:"Clear Errors",classes:n,onClick:function(){return e.onClearErrorsButtonClick(d.get("clientId"))}})),d&&!1!==d.get("editable")){s=(0,r["default"])(c["default"],{label:"Save",classes:n,icon:"cloud",onClick:function(){return e.onFileSaveButtonClick(d.get("clientId"))}});var g=e.resourcesOpen?n+" active":n;l=(0,r["default"])(c["default"],{label:"External Resources",classes:g,onClick:e.onResourcesButtonClick})}return(0,r["default"])("div",{className:t},void 0,i,o,a,s,l)});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(772),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(e){return{results:e.ui.getIn(["resources","results"]),resultsType:e.ui.getIn(["resources","resultsType"]),searchTerm:e.ui.getIn(["resources","searchTerm"]),searchType:e.ui.getIn(["resources","searchType"])}},l=function(e){return{updateResourceType:function(t){e((0,a.updateResourceType)(t))},updateSearchTerm:function(t){e((0,a.updateResourceSearch)(t))},onSuccessfulUrlCopy:function(){e((0,a.setPopupMessage)("URL copied to clipboard!"))},onResourcesButtonClick:function(){e((0,a.toggleResources)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(4),y=i(m),E=n(0),S=i(E),I=n(773),b=i(I),O=n(23),P=n(13),C=(i(P),n(16)),M=i(C),F=(0,r["default"])(M["default"],{icon:"mag"}),T=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,O.bindToContext)(n,"onRadioChange","onInputChange","onKeyDown"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),_["default"].findDOMNode(this._textInput).focus(),this.props.updateSearchTerm(this._textInput.value)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onRadioChange",value:function(e){_["default"].findDOMNode(this._textInput).focus(),this.props.updateResourceType(e.target.value)}},{key:"onInputChange",value:function(){this.props.updateSearchTerm(this._textInput.value)}},{key:"onKeyDown",value:function(e){var t=e.key||e.keyCode||e.which;"Escape"!==t&&"Esc"!==t&&27!==t||this.props.onResourcesButtonClick()}},{key:"render",value:function(){var e=this,t={color:"white"},n="css"===this.props.searchType,i=this.props.results;return(0,r["default"])("div",{className:"external-resources"},void 0,(0,r["default"])("div",{className:"resource-search-bar"},void 0,F,S["default"].createElement("input",{type:"text",ref:function(t){return e._textInput=t},onChange:this.onInputChange,value:this.props.searchTerm,placeholder:"External Resource search..."})),(0,r["default"])("div",{className:"resource-type-tabs"},void 0,(0,r["default"])("input",{id:"css-resources",name:"resource-type",value:"css",type:"radio",checked:n,onChange:this.onRadioChange}),(0,r["default"])("label",{htmlFor:"css-resources",style:n?t:{}},void 0,"CSS"),(0,r["default"])("input",{id:"js-resources",name:"resource-type",value:"js",type:"radio",checked:"js"===this.props.searchType,onChange:this.onRadioChange}),(0,r["default"])("label",{htmlFor:"js-resources",style:n?{}:t},void 0,"JavaScript")),(0,r["default"])("ul",{},void 0,i.map(function(t){return(0,r["default"])(b["default"],{url:t.value,name:t.name,onSuccessfulUrlCopy:e.props.onSuccessfulUrlCopy},t.name)})))}}]),t}(E.Component);T.contextTypes={emitter:y["default"].object},t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(196)),E=i(y),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.clipboard=new E["default"](this._copyBtn,{target:function(){return e._urlSpan}}),this.clipboard.on("success",function(e){t.onSuccessfulUrlCopy(),e.clearSelection()}),this.clipboard.on("error",function(){})}},{key:"componentWillUnMount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this;return(0,r["default"])("li",{className:"resource-item"},void 0,(0,r["default"])("span",{className:"resource-name"},void 0,this.props.name),_["default"].createElement("button",{ref:function(t){return e._copyBtn=t},className:"copy-url button mini-button button-dark roll-yellow"},"Copy URL"),_["default"].createElement("span",{ref:function(t){return e._urlSpan=t},className:"resource-url"},this.props.url))}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(39),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(775)),I=i(S),b=n(776),O=n(777),P=n(779),C=(n(26),n(781)),M=i(C),F=n(783),T=i(F),A=n(13),k=(i(A),function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.file,n=void 0;t?(n=(0,O.getCMEditorConfig)(t,this.props.editorSettings,window.__mobile),this.lastContent=t.get("content")):n=(0,O.getCMEditorConfig)("",this.props.editorSettings,window.__mobile),this.docStore={},this.codeMirror=CodeMirror.fromTextArea(this.refs.editor,n),this.updateCodeMirrorInstanceConfig(t),this.codeMirror.setOption("syntax","html"),this.codeMirror.setOption("profile","xhtml"),this.codeMirror.on("change",function(){return e.onEditorChange()}),this.setKeyBindings(this.codeMirror,this.props.editorSettings),this.setAutoComplete(this.codeMirror,this.props.editorSettings)}},{key:"componentWillReceiveProps",value:function(e){if(e.file&&!e.isImage){for(var t=e.file,n=t.get("clientId"),i=this.props.file,o=(0,s["default"])(this.docStore),r=e.openFiles.map(function(e){return e.get("clientId")}),a=0;a<o.length;a++)r.includes(o[a])||delete this.docStore[o[a]];i&&i.get("clientId")===n&&t&&t.get("errors")&&t.get("errors")!==i.get("errors")&&this.docStore[n]&&((0,P.clearErrors)(this.codeMirror,this.docStore[n].lineWidgets),this.docStore[n].lineWidgets=(0,P.showErrors)(this.codeMirror,t)),e.readOnly!==this.props.readOnly&&setTimeout(function(){this.codeMirror.refresh()}.bind(this),0),!i&&t&&setTimeout(function(){this.codeMirror.refresh()}.bind(this),0)}}},{key:"shouldComponentUpdate",value:function(e){if(this.props.readOnly!==e.readOnly)return!0;var t=e.file,n=this.props.file;if(!t&&!n)return!1;if(!t||!n)return!0;if(n.get("clientId")!==t.get("clientId"))return!0;var i=n.get("editable");return n.get("errors")!==t.get("errors")||!(!i||n.getIn(["settings","type"])===t.getIn(["settings","type"]))||t.get("content")!==this.codeMirror.getValue()||t.getIn(["settings","ext"])!==n.getIn(["settings","ext"])||!(!n.has("loading")||n.get("loading")!==t.get("loading")||this.noChangesToClientEditorSettings(e,this.props))}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e&&(this.updateCodeMirrorInstanceConfig(e),this.lastContent=this.codeMirror.getValue(),"vim"===this.props.editorSettings.get("key_bindings")&&(CodeMirror.commands.save=this.props.saveFile))}},{key:"setKeyBindings",value:function(e,t){"vim"===t.get("key_bindings")?(e.setOption("vimMode",!0),CodeMirror.commands.save=this.props.saveFile):"subl"===t.get("key_bindings")?e.setOption("keyMap","sublime"):e.setOption("keyMap","extended_base"),window.__cm=e}},{key:"setAutoComplete",value:function(e,t){!0===t.get("autocomplete")&&(0,b.setupAutocomplete)(this.codeMirror,this.props.editorSettings)}},{key:"noChangesToClientEditorSettings",
value:function(e,t){return t.editorSettings.equals(e.editorSettings)}},{key:"updateCodeMirrorInstanceConfig",value:function(e){if(e&&e.has("content")&&!this.props.isImage){this.setPlaceholder(e);var t=e.get("clientId");this.docStore[t]?(e.get("content")!==this.docStore[t].getValue()&&this.docStore[t].setValue(e.get("content")),this.codeMirror.swapDoc(this.docStore[t]),(0,P.clearErrors)(this.codeMirror,this.docStore[e.get("clientId")].lineWidgets),this.docStore[e.get("clientId")].lineWidgets=(0,P.showErrors)(this.codeMirror,e),this.codeMirror.focus()):this.createNewDoc(e),this.setEditability(e),this.setEditorIndentationOptions(this.props.editorSettings),this.codeMirror.getWrapperElement().style.display="block"}else this.codeMirror.getWrapperElement().style.display="none"}},{key:"setPlaceholder",value:function(e){if(e.get("editable")){var t=e.getIn(["settings","type"]),n=(0,T["default"])(t);n?this.codeMirror.setOption("placeholder",n):this.codeMirror.setOption("placeholder","")}else this.codeMirror.setOption("placeholder","")}},{key:"createNewDoc",value:function(e){this.codeMirror.setOption("mode",this.codeMirror.getOption("mode"));var t=(0,I["default"])(e.getIn(["settings","type"]),e.getIn(["settings","fileName"]),this.props.processorSettings),n=CodeMirror.Doc(e.get("content"),t);this.docStore[e.get("clientId")]=n,this.codeMirror.swapDoc(n),(0,P.clearErrors)(this.codeMirror,this.docStore[e.get("clientId")].lineWidgets),this.docStore[e.get("clientId")].lineWidgets=(0,P.showErrors)(this.codeMirror,e),this.codeMirror.focus()}},{key:"setEditability",value:function(e){var t=this.codeMirror.getWrapperElement();!1===e.get("editable")||!0===this.props.readOnly?(this.codeMirror.setOption("readOnly",!0),!0!==this.props.readOnly&&(t.style.opacity=.75)):(this.codeMirror.setOption("readOnly",!1),t.style.opacity=1)}},{key:"setEditorIndentationOptions",value:function(e){this.codeMirror.setOption("indentWithTabs",(0,O.getIndentWithTabs)(e)),this.codeMirror.setOption("tabSize",(0,O.getTabSize)(e)),this.codeMirror.setOption("indentUnit",(0,O.getTabSize)(e))}},{key:"onEditorChange",value:function(){this.lastContent!==this.codeMirror.getValue()&&(this.props.onEditorChange(this.props.file.get("clientId"),this.codeMirror.getValue()),this.lastContent=this.codeMirror.getValue())}},{key:"render",value:function(){var e=this.props.file,t=e&&!1===e.get("editable")||!0===this.props.readOnly,n=e&&"haml"===e.getIn(["settings","type"]);return(0,r["default"])("div",{className:"editor"},void 0,(0,r["default"])(M["default"],{notEditable:t,diff:e.get("diff"),readOnly:this.props.readOnly,deprecated:n}),y["default"].createElement("textarea",{autoComplete:"off",defaultValue:"",ref:"editor"}))}}]),t}(m.Component));t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),o={text:"text",html:{name:"htmlmixed",htmlMode:!0},markdown:"markdown",pug:"text/x-pug",css:"text/css",scss:"text/x-scss",svg:"text/xml",xml:"text/xml",rss:"text/xml",stylus:"text/x-styl",less:"text/x-less",sass:"text/x-sass",js:"text/javascript",json:"application/ld+json",coffeescript:"text/x-coffeescript",livescript:"text/x-livescript",typescript:"text/typescript",vue:{name:"vue"},jsx:"text/jsx",babel:"text/jsx",nunjucks:{name:"htmlmixed",htmlMode:!0},glsl:"x-shader/x-fragment"},r=function(e,t,n){var r=o,a="text",s=n.get("babel");return"glsl"===(0,i.fileNameExtension)(t)&&(e="glsl"),e in r&&(a=r[e],s&&"js"===e&&(a="jsx")),a};t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.setupAutocomplete=function(e){e.on("inputRead",function(e,t){n(e,t)})},function(e,t){e.state.completionActive||"+input"===t.origin&&1===t.text.length&&("htmlmixed"===e.getMode().name?i(e,t.text[0]):/^[a-zA-Z]+$/.test(t.text[0])&&CodeMirror.commands.autocomplete(e,null,{completeSingle:!1}))}),i=function(e,t){switch(t){case"<":o(e);break;case"/":r(e);break;case" ":case"=":a(e)}},o=function(e,t){return t&&!t()||setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},50),CodeMirror.Pass},r=function(e){return o(e,function(){var t=e.getCursor();return"<"===e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},a=function(e){return o(e,function(){var t=e.getTokenAt(e.getCursor());return!!("string"!==t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&CodeMirror.innerMode(e.getMode(),t.state).state.tagName})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCMEditorConfig=t.getIndentWithTabs=t.getTabSize=void 0;var i=n(39),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(778),a=function(e){return e?null:"simple"},s=function(e){return!0===e.get("code_folding")?["CodeMirror-linenumbers","CodeMirror-foldgutter"]:[""]},l=function(){return{"Ctrl-Space":"autocomplete",Tab:r.runEmmetTab,Enter:"emmetInsertLineBreak","Shift-Cmd-A":r.runEmmetWrapWithAbbreviation}},u=function(e){var t=e.get("snippets").toJS();return{markupSnippets:d(t.markupSnippets),stylesheetSnippets:d(t.stylesheetSnippets)}},d=function(e){for(var t=e,n=(0,o["default"])(t),i=0;i<n.length;i++)t[n[i]]=t[n[i]].replace(/\\n/g,"\n").replace(/\\t/g,"\t");return t},c=t.getTabSize=function(e){return parseInt(e.get("tab_size"),10)},f=t.getIndentWithTabs=function(e){return"tabs"===e.get("indent_with")};t.getCMEditorConfig=function(e,t,n){return{value:e.get("content")||"",showCursorWhenSelecting:!0,cursorScrollMargin:30,dragDrop:!1,scrollbarStyle:a(n),tabSize:c(t),indentUnit:c(t),indentWithTabs:f(t),lineNumbers:t.get("line_numbers"),matchBrackets:t.get("match_brackets"),matchTags:t.get("match_brackets"),autoCloseBrackets:t.get("match_brackets"),lineWrapping:t.get("line_wrapping"),gutters:s(t),foldGutter:t.get("code_folding"),markTagPairs:!0,autoRenameTags:!0,extraKeys:l(),emmet_active:t.get("emmet_active"),emmet:u(t)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["htmlmixed","pug","css","sass","stylus"],i=function(e){return n.includes(e)};t.runEmmetTab=function(e){i(e.getMode().name)&&!0===e.options.emmet_active?!0!==e.execCommand("emmetExpandAbbreviation")&&e.execCommand("respectfulTab"):e.execCommand("respectfulTab")},t.runEmmetWrapWithAbbreviation=function(e){i(e.getMode().name)&&e.execCommand("emmetWrapWithAbbreviation")}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearErrors=t.showErrors=void 0;var o=n(155),r=i(o),a=n(780),s=i(a);t.showErrors=function(e,t){if(!t.get("errors"))return[];for(var n=[],i=t.get("errors").toJS(),o=0;o<i.length;o++){var a=i[o];if(a){if(a.rule&&"unused-classes"===a.rule)continue;var l=document.createElement("div");l.className="inline-editor-error";var u=a.reason||a.message;if("object"===(void 0===u?"undefined":(0,r["default"])(u))){for(var d=[],c=0;c<u.length;c++)d.push((0,s["default"])(u[c]));u=d.join("</br>")}else u=(0,s["default"])(u);l.innerHTML=u.replace(/ /g,"\xa0");var f,p=!1;a.line?f=a.line-1:(f=0,p=!0),n.push(e.addLineWidget(f,l,{coverGutter:!0,noHScroll:!0,above:p}))}}return n},t.clearErrors=function(e,t){if(t)for(var n=0;n<t.length;n++)e.removeLineWidget(t[n])}},function(e,t,n){(function(t){function n(e){if("string"==typeof e)return e;if(o(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&_.call(e)==l}function r(e){return null==e?"":n(e)}function a(e){return e=r(e),e&&d.test(e)?e.replace(u,g):e}var s=1/0,l="[object Symbol]",u=/[&<>"'`]/g,d=RegExp(u.source),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,v=f||p||Function("return this")(),g=function(e){return function(t){return null==e?void 0:e[t]}}(c),h=Object.prototype,_=h.toString,m=v.Symbol,y=m?m.prototype:void 0,E=y?y.toString:void 0;e.exports=a}).call(t,n(99))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(782)),y=i(m),E=(0,r["default"])(y["default"],{},void 0,"HAML files have been deprecated due to performance issues. We apologize for the inconvenience. We'll be adding a new templating language very soon."),S=(0,r["default"])(y["default"],{},void 0,"This file is the output of a preprocessor and is not editable.",(0,r["default"])("br",{}),"The original file has unsaved changes, it needs to be saved before you can see the new output here."),I=(0,r["default"])(y["default"],{},void 0,"This file is read-only."),b=(0,r["default"])(y["default"],{},void 0,"This file is the output of a preprocessor and is not editable."),O=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return this.props.deprecated?E:this.props.notEditable?this.props.diff?S:this.props.readOnly?I:b:null}}]),t}(h.Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),function(e){return(0,r["default"])("div",{className:"project-editor-warning"},void 0,e.children)});t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return["// basic pug document structure","","doctype html","html","  head","    // head content here","  body","    // body content here"].join("\n")},i=function(){return["<!-- basic HTML document structure -->","","<!DOCTYPE html>","<html>","<head>","  <!-- head content here -->","</head>","<body>","  <!-- body content here -->","</body>","</html>","","---","","Or, you can type `html:5`, then press `tab` to generate a basic HTML document"].join("\n")},o=function(e){var t={html:i(),pug:n()}[e];return t?t.replace(/ /g,"\xa0"):null};t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("div",{className:"loading-error-message"},void 0,(0,r["default"])("h3",{},void 0,"404"),(0,r["default"])("p",{},void 0,"Couldn't load file contents."),(0,r["default"])("p",{},void 0,"You may need to fix some compile errors and/or resave your file."))),l=function(){return s};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(15)),E=i(y),S=n(23),I=n(338),b=i(I),O=(0,r["default"])("p",{},void 0,"Your browser does not support the ",(0,r["default"])("code",{},void 0,"audio")," element."),P=(0,r["default"])("code",{},void 0,"video"),C=(0,r["default"])("p",{},void 0,"Sorry, we have no preview for this type of file."),M=(0,r["default"])(b["default"],{}),F=function(e){function t(e,n){(0,u["default"])(this,t);var i=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,n));return(0,S.bindToContext)(i,"updateMedia","getMediaMarkupFromMediaType"),i}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.props.mediaType&&this.updateMedia(this.props.mediaType)}},{key:"shouldComponentUpdate",value:function(e){return e.file.get("onDisk")!==this.props.file.get("onDisk")||this.props.file.get("url")!==e.file.get("url")}},{key:"componentDidUpdate",value:function(){this.updateMedia(this.props.mediaType)}},{key:"updateMedia",value:function(e){var t=this;if(this.props.file&&this.props.file.get("url")&&!1!==this.props.file.get("onDisk")&&"binary"!==e){var n=this.refs.mediaElement;"image"===e&&(n.onload=function(){var e=n.width,i=n.height;n.style.marginTop=-.5*i+23+"px",n.style.marginLeft=-.5*e+"px",t.refs.sizing&&(t.refs.sizing.innerHTML=e+"px \xd7 "+i+"px")}),n.src=this.props.file.get("url")}}},{key:"getMediaMarkupFromMediaType",value:function(e){var t=void 0;if(!1===this.props.file.get("onDisk")&&"binary"!==e)return null;switch(e){case"image":t=(0,r["default"])("div",{},void 0,_["default"].createElement("span",{ref:"sizing",className:"sizing"}),_["default"].createElement("img",{ref:"mediaElement"}));break;case"audio":t=_["default"].createElement("audio",{ref:"mediaElement",controls:!0},O);break;case"video":t=_["default"].createElement("video",{ref:"mediaElement",controls:!0},"Your browser does not support the ",P," element.");break;case"binary":t=(0,r["default"])("div",{className:"binary"},void 0,(0,r["default"])("h1",{},void 0,".",this.props.file.getIn(["settings","type"])),C)}return t}},{key:"render",value:function(){var e=(0,E["default"])({"media-preview":!0});if((this.props.file.get("loading")||!1===this.props.file.get("onDisk"))&&"binary"!==this.props.mediaType)return M;var t=this.getMediaMarkupFromMediaType(this.props.mediaType);return(0,r["default"])("div",{className:e},void 0,t)}}]),t}(h.Component);t["default"]=F,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editingFile=void 0;var i=n(30),o=function(e){return e.files.getIn(["client","files"])},r=function(e){return e.files.getIn(["client","content"])},a=function(e){return e.ui.get("editing")};t.editingFile=(0,i.createSelector)([o,r,a],function(e,t,n){var i=e.get(n);if(i)return i.withMutations(function(t){var n=e.get(t.get("originalFileId"));n?t.set("diff",n.get("diff")):t["delete"]("diff"),t["delete"]("newestAddition")["delete"]("parent")["delete"]("level")["delete"]("processedFileId")}).merge(t.get(n))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(788),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(256),s=n(14),l=function(e){return{fileToShow:(0,a.fileToShow)(e),render:e.ui.get("render"),autoUpdate:e.project.getIn(["client","editor_settings","auto_run"]),gulpConsoleOpen:e.ui.get("gulpConsoleOpen"),cancelledRender:e.ui.get("cancelledRender"),layoutIsDragging:e.ui.getIn(["layout","dragging"])}},u=function(e){return{setCancelledRender:function(){e((0,s.setCancelledRender)(!1))}}};t["default"]=(0,i.connect)(l,u)(r["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=i(m),E=n(339),S=i(E),I=n(789),b=i(I),O=n(790),P=i(O),C=n(97),M=n(340),F=n(27),T=n(13),A=(i(T),n(791)),k=i(A),N=n(114),j=(0,r["default"])(b["default"],{}),D=(0,r["default"])(S["default"],{}),L=(0,r["default"])(k["default"],{}),w=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.listener=(0,C.bindShortcutListener)(this.context.emitter,"ProjectRenderer",this.handleShortcuts.bind(this)),this.props.fileToShow&&this.validateURLAndUpdateView((0,M.getURLToShow)(this.props.fileToShow))}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!(this.props.cancelledRender===e.cancelledRender&&this.props.gulpConsoleOpen===e.gulpConsoleOpen&&(this.props.fileToShow||!e.fileToShow)&&(!this.props.fileToShow||e.fileToShow)&&(this.props.fileToShow&&this.props.fileToShow.get("clientId")!==e.fileToShow.get("clientId")?(e.fileToShow&&(this.validateURLAndUpdateView((0,M.getURLToShow)(e.fileToShow)),(0,N.publishPubNubMessage)("ReRender",(0,M.getURLToShow)(e.fileToShow))),1):!e.autoUpdate&&e.render.get("auto")||(this.props.render.get("render")!==e.render.get("render")&&(this.renderTimeout=setTimeout(function(){e.fileToShow&&(t.validateURLAndUpdateView((0,M.getURLToShow)(e.fileToShow)),(0,N.publishPubNubMessage)("ReRender",(0,M.getURLToShow)(e.fileToShow)))},40)),!1===e.layoutIsDragging&&!0===this.props.layoutIsDragging&&this.repaintWrap(),1)))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.renderTimeout),(0,C.unbindShortcutListener)(this.listener)}},{key:"validateURLAndUpdateView",value:function(e){var t=this;(0,F.getFile)(e,function(){t._iframe&&(t._iframe.src=e,t._iframe.style.display="block")},function(){t._iframe&&(t._iframe.style.display="none")})}},{key:"repaintWrap",value:function(){this._wrap&&(this._wrap.style.display="none",this._wrap.offsetHeight,this._wrap.style.display="")}},{key:"handleShortcuts",value:function(e){switch(e.functionName){case"REFRESH_PREVIEW":this.forceUpdate()}}},{key:"renderIFrame",value:function(e){var t=this;return _["default"].createElement("div",{ref:function(e){return t._wrap=e},className:"iframe-wrap"},j,_["default"].createElement("iframe",{ref:function(e){return t._iframe=e},allowFullScreen:"true",allowTransparency:"true",className:"result-iframe",name:"CodePen",scrolling:"yes",sandbox:"allow-scripts allow-pointer-lock allow-same-origin allow-popups allow-modals allow-forms",src:(0,M.getURLToShow)(e)}))}},{key:"render",value:function(){var e=this.props,t=e.fileToShow,n=e.gulpConsoleOpen,i=e.cancelledRender,o=D;return i?o=(0,r["default"])(P["default"],{onCancelledRenderClick:this.props.setCancelledRender}):n?o=L:t&&(o=this.renderIFrame(t)),(0,r["default"])("div",{className:"result"},void 0,o)}}]),t}(h.Component);w.contextTypes={emitter:y["default"].object},t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("div",{className:"four-oh-four"},void 0,(0,r["default"])("div",{className:"description"},void 0,(0,r["default"])("h3",{},void 0,"404 - File not found"),(0,r["default"])("p",{},void 0,"You may need to fix some compile errors and/or resave your file to see the preview here.")))),l=function(){return s};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=(0,r["default"])("h3",{},void 0,"Render Cancelled"),S=(0,r["default"])("p",{},void 0,"You're seeing this because you've loaded the project with the"," ",(0,r["default"])("code",{},void 0,"cancel_render")," ","param in the url so you can fix bugs, or endless loops."),I=(0,r["default"])("p",{},void 0,"Once you're ready to load the preview again, simply click the button below."),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"empty-preview render-cancelled"},void 0,(0,r["default"])("div",{className:"description"},void 0,E,S,I,(0,r["default"])(y["default"],{classes:"button button-small",label:"I'm ready to render!",onClick:function(){return e.props.onCancelledRenderClick()}})))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(792),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(e){return{gulpLogs:e.ui.get("gulpLogs")}},l=function(e){return{onViewFileClicked:function(t){e((0,a.setEditingWithFileName)(t))}}};t["default"]=(0,i.connect)(s,l)(r["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(793)),y=i(m),E=n(794),S=i(E),I=(0,r["default"])(S["default"],{}),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.gulpLogs,n=e.onViewFileClicked,i=null,o=null;return 0===t.size?i=I:o=(0,r["default"])("ul",{className:"console-logs"},void 0,t.map(function(e,t){return(0,r["default"])(y["default"],{message:e.message,file:e.file,onClickEvent:n},t)})),(0,r["default"])("div",{className:"console"},void 0,i,o)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=n(15),S=i(E),I=n(31),b=i(I),O=(0,r["default"])("br",{}),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){b["default"].findDOMNode(this).scrollIntoView()}},{key:"render",value:function(){var e=this,t=null,n=this.props.message;if(1===n.length){n=n[0],this.props.file&&(n+=" ",n+=this.props.file);var i=n.replace(/^([A-Z]+)_.+/,"$1");i&&(n=n.replace(new RegExp(i),"")),i=i.toLowerCase();var o="log-line log-left process-"+i;o+=n.match("_DONE:")?" process-done":" process-start",n=n.replace("_START: ","").replace("_DONE: ","");var a=n.replace(/(.+\/)[^\/]+$/,"$1"),s=void 0;a===n&&(a=""),a&&(n=n.replace(new RegExp(a),""),s=a.replace(/[^\/]+/g,"")),t=(0,r["default"])("span",{className:o},void 0,(0,r["default"])("span",{className:"processor-name"},void 0,i),(0,r["default"])("span",{className:"log-path"},void 0,(0,r["default"])("span",{className:"log-holder"},void 0,s),(0,r["default"])("span",{className:"log-full"},void 0,a)),(0,r["default"])("span",{className:"log-message"},void 0,n))}else t=(0,r["default"])("span",{className:"log-line log-left"},void 0,n.map(function(e,t){var n=e.replace(/ /g,"\xa0");return(0,r["default"])("span",{},t,n,O)}));var l=(0,S["default"])({"console-line":!0,"multi-line":this.props.message.length>1});return(0,r["default"])("li",{className:l},void 0,t,(0,r["default"])(y["default"],{classes:"button button-medium mini-button log-right",label:"View File",onClick:function(){return e.props.onClickEvent(e.props.file)}}))}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("div",{className:"empty-preview"},void 0,(0,r["default"])("div",{className:"description"},void 0,(0,r["default"])("h3",{},void 0,"No Logs Yet"),(0,r["default"])("p",{},void 0,"If you use any files that use a preprocessor (like Sass or Pug) or a compiler (like Babel or Autoprefixer) you'll see the logs here when those processes run.")))),l=function(){return s};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(796),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(e){return{layout:e.ui.get("layout")}},l=function(e){return{setLayoutState:function(t){e((0,a.setLayoutState)(t))}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=i(_),y=n(23),E=n(97),S=function(e){function t(e,n){(0,u["default"])(this,t);var i=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,n));return(0,y.bindToContext)(i,"beDragged","endDragging"),i}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.listener=(0,E.bindShortcutListener)(this.context.emitter,"Resizer",this.handleShortcuts.bind(this))}},{key:"componentWillUnmount",value:function(){(0,E.unbindShortcutListener)(this.listener),this.endDragging()}},{key:"handleShortcuts",value:function(e){if("vertical"===this.props.type)switch(e.functionName){case"CYCLE_WINDOW_SIZES":this.cycleWindowSize(1);break;case"REVERSE_CYCLE_WINDOW_SIZES":this.cycleWindowSize(-1)}}},{key:"cycleWindowSize",value:function(e){var t=this.props.layout.get("editor"),n=1;0===t?n=0:t>95&&(n=2),n+=e,n<0?n=2:n>2&&(n=0),0===n?this.props.setLayoutState({editor:0}):1===n?this.props.setLayoutState({editor:50}):this.props.setLayoutState({editor:100})}},{key:"onMouseOrTouchDown",value:function(){this.startDragging()}},{key:"startDragging",value:function(){window.addEventListener("mousemove",this.beDragged),window.addEventListener("mouseup",this.endDragging),this.props.setLayoutState({dragging:!0})}},{key:"beDragged",value:function(e){e.preventDefault(),"horizontal"===this.props.type?this.props.setLayoutState({sidebar:Math.max((e.clientX-this.props.dragHandle)/window.innerWidth*100,0)}):"vertical"===this.props.type&&this.props.setLayoutState({editor:Math.max((e.clientY-this.props.headerHeight)/(window.innerHeight-this.props.headerHeight-this.props.footerHeight+this.props.dragWidth)*100,0)})}},{key:"endDragging",value:function(){window.removeEventListener("mousemove",this.beDragged),window.removeEventListener("mouseup",this.endDragging),this.props.setLayoutState({dragging:!1})}},{key:"onDoubleClick",value:function(e){e.target.classList.contains("project-resizer")&&"vertical"===this.props.type&&(0===this.props.layout.get("editor")?this.props.setLayoutState({editor:100}):this.props.setLayoutState({editor:0}))}},{key:"render",value:function(){var e=this,t="project-resizer "+this.props.classes;return(0,r["default"])("div",{className:t,onMouseDown:function(t){return e.onMouseOrTouchDown(t)},onDoubleClick:function(t){return e.onDoubleClick(t)}},void 0,this.props.children)}}]),t}(h.Component);S.contextTypes={emitter:m["default"].object},S.defaultProps={headerHeight:76,footerHeight:43,dragWidth:10,dragHandle:5},t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(798),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(256),s=n(14),l=function(e){return{viewableFiles:(0,a.viewableFiles)(e),selected:e.ui.get("renderingFile"),showProcessingIndicator:e.ui.getIn(["processing","saveRequested"]),showSetUpIndicator:e.ui.getIn(["processing","setup"])}},u=function(e){return{onRenderChoiceChange:function(t){e((0,s.setRenderingFile)(t.target.value))}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(10)),y=i(m),E=(0,r["default"])("option",{value:"empy"},"empty","No files to preview, yet!"),S=(0,r["default"])("label",{className:"render-choice-label",htmlFor:"render-choice"},void 0,"Preview:"),I=(0,r["default"])("span",{className:"processing-indicator"},void 0,(0,r["default"])("span",{className:"indicator"})),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"renderIsPreview",value:function(e){return e.get("alternate_view")?" (formatted)":null}},{key:"renderOption",value:function(e){return(0,r["default"])("option",{value:e.get("clientId")},e.get("clientId"),e.get("client_file_path"),this.renderIsPreview(e))}},{key:"emptyOption",value:function(){return E}},{key:"render",value:function(){var e=this,t=this.props.viewableFiles,n=this.props.showProcessingIndicator||this.props.showSetUpIndicator,i=["preview-bar"];n&&i.push("processing"),t=y["default"].Map(t).toList();var o=null;return 0===t.count()&&(o=this.emptyOption()),(0,r["default"])("div",{className:i.join(" ")},void 0,S,(0,r["default"])("div",{className:"select select-small"},void 0,(0,r["default"])("select",{id:"render-choice",className:"render-choice-dropdown",onChange:this.props.onRenderChoiceChange,value:this.props.selected},void 0,t.map(function(t){return e.renderOption(t)}),o)),I)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(800),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(341),l=function(e){return{readOnly:e.project.get("readOnly"),projectUrls:(0,s.projectUrls)(e)}},u=function(e){return{onRefreshButtonClick:function(){e((0,a.triggerRender)({auto:!1}))},maximizeEditor:function(){e((0,a.setLayoutState)({editor:100}))}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(801)),y=i(m),E=n(802),S=i(E),I=(0,r["default"])("span",{className:"divider"}),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){if(!0===this.props.readOnly)return null;var e=this.props.projectUrls.liveUrl?(0,r["default"])(S["default"],{liveUrl:this.props.projectUrls.liveUrl,maximizeEditor:this.props.maximizeEditor}):null;return(0,r["default"])("div",{className:"console-controls"},void 0,I,(0,r["default"])(y["default"],{onRefreshButtonClick:this.props.onRefreshButtonClick}),e)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(34)),u=i(l),d=function(e){return(0,r["default"])(u["default"],{title:"Refresh Preview",label:"",classes:"button-dark mini-button preview-refresh-button",icon:"rerun",onClick:function(){return e.onRefreshButtonClick()}})};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onClick",value:function(){window.open(this.props.liveUrl),this.props.maximizeEditor()}},{key:"render",value:function(){var e=this;return(0,r["default"])(y["default"],{title:"Open Live View",label:"",classes:"button-dark mini-button preview-refresh-button",icon:"pop-out",onClick:function(){return e.onClick()}})}}]),t}(h.Component);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(804),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(116),l=n(70),u=function(e){return{remainingFiles:(0,s.remainingFiles)(e),canCreate:(0,l.limitations)(e).get("remaining_projects")>0,layout:e.ui.get("layout"),readOnly:e.project.get("readOnly"),projectId:e.project.get("id")}},d=function(e){return{defocusFileState:function(){e((0,a.setSelectedSidebarItem)("none",0,"none"))}}},c=(0,i.connect)(u,d)(r["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(805)),y=i(m),E=n(819),S=i(E),I=n(821),b=i(I),O=n(841),P=i(O),C=n(848),M=i(C),F=n(852),T=i(F),A=n(854),k=i(A),N=n(856),j=i(N),D=(0,r["default"])(j["default"],{}),L=(0,r["default"])(M["default"],{}),w=(0,r["default"])(y["default"],{}),R=(0,r["default"])(S["default"],{}),U=(0,r["default"])(P["default"],{}),x=(0,r["default"])(k["default"],{}),G=(0,r["default"])(T["default"],{}),B=(0,r["default"])(T["default"],{}),W=(0,r["default"])(P["default"],{}),H=(0,r["default"])("div",{
className:"project-editor-file-dropzone"}),q=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"defocusFileState",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.defocusFileState()}},{key:"projectEditorFiles",value:function(){var e=this;return(0,r["default"])("div",{className:"project-editor-files"},void 0,(0,r["default"])("h4",{onClick:function(t){return e.defocusFileState(t)}},void 0," ","Project Root ",D),L,w)}},{key:"renderFullSidebar",value:function(){var e=this.props.remainingFiles.get("ratio")<1?R:null;return(0,r["default"])(b["default"],{},void 0,(0,r["default"])("div",{className:"project-editor-sidebar-content"},void 0,U,this.projectEditorFiles(),x,e,G))}},{key:"renderRemaining",value:function(){return this.props.readOnly?null:B}},{key:"renderReadOnlySidebar",value:function(){return(0,r["default"])("div",{className:"drop-wrapper"},void 0,(0,r["default"])("div",{className:"project-editor-sidebar-content"},void 0,W,this.projectEditorFiles(),H,this.renderRemaining()))}},{key:"render",value:function(){var e=this.props.layout,t={width:e.get("sidebar")+"%"},n=!this.props.readOnly&&(this.props.canCreate||this.props.projectId>0),i=n?this.renderFullSidebar():this.renderReadOnlySidebar();return(0,r["default"])("div",{className:"project-editor-sidebar",style:t},void 0,i)}}]),t}(h.Component);t["default"]=q,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(14),r=n(35),a=n(33),s=n(806),l=function(e){return e&&e.__esModule?e:{"default":e}}(s),u=n(818),d=n(116),c=function(e){return{files:(0,u.sidebarFiles)(e),dragging:e.ui.get("fileDragging"),creatingFile:e.ui.get("creatingFile"),remainingFiles:(0,d.remainingFiles)(e),processorSettings:e.project.getIn(["client","processor_settings"])}},f=function(e){return{interactionHandlers:{onFileClick:function(t){var n=t.clientId,i=t.type,a=t.level,s=t.parent;e((0,r.updateNewestFile)(n)),e("folder"!==i?(0,o.addFileToOpenFilesList)(n):(0,o.toggleFolderOpenState)(n)),e((0,o.setSelectedSidebarItem)(n,a,s,"folder"!==i))},onNewFileClick:function(t,n,i){e((0,o.setSelectedSidebarItem)(t,n,i)),e((0,o.setEditing)("new-file")),e((0,o.createNewFile)("file"))},onNewFolderClick:function(t,n,i){e((0,o.setSelectedSidebarItem)(t,n,i)),e((0,o.createNewFile)("folder"))},onDelete:function(t,n,i){i?(0,r.confirmThenDeleteFolder)(e,t,n,!1):(0,r.confirmThenDeleteFile)(e,t,n,!1)},onRenameSelect:function(t,n,i){e((0,o.setSelectedSidebarItem)(t,n,i)),e((0,o.setRenamingFile)(t)),e((0,o.closeAllPopups)())},onDuplicateFile:function(t){e((0,r.duplicateFile)(t))},duplicateFileName:function(t,n){e((0,o.openMessageModal)({style:"error",copy:a.modals.copy.DUPLICATE_FILE(t,n)}))},fileNamingRestrictionError:function(t,n){e((0,o.openMessageModal)({style:"error",copy:a.modals.copy[t](n)}))},onFileDragging:function(t){e((0,o.updateFileDraggingState)(t,!0))},onFileDraggingEnded:function(t){e((0,o.updateFileDraggingState)(t,!1))},onFileDraggedEnter:function(t){e((0,o.updateFileDraggingOverState)(t,!0))},onFileDraggedLeave:function(t){e((0,o.updateFileDraggingOverState)(t,!1))},onFileDropped:function(t,n){e((0,r.updateDraggedFileLocation)(t,n))},onSuccessfulTextCopy:function(t){e((0,o.setPopupMessage)(t))},onTextCopyFail:function(t){e((0,o.openMessageModal)({style:"error",copy:a.modals.copy.NO_COPY_SUPPORT(t)}))}}}},p=(0,i.connect)(c,f)(l["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(342)),y=i(m),E=n(345),S=i(E),I=n(348),b=n(13),O=(i(b),(0,r["default"])(S["default"],{indent:0,level:0,parent:"none"})),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"renderNewFile",value:function(){if(this.props.creatingFile.get("on")&&"none"===this.props.creatingFile.get("parent"))return O}},{key:"render",value:function(){var e=this.props,t=(0,I.sortFiles)(e.files);return(0,r["default"])("ol",{className:"all-files-and-folders"},void 0,this.renderNewFile(),t.valueSeq().map(function(t){if(t)return(0,r["default"])(y["default"],{file:t,dragging:e.dragging,creatingFile:e.creatingFile,remainingFiles:e.remainingFiles,interactionHandlers:e.interactionHandlers},t.get("clientId"))}))}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=i(y),S=n(15),I=i(S),b=n(257),O=i(b),P=n(259),C=i(P),M=n(26),F=n(158),T=(0,r["default"])("span",{className:"processing-indicator"},void 0,(0,r["default"])("span",{className:"indicator"})),A=(0,r["default"])("span",{className:"arrow"},void 0,"\u21b3"),k=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){!0===this.props.file.get("newestAddition")&&this.onFileClick()}},{key:"onProcessedFileClick",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.props.interactionHandlers.onFileClick({clientId:this.props.file.getIn(["processedFile","clientId"]),type:this.props.file.getIn(["processedFile","settings","type"]),level:this.props.file.get("level"),parent:this.props.file.get("parent")})}},{key:"render",value:function(){var e,t,n=this,i=(0,I["default"])((e={file:!0},(0,s["default"])(e,"file-"+this.props.file.getIn(["settings","type"]),!0),(0,s["default"])(e,"selected",this.props.file.getIn(["status","isSelected"])),(0,s["default"])(e,"dragging",this.props.file.getIn(["status","isDragging"])),(0,s["default"])(e,"loading",this.props.file.getIn(["status","isLoading"])),e)),o=(0,I["default"])((t={file:!0,processing:this.props.file.getIn(["status","isProcessing"])},(0,s["default"])(t,"file-"+this.props.file.getIn(["settings","type"]),!0),(0,s["default"])(t,"selected",this.props.file.getIn(["processedFile","status","isSelected"])),(0,s["default"])(t,"loading",this.props.file.getIn(["status","isLoading"])),t)),a={marginLeft:this.props.indent+4},l=this.props.file.getIn(["status","isRenaming"])?null:(0,r["default"])(C["default"],{menuType:F.menuTypes.FILE_MENU,interactionHandlers:this.props.interactionHandlers,file:this.props.file,remainingFiles:this.props.remainingFiles}),u=this.props.file.getIn(["status","isRenaming"])?null:(0,r["default"])(C["default"],{menuType:F.menuTypes.FILE_MENU,interactionHandlers:this.props.interactionHandlers,file:this.props.file.get("processedFile"),remainingFiles:this.props.remainingFiles}),d=!this.props.file.getIn(["status","isRenaming"])&&!this.props.file.getIn(["status","isLoading"]);return(0,r["default"])("ul",{draggable:d,onDragEnd:function(e){return n.onDragEnd(e)},onDragStart:function(e){return n.onDragStart(e)},onDoubleClick:function(e){return n.onDoubleClick(e)},onDrop:function(e){return n.onDrop(e)}},void 0,(0,r["default"])("li",{className:i,onClick:function(e){return n.onFileClick(e)}},void 0,this.renderFileName(),l),(0,r["default"])("li",{className:o,onClick:function(e){return n.onProcessedFileClick(e)}},void 0,(0,r["default"])("span",{className:"compiled-arrow",style:a},void 0,T,A),(0,r["default"])("a",{className:"compiled-file-name",href:"#0"},void 0,this.props.file.getIn(["processedFile","settings","fileName"])),u))}}]),t}(O["default"]);k.propTypes={file:M.FilePropType,indent:E["default"].number.isRequired,interactionHandlers:E["default"].objectOf(E["default"].func)},t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(31)),E=i(y),S=n(23),I=(n(26),n(130)),b=n(131),O=n(32),P=n(157),C=n(13),M=(i(C),function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,S.bindToContext)(n,"focusInput","onInputBlur","onInputKeyDown","onInputSubmit"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(){this.focusInput()}},{key:"focusInput",value:function(){E["default"].findDOMNode(this.refs.rename).focus()}},{key:"onInputBlur",value:function(){this.props.interactionHandlers.onRenameComplete(this.props.file.get("clientId"))}},{key:"onInputKeyDown",value:function(e){27===e.keyCode&&this.props.interactionHandlers.onRenameComplete(this.props.file.get("clientId"))}},{key:"onInputSubmit",value:function(e){e.preventDefault();var t=this.refs.rename.value;t=(0,O.cleanFileName)(t);var n="",i="folder"===this.props.file.getIn(["settings","type"]);"none"!==this.props.file.get("parent")&&(n=(0,P.getFilePathName)(this.props.files,this.props.files.get(this.props.file.get("parent"))));var o=(0,b.checkFileNameRestrictions)(t,n,i);if(!1===o.result)return void this.props.interactionHandlers.fileNamingRestrictionError(o.response,t);var r=(0,O.fileNameExtension)(this.props.file.getIn(["settings","fileName"])),a=(0,O.fileNameExtension)(t);if(((0,O.isMediaFileType)(r)||(0,O.isMediaFileType)(a))&&a!==r)return void this.props.interactionHandlers.fileNamingRestrictionError("RENAME_MEDIA_ERROR",r,a);if((0,I.checkForDuplicateFileName)(this.props.files,this.props.file.get("parent"),this.props.file.get("clientId"),t).duplicateId){var s="folder"===this.props.file.getIn(["settings","type"])?"folder":"file";this.props.interactionHandlers.duplicateFileName(s,t)}else this.props.interactionHandlers.onRenameComplete(this.props.file.get("clientId"),t,this.props.processorSettings)}},{key:"moveCaretAtEnd",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t}},{key:"render",value:function(){var e=this;return(0,r["default"])("form",{onSubmit:this.onInputSubmit},void 0,_["default"].createElement("input",{ref:"rename",type:"text",defaultValue:this.props.file.getIn(["settings","fileName"]),onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,onFocus:function(t){return e.moveCaretAtEnd(t)}}))}}]),t}(h.Component));t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"onContextMenu",value:function(e){if(!this.props.readOnly){e.preventDefault();var t=(0,s["default"])({},this.props);delete t.menuType,this.props.triggerMenu({menuType:this.props.menuType,left:e.pageX,top:e.pageY,props:t})}}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"contextmenu-trigger",onContextMenu:function(t){return e.onContextMenu(t)}})}}]),t}(m.Component));t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(344),_=i(h),m=n(7),y=i(m),E=n(0),S=(i(E),n(4)),I=i(S),b=n(15),O=i(b),P=n(257),C=i(P),M=n(259),F=i(M),T=n(26),A=n(158),k=function(e){function t(e,n){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n))}return(0,y["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){(0,_["default"])(t.prototype.__proto__||(0,u["default"])(t.prototype),"componentDidMount",this).call(this),!0===this.props.file.get("newestAddition")&&this.onFileClick()}},{key:"render",value:function(){var e,t=this,n=(0,O["default"])((e={file:!0},(0,s["default"])(e,"file-"+this.props.file.getIn(["settings","type"]),!0),(0,s["default"])(e,"selected",this.props.file.getIn(["status","isSelected"])),(0,s["default"])(e,"dragging",this.props.file.getIn(["status","isDragging"])),(0,s["default"])(e,"loading",this.props.file.getIn(["status","isLoading"])),e)),i=!this.props.file.getIn(["status","isRenaming"])&&!this.props.file.getIn(["status","isLoading"]);return(0,r["default"])("li",{className:n,draggable:i,onClick:function(e){return t.onFileClick(e)},onDoubleClick:function(e){return t.onDoubleClick(e)},onDragEnd:function(e){return t.onDragEnd(e)},onDragStart:function(e){return t.onDragStart(e)},onDrop:function(e){return t.onDrop(e)}},void 0,this.renderFileName(),(0,r["default"])(F["default"],{menuType:A.menuTypes.FILE_MENU,interactionHandlers:this.props.interactionHandlers,file:this.props.file,remainingFiles:this.props.remainingFiles}))}}]),t}(C["default"]);k.propTypes={file:T.FilePropType,indent:I["default"].number.isRequired,interactionHandlers:I["default"].objectOf(I["default"].func)},t["default"]=k,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(812),__esModule:!0}},function(e,t,n){n(813);var i=n(20).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var i=n(63),o=n(212).f;n(147)("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(39),s=i(a),l=n(1),u=i(l),d=n(5),c=i(d),f=n(2),p=i(f),v=n(3),g=i(v),h=n(6),_=i(h),m=n(344),y=i(m),E=n(7),S=i(E),I=n(0),b=i(I),O=n(4),P=i(O),C=n(342),M=i(C),F=n(345),T=i(F),A=n(257),k=i(A),N=n(15),j=i(N),D=n(343),L=i(D),w=n(259),R=i(w),U=n(816),x=i(U),G=n(26),B=n(348),W=n(817),H=n(10),q=i(H),V=n(13),z=i(V),J=n(95),Y=n(158),Q=(0,u["default"])("span",{className:"errorsome"}),K=(0,u["default"])(x["default"],{}),X=(0,u["default"])(x["default"],{}),Z=function(e){function t(){return(0,p["default"])(this,t),(0,_["default"])(this,(t.__proto__||(0,c["default"])(t)).apply(this,arguments))}return(0,S["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){(0,y["default"])(t.prototype.__proto__||(0,c["default"])(t.prototype),"componentDidMount",this).call(this),!0===this.props.file.get("newestAddition")&&this.onFileClick()}},{key:"renderFolderName",value:function(){var e={marginLeft:this.props.indent},t=null;return this.props.file.get("allChildren").find(function(e){return!0===e.get("has_errors")})&&(t=Q),this.props.file.getIn(["status","isRenaming"])?(0,u["default"])("div",{className:"rename",style:e},void 0,K,(0,u["default"])(L["default"],{file:this.props.file})):(0,u["default"])("a",{href:"#0",style:e},void 0,t,X,this.props.file.getIn(["settings","fileName"]))}},{key:"renderNewFileInput",value:function(){if(this.props.file.getIn(["status","isCreatingFile"]))return(0,u["default"])(T["default"],{indent:this.props.indent-1,level:this.props.file.get("level")+1,parent:this.props.file.get("clientId")})}},{key:"getSortedInnerFiles",value:function(){for(var e={},t=this.props.file.get("children").valueSeq().toArray(),n=0,i=t.length;n<i;n++){var o=this.props.file.get("allChildren").get(t[n]);o&&(e[o.get("clientId")]=o)}return(0,B.sortFiles)(q["default"].List((0,s["default"])(e).map(function(t){return e[t]})))}},{key:"render",value:function(){var e=this,t=(0,j["default"])({folder:!0,dragging:this.props.file.getIn(["status","isDragging"]),"dragged-over":this.props.file.getIn(["status","isOver"])}),n=(0,j["default"])({"folder-name":!0,selected:this.props.file.getIn(["status","isSelected"]),open:this.props.file.getIn(["status","isOpen"])}),i={height:(0,W.calculateFolderHeight)(this.props.file,this.props.file.get("allChildren"),25),overflow:"hidden"},o=this.props.file.getIn(["status","isRenaming"])?null:(0,u["default"])(R["default"],{menuType:Y.menuTypes.FILE_MENU,interactionHandlers:this.props.interactionHandlers,file:this.props.file,remainingFiles:this.props.remainingFiles}),a=!(this.props.file.getIn(["status","isRenaming"])||0!==this.props.file.get("allChildren").filter(function(e){return!0===e.getIn(["status","isRenaming"])}).count());return(0,u["default"])("li",{className:t,draggable:a,onClick:function(t){return e.onFileClick(t)},onDragEnd:function(t){return e.onDragEnd(t)},onDragStart:function(t){return e.onDragStart(t)},onDragEnter:function(t){return e.onDragEnter(t)},onDragLeave:function(t){return e.onDragLeave(t)},onDrop:function(t){return e.onDrop(t)}},void 0,(0,u["default"])("div",{className:n},void 0,this.renderFolderName(),o),(0,u["default"])("ol",{style:i},void 0,this.renderNewFileInput(),this.getSortedInnerFiles().valueSeq().map(function(t){var n=(0,J.getAllChildren)(e.props.file.get("allChildren"),t,!0);return t=t.set("allChildren",q["default"].Map({}).withMutations(function(e){n.map(function(t){return e.set(t.get("clientId"),t)})})),b["default"].createElement(M["default"],(0,r["default"])({key:t.get("clientId")},e.props,{file:t,processedFile:!0}))})))}}]),t}(k["default"]);Z.propTypes={file:G.FilePropType,indent:P["default"].number.isRequired,interactionHandlers:P["default"].objectOf(P["default"].func),creatingFile:z["default"].mapContains({on:P["default"].bool.isRequired,level:P["default"].number,fileName:P["default"].string.isRequired,parent:P["default"].oneOfType[(P["default"].number,P["default"].string)]}),dragging:P["default"].object},t["default"]=Z,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(13)),E=(i(y),n(31)),S=i(E),I=n(15),b=i(I),O=n(23),P=n(130),C=n(131),M=n(346),F=n(347),T=n(157),A=n(32),k=n(126),N=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,O.bindToContext)(n,"focusInput","inputKeyDown","inputChange","formSubmit","inputBlur"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(){this.focusInput()}},{key:"focusInput",value:function(){S["default"].findDOMNode(this.refs.fileNameInput).focus()}},{key:"inputKeyDown",value:function(e){if(!this.props.modalOpen)return 27===e.keyCode?void this.props.interactionHandlers.onNewFileInputCancel():void 0}},{key:"inputChange",value:function(){this.props.interactionHandlers.onNewFileInputChange({type:this.props.creatingFile.get("type"),fileName:this.refs.fileNameInput.value})}},{key:"inputBlur",value:function(){this.props.modalOpen||this.props.interactionHandlers.onNewFileInputCancel()}},{key:"formSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.refs.fileNameInput.value;t=(0,A.cleanFileName)(t);var n="";"none"!==this.props.parent&&(n=(0,T.getFilePathName)(this.props.files,this.props.files.get(this.props.parent)));var i="folder"===this.props.creatingFile.get("type"),o=(0,C.checkFileNameRestrictions)(t,n,i);if(!1===o.result)return void this.props.interactionHandlers.fileNamingRestrictionError(o.response,t);if((0,P.checkForDuplicateFileName)(this.props.files,this.props.parent,this.props.clientId,t).duplicateId)return void this.props.interactionHandlers.duplicateFileName(t,this.props.creatingFile.get("type"));var r=(0,k.guid)(),a="folder"===this.props.creatingFile.get("type")?F.createFolderObject:M.createFileObject,s=a({fileName:t,clientId:r,parent:this.props.parent,level:this.props.level},this.props.processorSettings);this.props.interactionHandlers.onNewFileInputSubmit(s)}},{key:"render",value:function(){var e=this,t=(0,b["default"])({"file-input":!0,active:!0}),n={paddingLeft:this.props.indent};return(0,r["default"])("li",{className:t},void 0,(0,r["default"])("form",{onSubmit:function(t){return e.formSubmit(t)}},void 0,_["default"].createElement("input",{ref:"fileNameInput",style:n,type:"text",className:"mousetrap",value:this.props.creatingFile.get("fileName"),onKeyDown:this.inputKeyDown,onChange:this.inputChange,onClick:function(e){return e.stopPropagation()},onBlur:this.inputBlur}),(0,r["default"])("input",{type:"submit",onClick:function(e){return e.stopPropagation()}})))}}]),t}(h.Component);t["default"]=N,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),(0,r["default"])("path",{d:"M2.004 14.458A1.88 1.88 0 0 1 .125 12.58V1.31C.125.655.656.124 1.31.124h4.964c.452 0 .858.25 1.06.655l.317.635c.245.49.736.793 1.283.793h9.896a1.88 1.88 0 0 1 1.878 1.879v8.493a1.88 1.88 0 0 1-1.878 1.878H2.004z",fill:"#CBCBCB"})),l=(0,r["default"])("path",{className:"folder-front",d:"M2.004 14.458A1.88 1.88 0 0 1 .125 12.58V4.087a1.88 1.88 0 0 1 1.879-1.879H18.83a1.88 1.88 0 0 1 1.878 1.879v8.493a1.88 1.88 0 0 1-1.878 1.878H2.004z",fill:"#828282"}),u=function(){return(0,r["default"])("svg",{className:"icon icon-folder",viewBox:"0 0 23 15"},void 0,s,l)};t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFolderHeight=function e(t,n,i){var o=0;return t?(t.getIn(["status","isCreatingFile"])&&(o+=i),t.has("processedFile")&&(o+=i),t.getIn(["status","isOpen"])&&t.get("children")&&t.get("children").map(function(t){var r=n.get(t);o+=i;var a=e(r,n,i);o+=a}),o):o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebarFiles=void 0;var i=n(30),o=n(10),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(95),s=function(e){return e.files.getIn(["client","files"])},l=function(e){return e.ui.get("selected")},u=function(e){return e.ui.get("editing")},d=function(e){return e.ui.get("fileDragging")},c=function(e){return e.ui.get("creatingFile")},f=function(e){return e.ui.get("renaming")},p=function(e){return e.ui.get("openFolders")},v=function(e){return e.ui.get("uploading")};t.sidebarFiles=(0,i.createSelector)([s,u,l,d,c,f,p,v],function(e,t,n,i,o,s,l,u){e=e.map(function(e){var a=e.get("clientId");return e=e.set("status",r["default"].Map({isDragging:a===i.get("clientId"),isSelected:a===n.get("clientId"),isRenaming:a===s.get("clientId"),isEditing:a===t,isOver:a===i.get("overClientId"),isOpen:l.includes(a),isLoading:e.get("loading")||u&&u.has(a),isProcessing:e.get("processing")})),o.get("on")&&a===o.get("parent")&&(e=e.setIn(["status","isCreatingFile"],!0)),e}),e=e.map(function(t){return t.get("processedFileId")&&e.get(t.get("processedFileId"))&&(t=t.set("processedFile",e.get(t.get("processedFileId")))),t});var d=e.filter(function(e){return"none"===e.get("parent")});return d=d.map(function(t){if(t.get("children")){var n=(0,a.getAllChildren)(e,t,!0),i=r["default"].Map({}).withMutations(function(e){n.map(function(t){return e.set(t.get("clientId"),t)})});t=t.set("allChildren",i)}return t})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(14),r=n(820),a=function(e){return e&&e.__esModule?e:{"default":e}}(r),s=function(){return{}},l=function(e){return{onNewFileButtonClick:function(){e((0,o.setEditing)("new-file")),e((0,o.createNewFile)("file"))},onNewFolderButtonClick:function(){e((0,o.createNewFile)("folder"))},manualFileUpload:function(t){e((0,o.manualFileUpload)(t.target.files))}}},u=(0,i.connect)(s,l)(a["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("span",{className:"file-custom"})),u=(0,r["default"])("span",{className:"plus-icon"},void 0,"+"),d=(0,r["default"])("span",{className:"plus-icon"},void 0,"+"),c=function(e){var t=e.onNewFileButtonClick,n=e.onNewFolderButtonClick,i=e.manualFileUpload;return(0,r["default"])("div",{className:"sidebar-footer"},void 0,(0,r["default"])("div",{className:"drag-and-drop-message"},void 0,"Drag and drop or",(0,r["default"])("label",{className:"file-upload-input"},void 0,(0,r["default"])("input",{type:"file",onChange:function(e){i(e)},multiple:!0}),l),"files in here to upload"),(0,r["default"])("a",{className:"button button-small button-new-file",href:"#0",onClick:function(){return t()}},void 0,u,"\xa0New File"),(0,r["default"])("a",{className:"button button-small button-new-folder",href:"#0",onClick:function(){return n()}},void 0,d,"\xa0New Directory"))};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(822),r=i(o),a=n(9),s=n(33),l=n(48),u=i(l),d=n(21),c=n(12),f=i(c),p=n(14),v=n(35),g=n(70),h=n(116),_=n(25),m=function(e){return{files:e.files.getIn(["client","files"]),manuallyUploadedFiles:e.ui.get("manuallyUploadedFiles"),selected:e.ui.get("selected"),processorSettings:e.project.getIn(["client","processor_settings"]),sessionUser:e.session.get("user"),limitations:(0,g.limitations)(e),remainingFiles:(0,h.remainingFiles)(e)}},y=function(e){return{uploadFilesAndFolders:function(t,n){e((0,v.uploadFilesAndFolders)(t,n))},fileNameRestrictionError:function(t,n){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy[t.response](n)}))},tooManyFiles:function(t){e((0,d.payloadAction)(f["default"].UPDATE_PROJECT_UPLOADS_STATE,{progress:_.PROGRESS.TOO_MANY_FILES,uploadAttemptCount:t}))},fileTooLarge:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.UPLOAD_TOO_LARGE}))},filesTooLarge:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.UPLOADS_TOO_LARGE}))},badFileExtension:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.INVALID_UPLOAD_EXTENSION}))},noMediaUploadsForFreeUser:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.UPGRADE_TO_USE_MEDIA}))},showFileUploadWarnings:function(t){t.forEach(function(t){e((0,p.setPopupMessage)(t))})},confirmOverwriteFiles:function(t){var n=t.duplicatesData,i=t.uploads;e((0,v.confirmOverwrites)({duplicatesData:n,uploads:i}))},folderDropAttempt:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.INVALID_FOLDER_DROP}))},dropWithAllFilesRemoved:function(){e((0,p.openMessageModal)({style:"error",copy:s.modals.copy.ALL_FILES_REMOVED}))},clearManualFileUploads:function(){e((0,p.manualFileUpload)([]))},openUploadsDialog:function(){e((0,d.payloadAction)(f["default"].UPDATE_PROJECT_UPLOADS_STATE,{progress:_.PROGRESS.PROCESSING,fileCount:0,uploadedCount:0,warnings:[],overwrites:[],filesState:{},pending:{}})),e((0,p.toggleDialog)(u["default"].PROJECT_FILE_UPLOADS_DIALOG))},updateWarnings:function(t){e((0,d.payloadAction)(f["default"].UPDATE_PROJECT_UPLOADS_STATE,{warnings:t}))}}},E=(0,a.connect)(m,y)(r["default"]);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(25)),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(y),S=n(349),I=i(S),b=n(836),O=(n(26),n(10)),P=i(O),C=function(e){return P["default"].Map({id:e.get("id"),client_file_path:e.get("client_file_path"),url:e.get("url"),parent:e.get("parent"),settings:e.get("settings")})},M=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){var t=!this.props.files.map(function(e){return C(e)}).equals(e.files.map(function(e){return C(e)})),n=this.props.manuallyUploadedFiles.length!==e.manuallyUploadedFiles.length;return!(!t&&!n)}},{key:"componentDidUpdate",value:function(){this.props.manuallyUploadedFiles.length>0&&this.props.clearManualFileUploads()}},{key:"render",value:function(){return _["default"].createElement(I["default"],(0,r["default"])({},this.props,{maxFiles:E.FILE_UPLOAD_MAX_FILES,maxFilesSize:E.FILE_UPLOAD_MAX_FILES_SIZE,maxFileSize:E.FILE_UPLOAD_MAX_FILE_SIZE,dropHandler:b.FileDropHandler}))}}]),t}(h.Component);t["default"]=M,e.exports=t["default"]},function(e,t,n){n(824);var i=n(20).Object;e.exports=function(e){return i.getOwnPropertyNames(e)}},function(e,t,n){n(147)("getOwnPropertyNames",function(){return n(312).f})},,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),(0,r["default"])("div",{className:"file-dropper-interface"},void 0,(0,r["default"])("div",{className:"bordered-area"},void 0,(0,r["default"])("span",{className:"upload-text"},void 0,"Drop Files to Upload!")))),m=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return _}}]),t}(h.Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FileDropHandler=void 0;var o=n(39),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(837),c=i(d),f=n(258),p=n(838),v=n(839);t.FileDropHandler=function(){function e(){(0,s["default"])(this,e)}return(0,u["default"])(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.enteredElements=0,this.setState({isActive:!1}),(0,f.dragItemsAreFiles)(e)&&(this.props.openUploadsDialog(),(0,v.loadFilesAndFoldersLocallyFromUploadEvent)(e,this.validateFilesAndFoldersUploaded.bind(this),this.props.limitations.get("can_upload_binary")))}},{key:"onManualUpload",value:function(e){this.setState({isActive:!1}),this.props.openUploadsDialog(),(0,v.loadFilesFromManualUpload)(e,this.validateFilesAndFoldersUploaded.bind(this),this.props.limitations.get("can_upload_binary"))}},{key:"validateFilesAndFoldersUploaded",value:function(e){var t=e.fileTree,n=e.warnings;this.props.updateWarnings(n);var i=(0,c["default"])(this.props.processorSettings,t);this.validateUploadedClientFilesForDuplicates(i)}},{key:"validateUploadedClientFilesForDuplicates",value:function(e){var t=(0,p.findDuplicatesInFileUpload)(e,this.props.files),n=this.sortUploads(e);if(this.props.remainingFiles.get("remaining")<n.files.length)return void this.props.tooManyFiles(n.files.length);if((0,r["default"])(t).length>0){var i=(0,r["default"])(t).map(function(e){return{clientId:t[e].originalClientId,name:t[e].originalFileName,isFolder:t[e].isFolder}});this.props.confirmOverwriteFiles({duplicatesData:i,uploads:n})}else this.props.uploadFilesAndFolders(n.files,n.folders)}},{key:"sortUploads",value:function(e){var t=(0,r["default"])(e).map(function(t){return e[t]});return{files:t.filter(function(e){return e.file.isFile}),folders:t.filter(function(e){return!e.file.isFile})}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),o=n(346),r=n(347),a=function(e,t,n){"none"!==t&&e[t].fileData.item.children.push(n)},s=function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"none";return n.files.forEach(function(e){var n=e.file,r=(0,i.guid)();a(s,u,r),s[r]={file:n,fileData:(0,o.createFileObject)({clientId:r,fileName:n.name,level:l,parent:u},t)}}),n.folders.forEach(function(n){var o=n.file,d=(0,i.guid)();a(s,u,d),s[d]={file:o,fileData:(0,r.createFolderObject)({clientId:d,fileName:o.name,parent:u,level:l,children:[]})},e(t,n,s,l+1,d)}),s};t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDuplicatesInFileUpload=void 0;var i=n(39),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(130);t.findDuplicatesInFileUpload=function(e,t){return(0,o["default"])(e).map(function(t){return e[t].fileData.item}).reduce(function(e,n){var i=(0,r.checkForDuplicateFileName)(t,n.parent,n.clientId,n.settings.fileName);
if(i.duplicateId){var o=t.get(i.duplicateId);e[n.clientId]={originalId:o.get("id"),originalClientId:o.get("clientId"),originalFileName:o.getIn(["settings","fileName"]),uniqueFileName:i.uniqueName,originalHashId:o.get("hashid"),originalClientFilePath:o.get("client_file_path"),isFolder:"folder"===o.getIn(["settings","type"])}}return e},{})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadFilesFromManualUpload=t.loadFilesAndFoldersLocallyFromUploadEvent=void 0;var o=n(39),r=i(o),a=n(840),s=i(a),l=function(e){return e.dataTransfer?e.dataTransfer.items||e.dataTransfer.files:e.target.items},u=function(){return"undefined"!=typeof DataTransferItem&&(DataTransferItem.prototype.getAsEntry||DataTransferItem.prototype.webkitGetAsEntry)},d=function(e){return(0,r["default"])(e.allFolders).filter(function(t){return!0===e.allFolders[t].readAllContents}).length===(0,r["default"])(e.allFolders).length},c=function(e){return(0,r["default"])(e.allFiles).filter(function(t){return!0===e.allFiles[t].readAllContents}).length===(0,r["default"])(e.allFiles).length},f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n||c(t)&&n<10)setTimeout(function(){e(t,n+1)},100);else{var i=t.files,o=t.fileTree,r=t.warnings;t.callback({files:i,fileTree:o,warnings:r})}},p=function(e){return{name:e.name,fullPath:e.fullPath,size:0,isFile:!1}},v=function e(t,n,i,o,r){if(o)o.readEntries(function(a){a.length>0?e(t,n,i.concat(a),o,r):(t.allFolders[n.file.fullPath].readAllContents=!0,e(t,n,i,null,r))});else{for(var a=[],l=0;l<i.length;l++)a.push(i[l]);a.forEach(function(i){var o=i.webkitGetAsEntry?i.webkitGetAsEntry():i;if(o.isFile)t.allFiles[o.fullPath]={readAllContents:!1},o.file(function(e){e.fullPath=o.fullPath,e.isFile=!0,(0,s["default"])(e,t.warnings,r)&&(t.files.push(e),n.files.push({file:e}),t.allFiles[o.fullPath].readAllContents=!0)});else{var a=p(o);if(!(0,s["default"])(a,t.warnings,r))return;t.allFolders[o.fullPath]={readAllContents:!1};var l={file:a,files:[],folders:[]};t.files.push(a),n.folders.push(l);var u=o.createReader();u.readEntries(function(n){n.length>0?e(t,l,n,u,r):t.allFolders[o.fullPath].readAllContents=!0})}}),d(t)&&f(t)}},g=function(e,t){var n=e;e=[];for(var i=0;i<n.length;i++)e.push(n[i]);var o=[],r=e.filter(function(e){return e.fullPath=e.name,(0,s["default"])(e,o,t)}),a=r.map(function(e){return e.isFile=!0,e});return{files:a,fileTree:{files:a.map(function(e){return{file:e}}),folders:[]},warnings:o}},h=function(e){return{callback:e,allFolders:{"/":{readAllContents:!0}},allFiles:{},files:[],fileTree:{files:[],folders:[]},warnings:[]}};t.loadFilesAndFoldersLocallyFromUploadEvent=function(e,t,n){var i=l(e);if(!u())return t(g(i,n));var o=h(t);v(o,o.fileTree,i,null,n)},t.loadFilesFromManualUpload=function(e,t,n){t(g(e,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(i),r=n(32),a=n(131),s=function(e,t,n){var i=e.fullPath.substr(0,e.fullPath.length-e.name.length);return l(e.name)?(t.push({warning:o.PROCESSED_FILE,path:e.fullPath}),!1):u(e.name)?(t.push({warning:o.HAS_DOTFILES,path:e.fullPath}),!1):(0,r.fileOverMaxSize)(e,o.FILE_UPLOAD_MAX_FILE_SIZE)?(t.push({warning:o.FILE_TOO_LARGE,path:e.fullPath}),!1):e.isFile&&(0,r.fileHasBadFileExtension)(e.name)?(t.push({warning:o.UNSUPPORTED_FILE_TYPE,path:e.fullPath}),!1):!n&&(0,r.fileContainsBinary)(e.name)?(t.push({warning:o.MEDIA_FILE,path:e.fullPath}),!1):!1===(0,a.checkAllowedLength)(e.name)?(t.push({warning:o.FILE_NAME_TOO_LONG,path:e.fullPath}),!1):!1===(0,a.checkFullPathAllowedLength)(i)?(t.push({warning:o.PATH_TOO_LONG,path:e.fullPath}),!1):!1!==(0,a.checkCharacterRestrictions)(e.name)||(t.push({warning:o.BAD_CHARACTERS,path:e.fullPath}),!1)},l=function(e){return e.indexOf(".processed.")>-1},u=function(e){return"."===e[0]};t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(842),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(35),l=n(847),u=function(e){var t=e.ui.getIn(["search","filesActiveFile"]),n=(0,l.searchedFiles)(e),i=Math.min(t,n.length-1);return i=Math.max(i,0),{clientFiles:e.files.getIn(["client","files"]),activeFile:i,isActive:e.ui.getIn(["search","filesIsActive"]),term:e.ui.getIn(["search","filesTerm"]),results:n}},d=function(e){return{update:function(t){e((0,a.updateFileSearch)(t))},activate:function(){e((0,a.setFileSearch)(!0))},deactivate:function(){e((0,a.setFileSearch)(!1))},updateActiveFile:function(t){e((0,a.updateFilesActiveFile)(t))},onSelect:function(t){var n=t.clientId,i=t.level,o=t.parent;e((0,s.updateNewestFile)(n)),e((0,a.setSelectedSidebarItem)(n,i,o,!0)),e((0,a.addFileToOpenFilesList)(n))}}},c=(0,i.connect)(u,d)(r["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=i(_),y=n(843),E=i(y),S=n(844),I=i(S),b=n(845),O=i(b),P=(n(26),n(97)),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.listener=(0,P.bindShortcutListener)(this.context.emitter,"FileSearch",this.handleShortcuts.bind(this))}},{key:"shouldComponentUpdate",value:function(e){return this.props.activeFile!==e.activeFile||this.props.isActive!==e.isActive||this.props.term!==e.term}},{key:"componentWillUnmount",value:function(){(0,P.unbindShortcutListener)(this.listener)}},{key:"handleShortcuts",value:function(e){switch(e.functionName){case"SET_FILE_SEARCH":this.props.isActive?this.props.deactivate():this.props.activate()}}},{key:"openFile",value:function(e){var t=this.props.clientFiles.get(e);this.props.onSelect({clientId:t.get("clientId"),type:t.getIn(["settings","type"]),level:t.get("level"),parent:t.get("parent")}),this.props.deactivate()}},{key:"selectActiveFile",value:function(){var e=this.props.results[this.props.activeFile].key;this.openFile(e)}},{key:"updateActiveFile",value:function(e){0!==this.props.results.length&&(this.props.activeFile>0&&e<0?this.props.updateActiveFile(this.props.activeFile+e):this.props.activeFile<this.props.results.length-1&&e>0&&this.props.updateActiveFile(this.props.activeFile+e))}},{key:"keyDownHandler",value:function(e){var t=e.keyCode,n=!1;27===t?this.props.isActive&&(this.props.deactivate(),n=!0):13===t?(this.selectActiveFile(),n=!0):40===t?(this.updateActiveFile(1),n=!0):38===t&&(this.updateActiveFile(-1),n=!0),n&&(e.preventDefault(),e.stopPropagation())}},{key:"renderButton",value:function(){return(0,r["default"])(I["default"],{isActive:this.props.isActive,deactivate:this.props.deactivate,activate:this.props.activate})}},{key:"renderInput",value:function(){var e=this;if(this.props.isActive)return(0,r["default"])(E["default"],{term:this.props.term,deactivate:this.props.deactivate,keyDownHandler:function(t){return e.keyDownHandler(t)},update:this.props.update})}},{key:"renderResults",value:function(){var e=this;if(this.props.isActive)return(0,r["default"])(O["default"],{activeFile:this.props.activeFile,clientFiles:this.props.clientFiles,deactivate:this.props.deactivate,openFile:function(t){return e.openFile(t)},results:this.props.results})}},{key:"render",value:function(){return(0,r["default"])("div",{className:"file-search-wrapper"},void 0,(0,r["default"])("nav",{},void 0,this.renderInput(),this.renderButton()),this.renderResults())}}]),t}(h.Component);C.contextTypes={emitter:m["default"].object},t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(6),c=i(d),f=n(7),p=i(f),v=n(0),g=i(v),h=n(4),_=(i(h),function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentDidMount",value:function(){this.refs.input.focus(),this.refs.input.select()}},{key:"shouldComponentUpdate",value:function(e){return this.props.term!==e.term}},{key:"onChange",value:function(){this.props.update(this.refs.input.value)}},{key:"onBlur",value:function(){this.props.deactivate()}},{key:"keyDownHandler",value:function(e){this.props.keyDownHandler(e)}},{key:"renderInput",value:function(){var e=this;return g["default"].createElement("input",{ref:"input",type:"search",placeholder:"Search Files",className:"file-search-input",maxLength:"100",onKeyDown:function(t){return e.keyDownHandler(t)},onBlur:function(){return e.onBlur()},onChange:function(){return e.onChange()},value:this.props.term})}},{key:"render",value:function(){return this.renderInput()}}]),t}(v.Component));t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(16)),y=i(m),E=(0,r["default"])(y["default"],{icon:"x"}),S=(0,r["default"])(y["default"],{icon:"mag"}),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.isActive?this.props.deactivate():this.props.activate()}},{key:"renderButton",value:function(){var e=this,t=this.props.isActive?E:S;return(0,r["default"])("button",{className:"file-search-button mini-button",onMouseDown:function(t){return e.onMouseDown(t)}},void 0,t)}},{key:"render",value:function(){return this.renderButton()}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(846)),y=i(m),E=(n(26),(0,r["default"])("ol",{},void 0,(0,r["default"])("li",{className:"no-matches"},void 0,(0,r["default"])("div",{className:"file-search-item disabled"},void 0,"There are no matches\xa0yet.")))),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"renderResultList",value:function(){var e=this,t=this.props.results;return t&&t.length>0?(0,r["default"])("ol",{id:""},void 0,t.map(function(t,n){var i=n===e.props.activeFile;return(0,r["default"])("li",{},t.key,(0,r["default"])(y["default"],{fileKey:t.key,isActive:i,deactivate:e.props.deactivate,openFile:e.props.openFile,resultItem:t}))})):E}},{key:"render",value:function(){return(0,r["default"])("div",{className:"file-search-results"},void 0,this.renderResultList())}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onMouseDown",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.props.openFile(this.props.fileKey)}},{key:"renderItem",value:function(){var e=this,t=this.props.resultItem,n="file-search-item";return this.props.isActive&&(n+=" active"),t.substrings?(0,r["default"])("div",{className:n,onMouseDown:function(t){return e.onMouseDown(t)}},void 0,t.substrings.map(function(e,t){return e.match?(0,r["default"])("strong",{},t,e.str):e.str})):(0,r["default"])("div",{className:n,onMouseDown:function(t){return e.onMouseDown(t)}},void 0,(0,r["default"])("strong",{},void 0,t.string))}},{key:"render",value:function(){return this.renderItem()}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchedFiles=t.filesList=void 0;var i=n(30),o=n(129),r=function(e){return e.files.getIn(["client","files"])},a=function(e){return e.ui.getIn(["search","filesTerm"])},s=t.filesList=(0,i.createSelector)([r],function(e){return e.filter(function(e){return"folder"!==e.getIn(["settings","type"])&&e.get("id")>0}).map(function(e){return{key:e.get("clientId"),string:e.get("client_file_path")}}).toArray()});t.searchedFiles=(0,i.createSelector)([s,a],function(e,t){if(!t||""===t)return[];var n=(0,o.fuzzySearch)(t,e),i=[];return n.bullseye&&i.push(n.bullseye),i.concat(n.exact.concat(n.fuzzy))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(849),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(851),s=n(70),l=function(e){return{files:e.files.getIn(["client","files"]),creatingFile:e.ui.get("creatingFile"),boilerplatesList:e.project.get("boilerplatesList"),existingSlugHashPrivate:e.project.get("slug_hash_private"),limitations:(0,s.limitations)(e),session:e.session}},u=function(e){return{getBoilerplates:function(t){e((0,a.boilerplateProjects)(t))},projectFromBoilerplate:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e((0,a.projectFromBoilerplate)(t,n))}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(850)),y=i(m),E=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){this.props.getBoilerplates(this.props.existingSlugHashPrivate)}},{key:"componentWillReceiveProps",value:function(e){this.props.session.getIn(["user","current_team_id"])!==e.session.getIn(["user","current_team_id"])&&this.props.getBoilerplates(this.props.existingSlugHashPrivate)}},{key:"shouldComponentUpdate",value:function(e){return!(this.props.files.count()>0&&e.files.count()>0||this.props.files.equals(e.files)&&this.props.creatingFile.equals(e.creatingFile)&&this.props.boilerplatesList.equals(e.boilerplatesList))}},{key:"renderTemplates",value:function(e,t){var n=this;return(0,r["default"])("div",{className:"boiler-plates-container"},void 0,(0,r["default"])("h3",{},void 0," ",t," "),(0,r["default"])("ol",{className:"boiler-plates"},void 0,e.map(function(e,t){return(0,r["default"])("li",{},t,(0,r["default"])(y["default"],{name:e.get("friendly_title"),updated:e.get("updated"),fileCount:e.get("file_count"),clickHandler:function(){return n.props.projectFromBoilerplate(e.get("hashid"),n.props.existingSlugHashPrivate)}}))})))}},{key:"render",value:function(){var e=this;if(0!==this.props.files.size||!0===this.props.creatingFile.get("on"))return null;if(!this.props.boilerplatesList)return null;var t=this.props.session,n=t.getIn(["user","current_team_id"]),i=t.get("teams").find(function(e){return e.get("id")===n}),o=this.props.boilerplatesList.get("user"),a=this.props.boilerplatesList.get("official"),s=void 0,l=void 0;if(o&&o.size>0){var u=i?"Team "+i.get("name")+" Templates":"Your Templates";s=this.renderTemplates(o,u)}return a&&(a=a.filter(function(t){return t.get("file_count")<=e.props.limitations.get("files")}),a.size>0&&(l=this.renderTemplates(a,"Use a Template?"))),s||l?(0,r["default"])("div",{},void 0,s,l):null}}]),t}(h.Component);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(16)),y=i(m),E=(0,r["default"])("span",{className:"right-label spinner"},void 0,(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(y["default"],{icon:"spinner"}))),S=(0,r["default"])("span",{className:"icon plus-icon"},void 0,"+"),I=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return n.state={clicked:!1},n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onClick",value:function(e){this.props.clickHandler(e),this.setState({clicked:!0})}},{key:"render",value:function(){var e=this,t=this.state.clicked?E:(0,r["default"])("span",{className:"right-label"},void 0,this.props.fileCount);return(0,r["default"])("button",{className:"button button-small button-boilerplate button-fullwidth button-right-label",onClick:function(t){return e.onClick(t)}},void 0,(0,r["default"])("div",{className:"button-content"},void 0,S,(0,r["default"])("span",{className:"label"},void 0,this.props.name),t))}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectFromBoilerplate=t.boilerplateProjects=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21),s=n(214);t.boilerplateProjects=function(e){var t=e?"/projects/"+e+"/boilerplates":"/projects/boilerplates";return function(e,n){return(0,r.get)({dispatch:e,getState:n,url:t,params:{},onSuccess:function(t){e((0,a.payloadAction)(o["default"].RECEIVE_BOILERPLATES_SUCCESS,t.payload))},onFail:function(t){e((0,a.errorAction)(o["default"].RECEIVE_BOILERPLATES_FAILURE,t))}})}},t.projectFromBoilerplate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={source:e};t&&(n.slug_hash_private=t);var i=t?r.put:r.post;return function(e,t){return i({dispatch:e,getState:t,url:"/projects/clone",params:n,onSuccess:function(n){var i=(0,s.clonedToClientState)(n.payload,t);e((0,a.payloadAction)(o["default"].RECEIVE_CLONE_SUCCESS,i))},onFail:function(t){e((0,a.payloadAction)(o["default"].RECEIVE_CLONE_FAILURE,t))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(853),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(116),s=function(e){return{remainingFiles:(0,a.remainingFiles)(e)}},l=function(){return{}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(159)),y=i(m),E=n(160),S=i(E),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!this.props.remainingFiles.equals(e.remainingFiles)}},{key:"renderFilesRemaining",value:function(e){if(e<.75)return null;var t=void 0,n=void 0,i=void 0,o=void 0,a=void 0;return o="files",t=this.props.remainingFiles.get("used")+" / "+this.props.remainingFiles.get("limit"),n=this.props.remainingFiles.get("used"),i=this.props.remainingFiles.get("limit"),a=S["default"].PROJECT_REMAINING_FILES,(0,r["default"])("div",{className:"progress-wrapper remaining-"+o+"-wrapper"},void 0,(0,r["default"])(y["default"],{flyoutClasses:"help-flyout-flush-right-top help-flyout-narrow",content:a}),(0,r["default"])("progress",{id:"remaining-"+o,value:n,max:i}),(0,r["default"])("label",{htmlFor:"remaining-"+o},void 0,(0,r["default"])("span",{},void 0,t)))}},{key:"render",value:function(){var e=this.props.remainingFiles.get("ratio");return(0,r["default"])("div",{className:"process-wrappers"},void 0,this.renderFilesRemaining(e))}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(855),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(35),l=function(e){return{dragging:e.ui.get("fileDragging")}},u=function(e){return{onFileDropped:function(t){e((0,s.updateDraggedFileLocation)("none",t))},defocusFileState:function(){e((0,a.setSelectedSidebarItem)("none",0,"none"))}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onFileDropped(this.props.dragging.get("clientId"))}},{key:"defocusFileState",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.defocusFileState()}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"project-editor-file-dropzone",onDrop:function(t){return e.onDrop(t)},onClick:function(t){return e.defocusFileState(t)}})}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(857),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=function(e){return{uploading:e.ui.get("uploading")}},s=function(){return{}},l=(0,i.connect)(a,s)(r["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(13)),m=(i(_),n(16)),y=i(m),E=(0,r["default"])("span",{className:"uploading"},void 0,(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(y["default"],{icon:"spinner"})),"Uploading Files"),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return this.props.uploading&&this.props.uploading.count()>0?E:null}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(859),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(9),a=n(35),s=function(e){return{files:e.files.getIn(["client","files"]),processorSettings:e.project.getIn(["client","processor_settings"]),readOnly:e.project.get("readOnly")}},l=function(e){return{addEntryFileError:function(){e((0,a.addBabelFileError)())}}},u=(0,r.connect)(s,l)(o["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(6),c=i(d),f=n(7),p=i(f),v=n(0),g=n(4),h=(i(g),function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentWillMount",value:function(){this.checkEntryFile(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkEntryFile(e)}},{key:"checkEntryFile",value:function(e){!e.readOnly&&e.processorSettings.get("babel")&&(e.files.find(function(t){return t.has("client_file_path")&&t.get("client_file_path")===e.processorSettings.get("entry_file")})||e.addEntryFileError())}},{key:"render",value:function(){return!1}}]),t}(v.Component));t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(6),c=i(d),f=n(7),p=i(f),v=n(0),g=n(4),h=(i(g),n(9)),_=n(254),m=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentDidMount",value:function(){this.addOnbeforeunload()}},{key:"addOnbeforeunload",value:function(){var e=this;window.onbeforeunload=function(){if(e.props.hasUnsavedChanges)return"You have unsaved changes to your Project. Stop and save if you want to keep your Project."}}},{key:"render",value:function(){return null}}]),t}(v.Component),y=function(e){return{hasUnsavedChanges:(0,_.hasUnsavedChanges)(e)}};t["default"]=(0,h.connect)(y)(m),e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(862)),l=i(s),u=n(867),d=i(u),c=(0,r["default"])("footer",{className:"site-footer project-footer"},void 0,(0,r["default"])(l["default"],{}),(0,r["default"])(d["default"],{})),f=function(){return c};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),r=i(o),a=n(863),s=i(a),l=n(9),u=n(14),d=function(e){return{assetsDialogOpen:r["default"].ASSETS_DIALOG===e.ui.getIn(["popups","dialog"]),projectId:e.project.get("id"),shortcutsDialogOpen:r["default"].SHORTCUTS_DIALOG===e.ui.getIn(["popups","dialog"]),deleteProjectDialogOpen:r["default"].DELETE_PROJECT_DIALOG===e.ui.getIn(["popups","dialog"]),title:e.project.get("client").get("title"),readOnly:e.project.get("readOnly"),restricted:e.project.getIn(["restricted","project"])}},c=function(e){return{onAssetsDialogButtonClick:function(){e((0,u.toggleDialog)(r["default"].ASSETS_DIALOG))},onShortcutsDialogButtonClick:function(){e((0,u.toggleDialog)(r["default"].SHORTCUTS_DIALOG))},onShortcutsKeyCommand:function(){e((0,u.toggleDialog)(r["default"].SHORTCUTS_DIALOG))},onDeleteProjectDialogButtonClick:function(){e((0,u.toggleDialog)(r["default"].DELETE_PROJECT_DIALOG))}}},f=(0,l.connect)(d,c)(s["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=i(m),E=n(864),S=i(E),I=n(865),b=i(I),O=n(866),P=i(O),C=n(97),M=(0,r["default"])("div",{className:"footer-left"}),F=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.listener=(0,C.bindShortcutListener)(this.context.emitter,"FooterLeft",this.handleShortcuts.bind(this))}},{key:"componentWillUnmount",value:function(){(0,C.unbindShortcutListener)(this.listener)}},{key:"handleShortcuts",value:function(e){switch(e.functionName){case"SHOW_KEYCOMMANDS":this.props.onShortcutsKeyCommand()}}},{key:"render",value:function(){return this.props.restricted?(0,r["default"])("div",{className:"footer-left"},void 0,_["default"].createElement(S["default"],this.props)):this.props.readOnly?M:(0,r["default"])("div",{className:"footer-left"},void 0,_["default"].createElement(b["default"],this.props),_["default"].createElement(P["default"],this.props),this.props.projectId>0?_["default"].createElement(S["default"],this.props):null)}}]),t}(h.Component);F.contextTypes={emitter:y["default"].object},t["default"]=F,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(15)),u=i(l),d=n(117),c=i(d),f=function(e){var t=(0,u["default"])({active:e.deleteProjectDialogOpen,"button-dark mini-button":!0});return(0,r["default"])(c["default"],{classes:t,label:"Delete",onClick:e.onDeleteProjectDialogButtonClick})};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(117)),u=i(l),d=n(15),c=i(d),f=function(e){var t=(0,c["default"])({active:e.assetsDialogOpen,"button-dark mini-button":!0});return(0,r["default"])(u["default"],{classes:t,label:"Assets",onClick:e.onAssetsDialogButtonClick})};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(15)),u=i(l),d=n(117),c=i(d),f=function(e){var t=(0,u["default"])({active:e.shortcutsDialogOpen,"button-dark mini-button":!0});return(0,r["default"])(c["default"],{classes:t,label:"Shortcuts",onClick:e.onShortcutsDialogButtonClick})};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),r=i(o),a=n(868),s=i(a),l=n(9),u=n(14),d=function(e){return{deployDialogOpen:r["default"].DEPLOY_DIALOG===e.ui.getIn(["popups","dialog"]),shareDialogOpen:r["default"].SHARE_PANEL_DIALOG===e.ui.getIn(["popups","dialog"]),exportDialogOpen:r["default"].EXPORT_DIALOG===e.ui.getIn(["popups","dialog"]),restricted:e.project.getIn(["restricted","project"]),projectId:e.project.get("id"),readOnly:e.project.get("readOnly"),picker:e.session.getIn(["user","picker"]),"private":e.project.getIn(["client","private"]),adminUser:e.session.getIn(["user","admin"])}},c=function(e){return{onDeployDialogButtonClick:function(){e((0,u.toggleDialog)(r["default"].DEPLOY_DIALOG))},onShareDialogButtonClick:function(){e((0,u.toggleDialog)(r["default"].SHARE_PANEL_DIALOG))},onExportButtonClick:function(){e((0,u.toggleDialog)(r["default"].EXPORT_DIALOG))}}},f=(0,l.connect)(d,c)(s["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(869)),E=i(y),S=n(870),I=i(S),b=n(871),O=i(b),P=n(872),C=i(P),M=(0,r["default"])("div",{className:"footer-right"}),F=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.picker&&!this.props["private"]?(0,r["default"])(C["default"],{projectId:this.props.projectId,onPickButtonClick:this.props.onPickButtonClick}):null;return this.props.projectId<1?M:this.props.restricted?(0,r["default"])("div",{className:"footer-right"},void 0,_["default"].createElement(E["default"],this.props)):this.props.readOnly?this.props.adminUser?(0,r["default"])("div",{className:"footer-right"},void 0,e,_["default"].createElement(O["default"],this.props)):(0,r["default"])("div",{className:"footer-right"},void 0,e):(0,r["default"])("div",{className:"footer-right"},void 0,e,_["default"].createElement(I["default"],this.props),_["default"].createElement(O["default"],this.props),_["default"].createElement(E["default"],this.props))}}]),t}(h.Component);t["default"]=F,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(117),S=i(E),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=(0,y["default"])({active:this.props.deployDialogOpen,"button-dark mini-button":!0});return(0,r["default"])(S["default"],{classes:e,label:"Deploy",onClick:this.props.onDeployDialogButtonClick})}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{
"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(117),S=i(E),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=(0,y["default"])({active:this.props.shareDialogOpen,"button button-dark mini-button":!0});return(0,r["default"])(S["default"],{classes:e,label:"Share",onClick:this.props.onShareDialogButtonClick})}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(15)),y=i(m),E=n(117),S=i(E),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=(0,y["default"])({active:this.props.exportDialogOpen,"button button-dark mini-button":!0});return(0,r["default"])(S["default"],{classes:e,label:"Export",onClick:this.props.onExportButtonClick})}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),function(e){return(0,r["default"])("iframe",{className:"pick-iframe project-editor",src:"/admin/pick/"+e.projectId+"/?type=Project",width:"100%",height:"100",allowTransparency:"true",frameBorder:"0"})});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(874),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(70),l=function(e){return{message:e.ui.getIn(["popups","message"]),modal:e.ui.getIn(["popups","modal"]),dialog:e.ui.getIn(["popups","dialog"]),limitations:(0,s.limitations)(e),projectId:e.project.get("id"),readOnly:e.project.get("readOnly")}},u=function(e){return{showUndismissableModal:function(t){e((0,a.openErrorModal)({isUndismissable:!0,copy:t}))},closeModals:function(){e((0,a.closeAllModals)())},closePopups:function(){e((0,a.closeAllPopups)())}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=i(m),E=n(81),S=n(260),I=i(S),b=n(875),O=i(b),P=n(878),C=i(P),M=n(879),F=i(M),T=n(48),A=i(T),k=n(963),N=i(k),j=n(965),D=i(j),L=n(966),w=i(L),R=n(33),U=n(97),x=(0,r["default"])(D["default"],{}),G=(0,r["default"])(N["default"],{}),B=(0,r["default"])(w["default"],{}),W=(0,r["default"])(C["default"],{}),H=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){this.checkOffline()||this.handleLimitations(this.props.limitations)}},{key:"componentDidMount",value:function(){this.listener=(0,U.bindShortcutListener)(this.context.emitter,"Modal, Popup",this.handleShortcuts.bind(this))}},{key:"componentWillReceiveProps",value:function(e){e.limitations!==this.props.limitations&&this.handleLimitations(e.limitations)}},{key:"componentWillUnmount",value:function(){(0,U.unbindShortcutListener)(this.listener)}},{key:"handleShortcuts",value:function(e){switch(e.functionName){case"CLOSE":if(!this.props.dialog)return;this.props.closePopups()}}},{key:"checkOffline",value:function(){if(window.__projects_offline)return this.props.showUndismissableModal(R.modals.copy.PROJECTS_OFFLINE),!0}},{key:"handleLimitations",value:function(e){if(!e)return!0;if(this.props.projectId<=0)if(e.get("remaining_projects")<=0){var t=e.get("used_projects"),n=0===e.get("projects")?R.modals.copy.ANON_PROJECTS:R.modals.copy.LIMIT_PROJECTS(t);this.props.modal&&this.props.modal.toString()===n.toString()||this.props.showUndismissableModal(n)}else this.props.closeModals();return!0}},{key:"renderOverlay",value:function(e,t){if(!e&&!t)return null;var n=!e||!e.isUndismissable;return t&&t===A["default"].PROJECT_FILE_UPLOADS_DIALOG&&(n=!1),(0,r["default"])(I["default"],{dismissible:n})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.modal,i=e.dialog,o=e.readOnly;return(0,r["default"])("div",{},void 0,o&&x,G,!o&&B,t&&W,(0,r["default"])(E.CSSTransitionGroup,{transitionName:"slide-in",transitionEnterTimeout:300,transitionLeaveTimeout:300},void 0,n&&_["default"].createElement(O["default"],n),i&&(0,r["default"])(F["default"],{dialog:i})),this.renderOverlay(n,i))}}]),t}(h.Component);H.contextTypes={emitter:y["default"].object},t["default"]=H,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(876),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(){return{}},l=function(e){return{onDismissButtonClick:function(t){t&&t(),e((0,a.closeAllModals)())},onAlternateButtonClick:function(t){t&&t(),e((0,a.closeAllModals)())},onConfirmButtonClick:function(t){t&&t(),e((0,a.closeAllModals)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(4),y=i(m),E=n(0),S=i(E),I=n(877),b=i(I),O=n(97),P=(0,r["default"])("p",{className:"contact-support"},void 0,"If you think you're getting this alert in error, please reach out to ",(0,r["default"])("a",{href:"mailto:support@codepen.io",target:"_blank",rel:"noopener"},void 0,"support@codepen.io")),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){var e=_["default"].findDOMNode(this.refs.primaryBtn);e&&e.focus(),this.listener=(0,O.bindShortcutListener)(this.context.emitter,"Modal, Popup",this.handleShortcuts.bind(this))}},{key:"componentWillUnmount",value:function(){(0,O.unbindShortcutListener)(this.listener)}},{key:"handleShortcuts",value:function(e){var t=this;switch(e.functionName){case"CLOSE":setTimeout(function(){t.props.onDismissButtonClick(t.props.onDismiss)},1)}}},{key:"render",value:function(){var e=null;return"error"===this.props.style&&!1!==this.props.copy.support&&(e=P),(0,r["default"])("div",{className:"modal modal-"+this.props.style},void 0,(0,r["default"])("h2",{},void 0,this.props.copy.title),this.props.copy.message,e,S["default"].createElement(b["default"],this.props))}}]),t}(E.Component);C.contextTypes={emitter:y["default"].object},t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(4),y=i(m),E=n(0),S=i(E),I=n(15),b=i(I),O=n(34),P=i(O),C=n(115),M=i(C),F=(0,r["default"])("br",{className:"mobile-break"}),T=(0,r["default"])("br",{className:"mobile-break"}),A=(0,r["default"])("br",{className:"mobile-break"}),k=(0,r["default"])("br",{className:"mobile-break"}),N=(0,r["default"])("br",{className:"mobile-break"}),j=(0,r["default"])("br",{className:"mobile-break"}),D=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){var e=_["default"].findDOMNode(this.refs.primaryBtn);e&&e.focus()}},{key:"configuredButtons",value:function(e){var t=(0,b["default"])({"button-focus":!0,"button-medium":!0,hide:void 0===e.onAlternate}),n=(0,b["default"])({"button-focus":!0,"button-medium":!0,hide:"message"===e.type});return(0,r["default"])("p",{className:"modal-buttons"},void 0,S["default"].createElement(P["default"],{ref:"primaryBtn",classes:"button-medium button-focus "+e.buttonStyle,label:e.copy.confirm||"Confirm",onClick:function(){return e.onConfirmButtonClick(e.onConfirm)}}),F,(0,r["default"])(P["default"],{classes:t,label:e.copy.alternate||"Second Option",onClick:function(){return e.onAlternateButtonClick(e.onAlternate)}}),T,(0,r["default"])(P["default"],{classes:n,label:e.copy.cancel||"Cancel",onClick:function(){return e.onDismissButtonClick(e.onDismiss)}}),A)}},{key:"upgradeButtons",value:function(e){var t=e.isUndismissable?null:(0,r["default"])(P["default"],{classes:"button-medium hide-message",label:"Close",onClick:function(){return e.onDismissButtonClick(e.onDismiss)}});return(0,r["default"])("p",{className:"modal-buttons"},void 0,(0,r["default"])(M["default"],{url:"/signup/change/pro",classes:"black roll-yellow bold",label:"Upgrade Plan Now"}),k,t,N)}},{key:"loginButtons",value:function(){return(0,r["default"])("p",{className:"modal-buttons"},void 0,(0,r["default"])(M["default"],{url:"/login",classes:"yellow roll-yellow bold",label:"Log In"}),j,(0,r["default"])(M["default"],{url:"/signup",classes:"green",label:"Sign Up"}))}},{key:"render",value:function(){return!this.props.isUndismissable||this.props.copy.upgrade||this.props.copy.login?this.props.copy.upgrade?this.upgradeButtons(this.props):this.props.copy.login?this.loginButtons():this.configuredButtons(this.props):null}}]),t}(E.Component);D.contextTypes={emitter:y["default"].object},t["default"]=D,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(262),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(e){return{message:e.ui.getIn(["popups","message"])}},l=function(e){return{clearPopupMessage:function(){e((0,a.clearPopupMessage)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(48)),y=i(m),E=n(880),S=i(E),I=n(904),b=i(I),O=n(917),P=i(O),C=n(919),M=i(C),F=n(922),T=i(F),A=n(925),k=i(A),N=n(928),j=i(N),D=n(930),L=i(D),w=n(932),R=i(w),U=n(951),x=i(U),G=n(953),B=i(G),W=n(955),H=i(W),q=(0,r["default"])(S["default"],{}),V=(0,r["default"])(b["default"],{}),z=(0,r["default"])(M["default"],{}),J=(0,r["default"])(P["default"],{}),Y=(0,r["default"])(T["default"],{}),Q=(0,r["default"])(k["default"],{}),K=(0,r["default"])(j["default"],{}),X=(0,r["default"])(R["default"],{}),Z=(0,r["default"])(x["default"],{}),$=(0,r["default"])(B["default"],{}),ee=(0,r["default"])(L["default"],{}),te=(0,r["default"])(H["default"],{}),ne=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){switch(this.props.dialog){case y["default"].PROJECT_SETTINGS_DIALOG:return q;case y["default"].DEPLOY_DIALOG:return V;case y["default"].USER_DROPDOWN_DIALOG:return z;case y["default"].FORK_PROJECT_DIALOG:return J;case y["default"].SHARE_PANEL_DIALOG:return Y;case y["default"].SHORTCUTS_DIALOG:return Q;case y["default"].DELETE_PROJECT_DIALOG:return K;case y["default"].ASSETS_DIALOG:return X;case y["default"].ALPHA_DISABLED_DIALOG:return Z;case y["default"].VIEW_SWITCHER_DIALOG:return $;case y["default"].EXPORT_DIALOG:return ee;case y["default"].PROJECT_FILE_UPLOADS_DIALOG:return te;default:return null}}}]),t}(h.Component);t["default"]=ne,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(881),a=i(r),s=n(14),l=n(41),u=n(161),d=n(48),c=i(d),f=n(70),p=n(903),v=function(e){var t=e.project.get("client");return{title:t.get("title"),description:t.get("description"),permalink:t.get("permalink"),invalidPermalink:e.project.get("invalidPermalink"),template:t.get("template"),"private":t.get("private"),limitations:(0,f.limitations)(e),serverPrivate:e.project.get("server").get("private"),username:e.session.getIn(["user","username"]),editor_settings:e.project.get("editor_settings"),processor_settings:t.get("processor_settings"),clientJSFiles:(0,p.jsFiles)(e),projectId:e.project.get("id"),customScreenshot:e.project.get("custom_screenshot"),tags:t.get("tags")}},g=function(e){return{onSaveBtnClick:function(){e((0,l.saveProject)())},saveTitleChanges:function(){e((0,l.saveProject)())},onProjectSettingsChange:function(t){e((0,l.updateProject)(t))},onEditorSettingsChange:function(t){e((0,u.updateProjectEditorSettings)(t))},onProjectSettingsSaveBtnClick:function(){e((0,s.closeThisDialog)(c["default"].PROJECT_SETTINGS_DIALOG)),e((0,l.saveProject)())},checkPermalink:function(){e((0,l.checkProjectPermalink)())},uploadNewScreenshot:function(t){e((0,l.uploadNewScreenshot)(t))},deleteScreenshot:function(){e((0,l.deleteScreenshot)())}}},h=(0,o.connect)(v,g)(a["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(882)),E=i(y),S=n(894),I=i(S),b=n(34),O=i(b),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"project-settings-modal centered-modal dialog"},void 0,(0,r["default"])("div",{className:"project-settings-halfs-wrap"},void 0,_["default"].createElement(E["default"],this.props),_["default"].createElement(I["default"],this.props)),(0,r["default"])("div",{className:"save-and-close-wrap"},void 0,(0,r["default"])(O["default"],{classes:"button big button-no-right-margin green",label:"Save and Close",onClick:function(){return e.props.onProjectSettingsSaveBtnClick()}})))}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(354),S=i(E),I=n(883),b=i(I),O=n(23),P=(0,r["default"])("h2",{},void 0,"Project Settings"),C=function(e){function t(e,n){(0,c["default"])(this,t);var i=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return i.state={tab:"behaviour"},(0,O.bindToContext)(i,"onTabClick"),i}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"onTabClick",value:function(e){this.setState((0,s["default"])({},this.state,{tab:e}))}},{key:"render",value:function(){return(0,r["default"])("div",{className:"settings settings-modal-left"},void 0,P,(0,r["default"])("nav",{className:"explore-tabs no-mobile-nav"},void 0,(0,r["default"])(S["default"],{tab:"behaviour",selectedTab:this.state.tab,label:"Behaviour",onTabClick:this.onTabClick}),(0,r["default"])(S["default"],{tab:"processing",selectedTab:this.state.tab,label:"Processing",onTabClick:this.onTabClick}),(0,r["default"])(S["default"],{tab:"screenshot",selectedTab:this.state.tab,label:"Screenshot",onTabClick:this.onTabClick})),y["default"].createElement(b["default"],(0,s["default"])({tab:this.state.tab},this.props)))}}]),t}(m.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=i(o),a=n(4),s=(i(a),n(884)),l=i(s),u=n(887),d=i(u),c=n(890),f=i(c),p=function(e){switch(e.tab){case"behaviour":return r["default"].createElement(l["default"],e);case"processing":return r["default"].createElement(d["default"],e);case"screenshot":return r["default"].createElement(f["default"],e)}};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(885)),y=i(m),E=n(886),S=i(E),I=n(13),b=(i(I),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return(0,r["default"])("div",{},void 0,(0,r["default"])(y["default"],{editorSettings:this.props.editor_settings,onEditorSettingsChange:this.props.onEditorSettingsChange}),(0,r["default"])(S["default"],{editorSettings:this.props.editor_settings,onEditorSettingsChange:this.props.onEditorSettingsChange}))}}]),t}(h.Component));t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),(0,r["default"])("h4",{},void 0,"Code Indentation")),E=(0,r["default"])("label",{className:"small-inline",htmlFor:"indent-with-spaces"},void 0,"Spaces"),S=(0,r["default"])("label",{className:"small-inline",htmlFor:"indent-with-tabs"},void 0,"Tabs"),I=(0,r["default"])("datalist",{id:"tab-width-options"},void 0,(0,r["default"])("option",{},void 0,"1"),(0,r["default"])("option",{},void 0,"2"),(0,r["default"])("option",{},void 0,"3"),(0,r["default"])("option",{},void 0,"4"),(0,r["default"])("option",{},void 0,"5"),(0,r["default"])("option",{},void 0,"6")),b=(0,r["default"])("label",{className:"small-inline",htmlFor:"tab-size"},void 0,"Width of Indent"),O=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onWidthChange",value:function(e){this.props.onEditorSettingsChange({tab_size:e.target.value})}},{key:"onIndentWithChange",value:function(e){this.props.onEditorSettingsChange({indent_with:e.target.value})}},{key:"render",value:function(){var e=this.props.editorSettings.get("tab_size"),t=this.props.editorSettings.get("indent_with");return(0,r["default"])("form",{className:"settings-row top-label-form"},void 0,y,(0,r["default"])("div",{className:"indentation-choices"},void 0,(0,r["default"])("input",{type:"radio",id:"indent-with-spaces",name:"indent-with",value:"spaces",checked:"spaces"===t,onChange:this.onIndentWithChange.bind(this)}),E,(0,r["default"])("input",{type:"radio",id:"indent-with-tabs",name:"indent-with",value:"tabs",checked:"tabs"===t,onChange:this.onIndentWithChange.bind(this)}),S,(0,r["default"])("input",{type:"range",min:"1",max:"6",id:"tab-size",name:"tab-size",defaultValue:e,onChange:this.onWidthChange.bind(this),list:"tab-width-options"}),I,b))}}]),t}(h.Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),(0,r["default"])("h4",{},void 0,"Preview Updating")),E=(0,r["default"])("label",{htmlFor:"auto-update"},void 0,"Auto update preview after save completes"),S=(0,r["default"])("label",{htmlFor:"run-button"},void 0,"I want to use a run button to update"),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onSettingsChange",value:function(e){this.props.onEditorSettingsChange({auto_run:"auto"===e.target.value})}},{key:"render",value:function(){var e=this.props.editorSettings.get("auto_run");return(0,r["default"])("form",{className:"settings-row preview-update-settings"},void 0,y,(0,r["default"])("p",{},void 0,(0,r["default"])("input",{type:"radio",id:"auto-update",name:"indent-with",value:"auto",checked:!0===e,onChange:this.onSettingsChange.bind(this)}),E),(0,r["default"])("p",{},void 0,(0,r["default"])("input",{type:"radio",id:"run-button",name:"indent-with",value:"no-auto",checked:!1===e,onChange:this.onSettingsChange.bind(this)}),S))}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(40),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),n(888)),S=i(E),I=n(889),b=i(I),O=n(13),P=(i(O),n(160)),C=i(P),M=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!this.props.processor_settings.equals(e.processor_settings)}},{key:"onProcessingToggle",value:function(e){var t=(0,s["default"])({},e,!this.props.processor_settings.get(e));this.props.onProjectSettingsChange({processor_settings:t})}},{key:"onProcessingChange",value:function(e,t){var n=(0,s["default"])({},e,t);this.props.onProjectSettingsChange({processor_settings:n})}},{key:"render",value:function(){var e=this,t=(0,r["default"])(b["default"],{entryFile:this.props.processor_settings.get("entry_file"),babelSetting:this.props.processor_settings.get("babel"),clientJSFiles:this.props.clientJSFiles,onSettingChange:function(t){return e.onProcessingChange("entry_file",t)}});return(0,r["default"])("form",{className:"settings-row processing-settings"},void 0,(0,r["default"])(S["default"],{id:"autoprefixer-setting",title:"Process all .css files?",onLabel:"Use Autoprefixer",offLabel:"Do not use Autoprefixer",settingIsOn:this.props.processor_settings.get("autoprefixer"),onSettingChange:function(){return e.onProcessingToggle("autoprefixer")},flyoutCopy:C["default"].AUTOPREFIXER_PROCESSING}),(0,r["default"])(S["default"],{id:"babel-setting",title:"Process  files?",onLabel:"Use Webpack and Babel",offLabel:"Do not process",settingIsOn:this.props.processor_settings.get("babel"),onSettingChange:function(){return e.onProcessingToggle("babel")},flyoutCopy:C["default"].BABEL_PROCESSING,additionalSettings:t}),(0,r["default"])(S["default"],{id:"minify-setting",title:"Generate minified files?",onLabel:"Minified files on",offLabel:"Minified files off",settingIsOn:this.props.processor_settings.get("minify"),onSettingChange:function(){return e.onProcessingToggle("minify")},flyoutCopy:C["default"].MINIFIED_FILES}))}}]),t}(m.Component);t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(159)),y=i(m),E=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return(0,r["default"])("div",{className:"processing-setting-wrap"},void 0,(0,r["default"])("h5",{},void 0,this.props.title),(0,r["default"])(y["default"],{content:this.props.flyoutCopy}),(0,r["default"])("div",{className:"ios-toggle-wrap"},void 0,(0,r["default"])("div",{className:"ios-toggle-mega-label-wrap"},void 0,this.props.offLabel,(0,r["default"])("span",{className:"ios-toggle ios-toggle-reverse"},void 0,(0,r["default"])("input",{type:"checkbox",id:this.props.id,checked:this.props.settingIsOn,onChange:this.props.onSettingChange}),(0,r["default"])("label",{htmlFor:this.props.id})),this.props.onLabel,(0,r["default"])("label",{className:"ios-toggle-mega-label",htmlFor:this.props.id}))),this.props.additionalSettings)}}]),t}(h.Component);t["default"]=E,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(13)),E=(i(y),n(159)),S=i(E),I=n(160),b=i(I),O=(0,r["default"])("label",{},void 0,"Entry Point File:"),P=(0,r["default"])("option",{value:"null"},"null"),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"selectChange",value:function(){this.props.onSettingChange(this._select.value)}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"babel-entry-point"},void 0,O,_["default"].createElement("select",{ref:function(t){return e._select=t},onChange:function(){return e.selectChange()},defaultValue:this.props.entryFile,disabled:!this.props.babelSetting},P,this.props.clientJSFiles.valueSeq().map(function(e){return(0,r["default"])("option",{value:e.get("client_file_path")},e.get("clientId"),e.get("client_file_path"))})),(0,r["default"])(S["default"],{content:b["default"].BABEL_ENTRY_FILE}))}}]),t}(h.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(891)),E=i(y),S=n(892),I=i(S),b=(0,r["default"])("span",{className:"spinner"}),O=(0,r["default"])("p",{},void 0,"Screenshots of Projects are shown in mobile browsers, RSS feeds, to users who chose images instead of iframes, and in social media sharing."),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.customScreenshot.get("hashid")?(0,r["default"])("a",{id:"delete-screenshot",className:"button mini-button button-dark delete-screenshot",onClick:this.props.deleteScreenshot},void 0,"\xd7 Delete"):null,t=this.props.customScreenshot.get("tempImage")?this.props.customScreenshot.get("tempImage"):this.props.customScreenshot.get("screenshot_url_large"),n=this.props.customScreenshot.get("uploading")?{opacity:1,visibility:"visible"}:{};return(0,r["default"])("form",{className:"settings-row settings-row-1 top-label-form normal-labels group"},void 0,(0,r["default"])("div",{className:"thumnail-upload-section"},void 0,(0,r["default"])("div",{className:"settings-screenshot-wrap"},void 0,(0,r["default"])(E["default"],{customScreenshot:this.props.customScreenshot}),(0,r["default"])("div",{className:"screenshot-area-screenshot screenshot-image",style:{backgroundImage:"url("+t+")"}},void 0,e),(0,r["default"])("div",{style:n,className:"uploading-message expand-right action-button in-action"},void 0,b,"Uploading")),(0,r["default"])(I["default"],{customScreenshot:this.props.customScreenshot,projectId:this.props.projectId,limitations:this.props.limitations,uploadNewScreenshot:this.props.uploadNewScreenshot}),O))}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(13)),l=(i(s),n(4)),u=(i(l),(0,r["default"])("p",{},void 0,"This Project is using the default CodePen Projects image. ",(0,r["default"])("br",{}),(0,r["default"])("br",{}),"Upload a Screenshot to make your Project stand out!")),d=(0,r["default"])("p",{},void 0,"This Project is using a Custom Screenshot."),c=(0,r["default"])("svg",{},void 0,(0,r["default"])("use",{xlinkHref:"#file-image"})),f=(0,r["default"])("svg",{},void 0,(0,r["default"])("use",{xlinkHref:"#file-image"})),p=function(e){var t=e.customScreenshot.get("hashid")?d:u,n=e.customScreenshot.get("hashid")?(0,r["default"])("div",{className:"screenshot-urls"},void 0,(0,r["default"])("a",{href:e.customScreenshot.get("screenshot_url_large"),target:"_blank"},void 0,c,"Large"),(0,r["default"])("a",{href:e.customScreenshot.get("screenshot_url_small"),target:"_blank"},void 0,f,"Small")):null;return(0,r["default"])("div",{className:"screenshot-description"},void 0,t,n)};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(13),y=(i(m),n(4)),E=(i(y),n(893)),S=i(E),I=(0,r["default"])("p",{},void 0,"Custom screenshots can be created after the Project has been saved."),b=(0,r["default"])("div",{},void 0,(0,r["default"])("h4",{},void 0,"Want to create your own Custom Screenshot?"),"PRO users can create Custom Screenshots for their Pens and Projects, as one of many awesome PRO features on CodePen. ",(0,r["default"])("a",{href:"/pro/"},void 0,"Find out more"),"."),O=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"savePrompt",value:function(){return I}},{key:"upgradePrompt",value:function(){return b}},{key:"render",value:function(){return this.props.projectId<=0?this.savePrompt():this.props.limitations.get("can_create_custom_screenshots")?_["default"].createElement(S["default"],this.props):this.upgradePrompt()}}]),t}(h.Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(23)),y=n(15),E=i(y),S=(0,r["default"])("h4",{},void 0,"Upload a Custom Screenshot"," ",(0,r["default"])("span",{className:"badge badge-pro"},void 0,"PRO")),I=(0,r["default"])("p",{},void 0,"An image size of"," ",(0,r["default"])("strong",{},void 0,"1000x562 "),"will create the best result."),b=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,m.bindToContext)(n,"dragover","drop","dragleave","onFileChange"),n.state={active:!1},window.addEventListener("drop",function(e){return e.preventDefault()}),window.addEventListener("dragover",function(e){return e.preventDefault()}),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"drop",value:function(e){this.props.uploadNewScreenshot(e.dataTransfer.files[0]),this.setState({active:!1})}},{key:"dragover",value:function(e){e.dataTransfer.types.indexOf("Files")>-1&&!this.state.active&&this.setState({active:!0})}},{key:"dragleave",value:function(e){e.dataTransfer.types.indexOf("Files")>-1&&this.state.active&&this.setState({active:!1})}},{key:"onFileChange",value:function(e){this.props.uploadNewScreenshot(e.target.files[0])}},{key:"render",value:function(){var e=(0,E["default"])({"image-changer":!0,"drop-here":this.state.active});return(0,r["default"])("div",{},void 0,S,(0,r["default"])("div",{className:e,onDragOver:this.dragover,onDrop:this.drop,onDragLeave:this.dragleave},void 0,(0,r["default"])("div",{className:"image-changer-message"},void 0,(0,r["default"])("p",{},void 0,"To change the Screenshot for this Pen, select a new file below or"," ",(0,r["default"])("span",{style:{color:"#81E058"}},void 0,"drag-and-drop")," ","one here."),I,(0,r["default"])("input",{type:"file",name:"image-upload",className:"file-upload-button button button-dark mini-button",onChange:this.onFileChange}))))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(895)),E=i(y),S=n(896),I=i(S),b=n(897),O=i(b),P=n(898),C=i(P),M=n(899),F=i(M),T=function(e){function t(){
return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"renderPrivacy",value:function(){if(this.props.limitations.get("can_create_private")||this.props.serverPrivate)return(0,r["default"])(O["default"],{"private":this.props["private"],onProjectSettingsChange:this.props.onProjectSettingsChange})}},{key:"renderTemplate",value:function(){return(0,r["default"])(C["default"],{template:this.props.template,onProjectSettingsChange:this.props.onProjectSettingsChange})}},{key:"render",value:function(){return(0,r["default"])("div",{className:"settings-modal-right"},void 0,(0,r["default"])("div",{className:"project-details group"},void 0,this.renderPrivacy(),(0,r["default"])(E["default"],{title:this.props.title,onProjectSettingsChange:this.props.onProjectSettingsChange}),(0,r["default"])(I["default"],{description:this.props.description,onProjectSettingsChange:this.props.onProjectSettingsChange}),(0,r["default"])(F["default"],{tags:this.props.tags,onProjectSettingsChange:this.props.onProjectSettingsChange}),this.renderTemplate()))}}]),t}(h.Component);t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),(0,r["default"])("label",{htmlFor:"project-title"},void 0,"Project Title")),y=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.title!==e.title}},{key:"onInputChange",value:function(e){this.props.onProjectSettingsChange({title:e.target.value})}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"settings-row"},void 0,m,(0,r["default"])("input",{className:"fullwidth",id:"project-title",name:"project-title",onChange:function(t){return e.onInputChange(t)},type:"text",value:this.props.title}))}}]),t}(h.Component);t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),(0,r["default"])("label",{htmlFor:"project-title"},void 0,"Project Description")),y=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.description!==e.description}},{key:"onInputChange",value:function(e){this.props.onProjectSettingsChange({description:e.target.value})}},{key:"render",value:function(){var e=this;return(0,r["default"])("form",{className:"settings-row"},void 0,m,(0,r["default"])("textarea",{className:"fullwidth project-details-description",id:"project-description",name:"project-description",onChange:function(t){return e.onInputChange(t)},type:"text",value:this.props.description,placeholder:"Explain what\u2019s going on in your Project here. This text is searchable, so it can also help others find your work. Remember to credit others where credit is due. Markdown supported."}))}}]),t}(h.Component);t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(159)),E=i(y),S=n(160),I=i(S),b=(0,r["default"])("label",{htmlFor:"project-details-private"}),O=(0,r["default"])("label",{className:"ios-toggle-mega-label",htmlFor:"project-details-private"}),P=(0,r["default"])("span",{className:"badge badge-pro"},void 0,"PRO"),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props["private"]!==e["private"]}},{key:"onChange",value:function(){this.props.onProjectSettingsChange({"private":!this.props["private"]})}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"checkbox-row public-private-wrap"},void 0,(0,r["default"])("div",{className:"ios-toggle-wrap"},void 0,(0,r["default"])("div",{className:"ios-toggle-mega-label-wrap"},void 0,"Public",(0,r["default"])("span",{className:"ios-toggle"},void 0,_["default"].createElement("input",{checked:this.props["private"],id:"project-details-private",name:"project-details-private",onChange:function(){return e.onChange()},ref:"checkbox",type:"checkbox"}),b),"Private",O),P,(0,r["default"])(E["default"],{content:I["default"].PRIVATE_PROJECTS})))}}]),t}(h.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),(0,r["default"])("label",{htmlFor:"project-details-template"})),E=(0,r["default"])("label",{className:"ios-toggle-mega-label",htmlFor:"project-details-template"}),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.template!==e.template}},{key:"onChange",value:function(){this.props.onProjectSettingsChange({template:!this.props.template})}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"checkbox-row template-wrap"},void 0,(0,r["default"])("div",{className:"ios-toggle-wrap"},void 0,(0,r["default"])("div",{className:"ios-toggle-mega-label-wrap"},void 0,"Standard",(0,r["default"])("span",{className:"ios-toggle ios-toggle-ambiguous"},void 0,_["default"].createElement("input",{checked:this.props.template,id:"project-details-template",name:"project-details-template",onChange:function(){return e.onChange()},ref:"checkbox",type:"checkbox"}),y),"Template",E)))}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(10)),E=n(13),S=(i(E),function(e){return(0,y.List)(e.split(",")).map(function(e){return e.replace(/\./g,"").toLowerCase().trim()}).filter(function(e){return""!==e}).toSet().toList()}),I=(0,r["default"])("label",{htmlFor:"project-tags",className:"tags-label"},void 0,"Tags"," ",(0,r["default"])("em",{},void 0,"comma separated, ",(0,r["default"])("span",{id:"max-tags-label"},void 0,"max of five"))),b=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return n.state={tags:n.props.tags,textValue:n.props.tags.join(", ")},n.onInputChange=n.onInputChange.bind(n),n.removeTag=n.removeTag.bind(n),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return!this.props.tags.equals(e.tags)||!this.state.tags.equals(t.tags)||this.state.textValue!==t.textValue}},{key:"onInputChange",value:function(e){this.setState({textValue:e.target.value});var t=S(e.target.value);this.updateTags(t)}},{key:"removeTag",value:function(e){var t=e.target.getAttribute("data-tag"),n=this.state.tags.filter(function(e){return e!==t});this.setState({textValue:n.join(", ")}),this.updateTags(n)}},{key:"updateTags",value:function(e){this.setState({tags:e}),this.props.onProjectSettingsChange({tags:e.take(5)})}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"settings-row tags"},void 0,I,_["default"].createElement("input",{ref:function(t){return e.input=t},className:"fullwidth project-tags",id:"project-tags",name:"project-tags",onChange:this.onInputChange,type:"text",value:this.state.textValue}),(0,r["default"])("div",{className:"active-tags"},void 0,this.state.tags.map(function(t){return(0,r["default"])("span",{className:"tag"},t,(0,r["default"])("span",{className:"tag-x"},void 0,(0,r["default"])("span",{className:"tag-x","data-tag":t,onClick:e.removeTag},void 0,"\xd7"),"\xa0",(0,r["default"])("span",{className:"tag-name"},void 0,t)))})))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOtherEditorsOpen=t.updateProjectUserCurrentTeamId=t.updateProjectEditorSettings=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27);t.updateProjectEditorSettings=function(e){return{type:o["default"].UPDATE_PROJECT_EDITOR_SETTINGS,payload:e}},t.updateProjectUserCurrentTeamId=function(e){return function(t,n){var i=n().project;return t({type:o["default"].UPDATE_USER_TEAM,payload:{teamId:e,project:i}}),t({type:o["default"].UPDATE_READONLY,payload:{session:n().session}}),(0,r.post)({dispatch:t,getState:n,url:"/team/change",params:{team_id:e}})}},t.updateOtherEditorsOpen=function(e){return{type:o["default"].UPDATE_OTHER_EDITORS_OPEN,payload:e}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendSMS=void 0;var o=n(39),r=i(o),a=n(12),s=i(a),l=n(48),u=i(l),d=n(21),c=n(27),f=n(14),p=function(e){return"Text sent to phone "+e};t.sendSMS=function(e){return function(t,n){var i=n().project,o=n().session,a=i.getIn(["server","private"])?i.get("slug_hash_private"):i.get("hashid");return(0,c.post)({dispatch:t,getState:n,url:"/share/sms/",params:{phone_number:e,item_type:"project",item_id:a},onSuccess:function(e){t((0,f.closeThisDialog)(u["default"].SHARE_PANEL_DIALOG)),t((0,f.setPopupMessage)(p(e.phone_number))),t((0,d.payloadAction)(s["default"].RECIEVE_SMS_SUCCESS,{sms_left:e.sms_left,sms_errors:[],session:o}))},onFail:function(e){t((0,d.payloadAction)(s["default"].RECIEVE_SMS_FAILURE,{sms_errors:(0,r["default"])(e.errors).map(function(t){return e.errors[t]}),session:o}))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logOutUser=void 0;var i=n(69),o=(n(21),n(12));!function(e){e&&e.__esModule}(o),t.logOutUser=function(){return function(){return(0,i.simpleServerPost)("/logout",{},function(){window.location="/"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsFiles=void 0;var i=n(30),o=function(e){return e.files.getIn(["client","files"])};t.jsFiles=(0,i.createSelector)([o],function(e){return e.filter(function(e){return"js"===e.getIn(["settings","type"])&&!0===e.get("editable")&&e.has("client_file_path")})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(905),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(41),s=n(14),l=n(254),u=function(e){return{deployment:e.project.get("deployment"),progress:e.ui.get("deployment"),limitations:e.session.get("limitations"),restricted:e.project.get("restricted"),teamLimitations:e.project.get("owner").has("team"),hasUnsavedChanges:(0,l.hasUnsavedChanges)(e)}},d=function(e){return{onDeployDialogRender:function(){e((0,a.getDeploymentState)())},onDeployBtnClick:function(){e((0,a.deployProject)())},onUndeployBtnClick:function(){e((0,a.undeployProject)())},onDeployCloseBtnClick:function(){e((0,s.toggleDialog)())},onCNAMEsUpdateBtnClick:function(t){e((0,a.updateCNAMEs)(t))}}},c=(0,i.connect)(u,d)(r["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(34)),I=i(S),b=n(354),O=i(b),P=n(906),C=i(P),M=n(23),F=(0,r["default"])("div",{className:"deploy-panel centered-modal dialog text"},void 0,(0,r["default"])("p",{},void 0,"loading..")),T=(0,r["default"])("h2",{},void 0,"Deployment"),A=function(e){function t(e,n){(0,c["default"])(this,t);var i=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e,n));return i.state={tab:"deployment-status"},(0,M.bindToContext)(i,"onTabClick"),i}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.props.onDeployDialogRender()}},{key:"componentWillReceiveProps",value:function(){this.props.onDeployDialogRender()}},{key:"onTabClick",value:function(e){this.setState((0,s["default"])({},this.state,{tab:e}))}},{key:"render",value:function(){return!1===this.props.deployment.get("loaded")?F:(0,r["default"])("div",{className:"deploy-panel centered-modal dialog text"},void 0,(0,r["default"])("div",{className:"deploy-panel-wrap"},void 0,T,(0,r["default"])("nav",{className:"explore-tabs no-mobile-nav"},void 0,(0,r["default"])(O["default"],{tab:"deployment-status",selectedTab:this.state.tab,label:"Deployment Status",onTabClick:this.onTabClick}),(0,r["default"])(O["default"],{tab:"custom-domain",selectedTab:this.state.tab,label:"Custom Domain",onTabClick:this.onTabClick})),y["default"].createElement(C["default"],(0,s["default"])({tab:this.state.tab},this.props))),(0,r["default"])("div",{className:"save-and-close-wrap"},void 0,(0,r["default"])(I["default"],{classes:"button big button-no-right-margin green",label:"Close",onClick:this.props.onDeployCloseBtnClick})))}}]),t}(m.Component);t["default"]=A,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=i(o),a=n(4),s=(i(a),n(907)),l=i(s),u=n(911),d=i(u),c=function(e){switch(e.tab){case"deployment-status":return r["default"].createElement(l["default"],e);case"custom-domain":return r["default"].createElement(d["default"],e)}};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(908)),E=i(y),S=n(909),I=i(S),b=n(355),O=i(b),P=n(910),C=i(P),M=(0,r["default"])(O["default"],{feature:"Project Deployment",prompt:"As a PRO member, you can deploy a version of your project to its own URL."}),F=(0,r["default"])("p",{className:"warning"},void 0,(0,r["default"])("span",{},void 0,"!")," You have unsaved changes that will not be deployed. Save your Project before deploying if you want to include these changes."),T=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.limitations;if(0===e.get("deploys"))return M;var t=this.props.deployment.get("deployed")?null:(0,r["default"])(I["default"],{teamLimitations:this.props.teamLimitations,deployment:this.props.deployment});return(0,r["default"])("div",{},void 0,(0,r["default"])(E["default"],{deployment:this.props.deployment,restricted:this.props.restricted,usedDeploys:e.get("used_deploys"),allowedDeploys:e.get("deploys")}),t,this.props.hasUnsavedChanges&&F,_["default"].createElement(C["default"],this.props))}}]),t}(h.Component);t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("p",{},void 0,"Your project hasn't been deployed yet. Once deployed, you can undeploy at any time.")),u=(0,r["default"])("a",{href:"/accounts/signup"},void 0,"upgrade your plan"),d=(0,r["default"])("td",{className:"heading column-1"},void 0,"Status"),c=(0,r["default"])("td",{className:"heading column-1"},void 0,"URL"),f=(0,r["default"])("td",{className:"heading column-1"},void 0,"Last Deployment"),p=function(e){var t=e.deployment.get("deployed"),n=l;(t||e.allowedDeploys===e.usedDeploys)&&(n=null);var i=t?"Deployed":"Not Deployed";t&&e.restricted.get("deploy")&&(i="Offline");var o=null;t&&e.restricted.get("deploy")&&(o=(0,r["default"])("p",{},void 0,"This deployment has been taken offline as your plan allows ",e.allowedDeploys," deployed project and you've deployed ",e.usedDeploys,". You can ",u," to send this deploy online again."));var a=t?e.deployment.get("deploy_url"):"",s=t?new Date(e.deployment.get("last_deploy_time")).toString():"",p=!t||e.restricted.get("deploy")?"not-deployed":"deployed";return(0,r["default"])("div",{className:"deploy-status"},void 0,(0,r["default"])("table",{},void 0,(0,r["default"])("tbody",{},void 0,(0,r["default"])("tr",{},void 0,d,(0,r["default"])("td",{className:p},void 0,(0,r["default"])("span",{},void 0,i))),(0,r["default"])("tr",{},void 0,c,(0,r["default"])("td",{},void 0,(0,r["default"])("a",{href:a},void 0,a))),(0,r["default"])("tr",{},void 0,f,(0,r["default"])("td",{},void 0,s)))),n,o)};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("p",{},void 0,"You've used all of your deployed projects. You'll need to undeploy one of your other deployed projects or ",(0,r["default"])("a",{href:"/accounts/signup"},void 0,"upgrade your plan")," to deploy this one.")),u=function(e){var t=e.teamLimitations?"Your team has":"You have";return 0===e.deployment.get("remaining_deploys")?l:(0,r["default"])("p",{},void 0,t," ",(0,r["default"])("em",{},void 0,e.deployment.get("remaining_deploys"))," deployed projects left.")};t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(356)),E=i(y),S=n(15),I=i(S),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=(0,I["default"])({green:!0,disabled:this.props.restricted.get("deploy")||!this.props.deployment.get("deployed")&&0===this.props.deployment.get("remaining_deploys")}),t=!0===this.props.deployment.get("deployed")?"Redeploy Project":"Deploy Project",n=this.props.deployment.get("deployed")?(0,r["default"])(E["default"],{classes:"red",spinning:this.props.progress.get("undeploying"),label:"Undeploy Project",onClick:this.props.onUndeployBtnClick}):null,i=null;return this.props.progress.has("failed")&&(i=(0,r["default"])("p",{className:"failed-deploy error-message"},void 0,"Something went wrong with the project ",this.props.progress.get("failed"),". Please try again. If the issue persists please contact support@codepen.io")),(0,r["default"])("div",{className:"deploy-buttons"},void 0,i,(0,r["default"])("p",{},void 0,(0,r["default"])(E["default"],{classes:e,spinning:this.props.progress.get("deploying"),label:t,onClick:this.props.onDeployBtnClick}),n))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(13)),E=(i(y),n(912)),S=i(E),I=n(355),b=i(I),O=n(913),P=i(O),C=n(914),M=i(C),F=(0,r["default"])(b["default"],{feature:"Custom Domains",prompt:"As a Developer or Super PRO member, you're able to use your own domain for your deployed project."}),T=(0,r["default"])(S["default"],{feature:"Custom Domains",planType:"Developer",prompt:"As a Developer or Super PRO member, you're able to use your own domain for your deployed project."}),A=(0,r["default"])("p",{},void 0,"This domain is currently offline because you've reached your plan limit. You can ",(0,r["default"])("a",{href:"/signup"},void 0,"upgrade your plan")," to get it back online."),k=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){if(0===this.props.limitations.get("deploys")&&0===this.props.deployment.get("cnames").count())return F;if(0===this.props.limitations.get("dns")&&0===this.props.deployment.get("cnames").count())return T;var e=this.props.deployment.getIn(["cnames",0]);return(0,r["default"])("div",{},void 0,_["default"].createElement(M["default"],this.props),e&&!this.props.restricted.get("dns")&&(0,r["default"])(P["default"],{domain:e.get("value")}),this.props.restricted.get("dns")&&A)}}]),t}(h.Component);t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("span",{className:"badge badge-pro"},void 0,"PRO")),u=(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"/accounts/signup/",className:"button green",target:"_blank",rel:"noopener"},void 0,"Upgrade PRO Plan")),d=function(e){return(0,r["default"])("div",{className:"upgrade"},void 0,(0,r["default"])("h2",{},void 0,e.feature," is a ",(0,r["default"])("em",{},void 0,e.planType)," ",l," feature."),(0,r["default"])("p",{},void 0,e.prompt),u)};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),(0,r["default"])("h3",{},void 0,"DNS Instructions")),u=(0,r["default"])("p",{},void 0,"You'll need to add the following A records to your domain's DNS settings via your domain provider. ",(0,r["default"])("a",{href:"https://blog.codepen.io/projects/custom-domains/"},void 0,"Read more in the docs"),"."),d=(0,r["default"])("tr",{},void 0,(0,r["default"])("td",{className:"heading"},void 0,"Record Type"),(0,r["default"])("td",{className:"heading"},void 0,"Host"),(0,r["default"])("td",{className:"heading"},void 0,"Value")),c=(0,r["default"])("td",{},void 0,"A"),f=(0,r["default"])("td",{},void 0,"52.40.196.217"),p=(0,r["default"])("td",{},void 0,"A"),v=(0,r["default"])("td",{},void 0,"52.10.184.195"),g=function(e){return(0,r["default"])("div",{className:"dns-instructions"},void 0,l,u,(0,r["default"])("table",{},void 0,(0,r["default"])("tbody",{},void 0,d,(0,r["default"])("tr",{},void 0,c,(0,r["default"])("td",{},void 0,e.domain),f),(0,r["default"])("tr",{},void 0,p,(0,r["default"])("td",{},void 0,e.domain),v))))};t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(356)),E=i(y),S=n(915),I=i(S),b=n(10),O=i(b),P=n(23),C=O["default"].Map({value:"",valid:!0,empty:!0}),M=function(e){return void 0===e.find(function(e){return!e.get("valid")})},F=(0,r["default"])("p",{},void 0,"You've used all of your custom domains. You'll need to remove a domain from one of your other deployed projects, or",(0,r["default"])("a",{href:"/accounts/signup",target:"_blank",rel:"noopener"},void 0,"upgrade your plan")," ","to deploy this one."),T=(0,r["default"])("p",{className:"failed-deploy error-message"},void 0,"There was an error while trying to update your custom domains, please try again"),A=(0,r["default"])("a",{href:"/accounts/signup"},void 0,"upgrade your plan"),k=(0,r["default"])("p",{},void 0,"Enter your custom domain name here, as well as any CNAMEs you have pointed to the domain."," ",(0,r["default"])("a",{href:"https://blog.codepen.io/projects/custom-domains/"},void 0,"Read more in the docs"),"."),N=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return n.state={changedFromSaved:!1,valid:!0},(0,P.bindToContext)(n,"onCNAMEValueChange","onAddEntryClick","onCNAMERemove"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){var e=this.props.deployment.get("cnames").map(function(e){return O["default"].Map({value:e.get("value"),hashid:e.get("hashid"),valid:!0})});0===e.count()&&(e=e.push(C)),this.setState({cnames:e})}},{key:"componentWillReceiveProps",value:function(e){if(e.deployment.get("errors")){var t=this.state.cnames.map(function(t){var n=e.deployment.get("errors").find(function(e){return e.get("cname")===t.get("value")});return n?t.set("error",n):t["delete"]("error")});this.setState({cnames:t})}}},{key:"onCNAMEValueChange",value:function(e,t){this.setState({cnames:this.state.cnames.withMutations(function(n){n.set(t,e["delete"]("error"))}),changedFromSaved:!0,valid:M(this.state.cnames)})}},{key:"onAddEntryClick",value:function(){this.setState({cnames:this.state.cnames.push(C),changedFromSaved:!0,valid:M(this.state.cnames)})}},{key:"onCNAMERemove",value:function(e){return 1===this.state.cnames.count()?this.setState({cnames:this.state.cnames.setIn([0,"value"],""),changedFromSaved:!0}):void this.setState({cnames:this.state.cnames["delete"](e),changedFromSaved:!0})}},{key:"validateDomains",value:function(){this.state.valid&&this.props.onCNAMEsUpdateBtnClick(this.state.cnames)}},{key:"render",value:function(){var e=this,t=this.props.deployment.get("cnames")[0],n=this.props.deployment.get("remaining_dns"),i=this.props.progress.get("cnameStatus");if(null===t&&0===n)return F;var o=this.props.teamLimitations?"Your team has":"You have",a=null===t?(0,r["default"])("p",{},void 0,o," ",(0,r["default"])("em",{},void 0,n)," ","Projects with Custom Domains left."):null,s=null;"fail"===i&&(s=T);var l=null;t&&this.props.restricted.get("dns")&&(l=(0,r["default"])("p",{},void 0,"This domain name will not resolve because your plan allows"," ",this.props.limitations.get("dns")," ","custom domains and you've used"," ",this.props.limitations.get("used_dns"),". You can"," ",A," to make this custom domain work again."));var u=this.state.cnames.get(0),d=this.state.cnames.shift();return(0,r["default"])("div",{},void 0,(0,r["default"])("form",{className:"cname-form"},void 0,k,(0,r["default"])(I["default"],{index:0,cname:u,onValueChange:this.onCNAMEValueChange,onRemove:this.onCNAMERemove},0),d.map(function(t,n){return(0,r["default"])(I["default"],{index:n+1,cname:t,onValueChange:e.onCNAMEValueChange,onRemove:e.onCNAMERemove},n+1)}),(0,r["default"])("a",{href:"#",onClick:this.onAddEntryClick},void 0," + Add CNAME ")),s,a,l,(0,r["default"])("p",{},void 0,(0,r["default"])(E["default"],{classes:"green",disabled:!this.state.changedFromSaved||!this.state.valid,label:"Save Changes",onClick:function(){return e.validateDomains()}})))}}]),t}(h.Component);t["default"]=N,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(11),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(916)),I=i(S),b=n(13),O=(i(b),function(e){function t(e){(0,c["default"])(this,t);var n=(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this,e));return n.state={error:!1},n}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillReceiveProps",value:function(e){var t="Sorry, someone else is already using that domain name.";e.cname.get("error")?this.setState((0,s["default"])({},this.state,{error:t})):this.state.error===t&&this.setState((0,s["default"])({},this.state,{error:!1}))}},{key:"validateDomain",value:function(){var e=this,t=this._input.value.toLowerCase().replace(/\s/g,""),n=/^([a-z0-9_.-]*)$/.test(t);n?this.setState((0,s["default"])({},this.state,{error:!1})):this.setState((0,s["default"])({},this.state,{error:'Invalid domain name. Domains can contain letters, numbers, ".", "-" and "_"'})),this.props.onValueChange(this.props.cname.withMutations(function(t){t.set("value",e._input.value),t.set("valid",n)}),this.props.index)}},{key:"removeDomain",value:function(e){e.preventDefault(),this.props.onRemove(this.props.index)}},{key:"render",value:function(){var e=this,t=this.props.cname.get("value"),n=this.props.status,i=(0,r["default"])(I["default"],{status:this.state.error?"fail":n});(!this.state.error&&this.state.changedFromSaved||null===t&&"okay"===n)&&(i=null);var o=null;this.state.error&&(o=(0,r["default"])("p",{className:"failed-deploy error-message"},void 0,this.state.error));var a=this.props.index?"CNAME":"Domain name";return(0,r["default"])("div",{},void 0,(0,r["default"])("label",{htmlFor:"domain-name-"+this.props.index},void 0,a),y["default"].createElement("input",{ref:function(t){return e._input=t},id:"domain-name-"+this.props.index,placeholder:"mycustomdomainname.com",value:t,onChange:function(){return e.validateDomain()},type:"text"}),(0,r["default"])("button",{className:"delete-btn",onClick:function(t){return e.removeDomain(t)}},void 0,"Delete"),i,o)}}]),t}(m.Component));t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(16)),u=i(l),d=(0,r["default"])(u["default"],{icon:"spinner"}),c=(0,r["default"])(u["default"],{icon:"check"}),f=(0,r["default"])(u["default"],{icon:"x"}),p=function(e){var t=e.status,n="";switch(t){case"changing":n=d;break;case"okay":n=c;break;case"fail":n=f}return(0,r["default"])("span",{className:"status-icon"},void 0,n)};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(918),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(41),l=n(70),u=n(116),d=function(e){return{projectUserId:e.project.get("user_id"),projectTeamId:e.project.get("team_id"),limitations:(0,l.limitations)(e),remainingFiles:(0,u.remainingFiles)(e),hashid:e.project.get("hashid")}},c=function(e){return{onConfirmProjectFork:function(t,n,i){e((0,s.forkProject)(t,n,i)),e((0,a.closeAllPopups)())},onDismissButtonClick:function(){e((0,a.closeAllPopups)())}}},f=(0,i.connect)(d,c)(r["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(34)),I=i(S),b=(0,r["default"])("h2",{},void 0,"Sorry, you can't fork this project."),O=(0,r["default"])("br",{className:"mobile-break"}),P=(0,r["default"])("h2",{},void 0,"Are you sure you want to fork this Project?"),C=(0,r["default"])("p",{},void 0,"Forking this Project will copy all the files within it over to your account."),M=(0,r["default"])("br",{className:"mobile-break"}),F=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){_["default"].findDOMNode(this.refs.forkBtn).focus()}},{key:"clickHandler",value:function(e){e&&e.preventDefault(),this.props.onConfirmProjectFork(this.props.hashid,this.props.projectUserId,this.props.projectTeamId)}},{key:"canCreate",value:function(){return this.props.limitations.get("remaining_projects")>0}},{key:"remainingFilesValid",value:function(){return this.props.remainingFiles.get("ratio")<=1}},{key:"canFork",value:function(){return this.canCreate()&&this.remainingFilesValid()}},{key:"renderUpsell",value:function(){var e=this,t=void 0;return t=this.canCreate()?this.remainingFilesValid()?"This Project's files are too large for your plan.":"There are too many files in this Project for your plan.":"You can't create any more Projects on your plan.",(0,r["default"])("div",{className:"modal modal-warning"},void 0,b,(0,r["default"])("p",{},void 0,t),(0,r["default"])("p",{className:"modal-buttons"},void 0,y["default"].createElement("a",{ref:"forkBtn",className:"button button-medium button-focus green",
href:"/signup/plans/"},"Upgrade your Plan"),O,(0,r["default"])(I["default"],{classes:"button-medium button-focus",label:"Cancel",onClick:function(){e.props.onDismissButtonClick()}})))}},{key:"renderForkModal",value:function(){var e=this;return(0,r["default"])("div",{className:"modal modal-neutral"},void 0,P,C,(0,r["default"])("p",{className:"modal-buttons"},void 0,y["default"].createElement(I["default"],{ref:"forkBtn",classes:"button-medium button-focus green",label:"Fork Project",onClick:this.clickHandler.bind(this)}),M,(0,r["default"])(I["default"],{classes:"button-medium button-focus",label:"Cancel",onClick:function(){e.props.onDismissButtonClick()}})))}},{key:"render",value:function(){return this.canFork()?this.renderForkModal():this.renderUpsell()}}]),t}(m.Component);t["default"]=F,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(920),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(161),s=function(e){return{user:e.session.get("user"),teams:e.session.get("teams")}},l=function(e){return{switchContext:function(t){e((0,a.updateProjectUserCurrentTeamId)(t))},logoutUser:function(){e((0,a.logOutUser)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(26),n(921)),y=i(m),E=n(16),S=i(E),I=(0,r["default"])("li",{className:"section-header section-use-as"},void 0,"Use CodePen as..."),b=(0,r["default"])("li",{className:"dropdown-yoursettings"},void 0,(0,r["default"])("a",{href:"/rachsmith/settings/editor/"},void 0,(0,r["default"])(S["default"],{icon:"gear",width:"22",height:"22"}),"Settings")),O=(0,r["default"])("a",{href:"#0"},void 0,(0,r["default"])(S["default"],{icon:"log-out",width:"22",height:"22"}),"Log Out"),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"listItems",value:function(){var e=this.props.user,t=e.get("base_url"),n="https://"+window.location.hostname;return[{header:!0,"class":"section-header section-create",text:"Create..."},{"class":"dropdown-newpen",href:n+"/pen/",text:"New Pen"},{"class":"dropdown-newpost",href:n+"/write/",text:"New Post"},{"class":"dropdown-newproject sep-after",href:n+"/project/",text:"New Project"},{header:!0,"class":"section-header section-go-to",text:"Go to..."},{"class":"dropdown-dashboard",href:n+"/dashboard",text:"Your Dashboard"},{"class":"dropdown-profile-page",href:""+t,text:"Your Profile"},{"class":"dropdown-activity",href:t+"activity/",text:"Recent Activity"},{"class":"dropdown-embedbuilder",href:t+"embed/builder/public/",text:"Embed Theme Builder"},{"class":"dropdown-assetmanager",href:t+"assets/",text:"Asset Manager"},{"class":"dropdown-help sep-after",href:"http://blog.codepen.io/documentation/",text:"Help"}]}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,i=t.teams,o=t.switchContext,a=this.listItems();return(0,r["default"])("ul",{className:"user-dropdown link-list is-dropdown",id:"user-dropdown",role:"navigation"},void 0,a.map(function(e,t){return e.header?(0,r["default"])("li",{className:e["class"]},t,e.text):(0,r["default"])("li",{className:e["class"]},t,(0,r["default"])("a",{href:e.href},void 0,e.text))}),i.count()>0&&I,i.count()>0&&(0,r["default"])(y["default"],{switchTo:0,account:n,switchContext:o,numTeams:i.size,active:0===n.get("current_team_id")}),i.count()>0&&i.map(function(e,t){return(0,r["default"])(y["default"],{switchTo:e.get("id"),account:e,switchContext:o,last:t===i.count()-1,active:n.get("current_team_id")===e.get("id")},e.get("id")+"team")}),b,(0,r["default"])("li",{className:"dropdown-logout",onClick:function(){return e.props.logoutUser()}},void 0,O))}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(15)),E=i(y),S=function(e){function t(){var e,n,i,o;(0,u["default"])(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=i=(0,p["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(a))),i.onClick=function(e){e.preventDefault(),i.props.switchContext(i.props.switchTo)},o=n,(0,p["default"])(i,o)}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.active,i=e.last,o=(0,E["default"])({active:n,"sep-after":i,"context-list":!0});return(0,r["default"])("li",{className:o,onClick:this.onClick},void 0,(0,r["default"])("a",{href:"#",className:"context-switch-link"},void 0,(0,r["default"])("img",{className:"context-switcher-gravatar",src:t.get("avatar_url_80"),width:"25",height:"25",alt:"Account Gravatar"}),t.get("name")))}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(923),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(161),s=function(e){return{url:e.project.get("url"),user:e.session.get("user"),sessionLimitations:e.session.get("limitations")}},l=function(e){return{sendSMS:function(t){e((0,a.sendSMS)(t))}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(924)),y=i(m),E=(n(26),(0,r["default"])("svg",{className:"icon-twitter"},void 0,(0,r["default"])("use",{xlinkHref:"#twitter"}))),S=(0,r["default"])("svg",{className:"icon-facebook"},void 0,(0,r["default"])("use",{xlinkHref:"#facebook"})),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.url,t="Untitled"===this.props.title?this.props.title:"A CodePen Project by "+this.props.user.get("name"),n="https://twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&url="+e+"&via=CodePen",i="https://www.facebook.com/sharer/sharer.php?u="+e;return(0,r["default"])("div",{className:"sharing-panel"},void 0,(0,r["default"])("ul",{id:"share-buttons",className:"share-buttons share-section"},void 0,(0,r["default"])("li",{},void 0,(0,r["default"])("a",{target:"_blank",rel:"noopener",className:"button",href:n},void 0,E,"Share on Twitter")),(0,r["default"])("li",{},void 0,(0,r["default"])("a",{target:"_blank",rel:"noopener",className:"button",href:i},void 0,S,"Share on Facebook"))),(0,r["default"])(y["default"],{user:this.props.user,sendSMS:this.props.sendSMS,sessionLimitations:this.props.sessionLimitations}))}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(26),(0,r["default"])("p",{},void 0,"Sorry you've reached your text message limit.")),E=(0,r["default"])("a",{href:"http://blog.codepen.io/documentation/features/sms/",className:"inline-q",target:"_blank",rel:"noopener"},void 0,(0,r["default"])("svg",{className:"icon-help"},void 0,(0,r["default"])("use",{xlinkHref:"#help"}))),S=(0,r["default"])("input",{className:"button green button-fullwidth",id:"sms-send-button",type:"submit",value:"Send"}),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.sendSMS(this._phoneInput.value)}},{key:"renderError",value:function(e,t){return(0,r["default"])("p",{className:"error",dangerouslySetInnerHTML:{__html:e}},"sms_error_"+t)}},{key:"renderSMSErrors",value:function(e){var t=this;return e.get("sms_errors").map(function(e,n){return t.renderError(e,n)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,i=t.sessionLimitations,o=i.get("live_view")?"Live View":"Full Page";return n.get("sms_left")<1?y:(0,r["default"])("form",{action:"#0",className:"send-to-phone share-section",onSubmit:this.onSubmit.bind(this)},void 0,(0,r["default"])("h5",{},void 0,"Send SMS with ",o," URL to your phone",E,n.get("sms_errors").size>0?this.renderSMSErrors(n):null),(0,r["default"])("div",{id:"sms-phone"},void 0,_["default"].createElement("input",{type:"tel",className:"send-to-phone-input fullwidth",name:"send-to-phone",placeholder:"1-555-555-5555",required:"required",ref:function(t){return e._phoneInput=t},title:"Phone number in international format"}),S,(0,r["default"])("span",{className:"mobile-sms-left"},void 0,(0,r["default"])("strong",{className:"texts-left"},void 0,n.get("sms_left"))," left this month")))}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(926),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=function(e){return{platform:e.ui.get("platform")}},s=(0,i.connect)(a)(r["default"]);t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(927)),y=(0,r["default"])("section",{className:"editor-commands"},void 0,(0,r["default"])("h2",{},void 0,"Editor Commands"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"F"),"Find"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"G"),"Find Next"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e7G"),"Find Previous"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,(0,r["default"])("span",{className:"pc_only"},void 0,"Alt"),(0,r["default"])("span",{className:"mac_only"},void 0,"Opt"),"F"),"Find & Replace"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"["),"Indent Code Right"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"]"),"Indent Code Left"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"/"),"Line Comment"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,(0,r["default"])("span",{className:"pc_only"},void 0,"\u21e7"),(0,r["default"])("span",{className:"mac_only"},void 0,"Opt"),"/"),"Block Comment"),(0,r["default"])("h2",{},void 0,"File/Project Actions"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"S"),"Save Current File"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,(0,r["default"])("span",{className:"pc_only"},void 0,"\u21e7"),(0,r["default"])("span",{className:"mac_only"},void 0,"Opt"),"S"),"Save Project (and all files)"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"I"),"File Settings (if file is open)")),E=(0,r["default"])("section",{className:"editor-commands"},void 0,(0,r["default"])("h2",{},void 0,"HTML Specific"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e7A"),"Wrap With..."),(0,r["default"])("h2",{},void 0,"Misc"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e75"),"Re-run Preview"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e78"),"Clear All Analyze Errors"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e79"),"Open This Dialog"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"K"),"Cycle layout (editor/preview full height)"),(0,r["default"])("div",{className:"key-group"},void 0,(0,r["default"])("kbr",{className:"command"},void 0,"\u21e7K"),"Reverse Cycle layout (editor/preview full height)")),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.platform,t="shortcuts-dialog centered-modal dark "+(0,m.getPlatformName)(e);return(0,r["default"])("div",{id:"keycommands",className:t},void 0,y,E)}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformName=function(e){return/mac/i.test(e)?"mac":/freebsd|sunos/.test(e)?"linux":"windows"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(929),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=n(41),l=function(e){return{projectDeleteDialogInput:e.ui.get("projectDeleteDialogInput")}},u=function(e){return{onConfirmProjectDelete:function(){e((0,s.deleteProject)())},onDismiss:function(){e((0,a.setProjectDeleteDialogInput)("")),e((0,a.closeAllPopups)())},onProjectDeleteDialogInputChange:function(t){e((0,a.setProjectDeleteDialogInput)(t))}}},d=(0,i.connect)(l,u)(r["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(34)),I=i(S),b=(0,r["default"])("h2",{},void 0,"Are you sure you want to delete this Project?"),O=(0,r["default"])("p",{},void 0,"Deleting this Project will delete all the files within, the metadata (like hearts and views), and all trace of it on CodePen. It is irrevesible. If you're sure, type the word"," ",(0,r["default"])("strong",{},void 0,"delete")," ","to delete your project."),P=(0,r["default"])("br",{className:"mobile-break"}),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){_["default"].findDOMNode(this.refs.deleteInput).focus()}},{key:"onInputChange",value:function(e){this.props.onProjectDeleteDialogInputChange(e.target.value)}},{key:"clickHandler",value:function(e){e&&e.preventDefault(),this.props.onConfirmProjectDelete()}},{key:"isConfirmButtonDisabled",value:function(){return"delete"!==this.props.projectDeleteDialogInput.toLowerCase()}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"modal modal-warning"},void 0,b,O,(0,r["default"])("p",{},void 0,y["default"].createElement("input",{ref:"deleteInput",type:"text",className:"mousetrap",value:this.props.projectDeleteDialogInput,onChange:this.onInputChange.bind(this)})),(0,r["default"])("p",{className:"modal-buttons"},void 0,y["default"].createElement("button",{ref:function(t){e._delBtn=t},disabled:this.isConfirmButtonDisabled(),className:"button button-medium button-focus red",onClick:this.clickHandler.bind(this)},"I understand the consequences, delete this Project."),P,(0,r["default"])(I["default"],{classes:"button-medium button-focus",label:"Cancel",onClick:function(){e.props.onDismiss()}})))}}]),t}(m.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(931),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(41),s=function(e){return{"export":e.ui.get("export")}},l=function(e){return{prepareExportZip:function(){e((0,a.exportProjectToZip)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(13)),y=(i(m),n(16)),E=i(y),S=n(115),I=i(S),b=(0,r["default"])("span",{className:"zipping-wrap"},void 0,"Project .zip is ready to download"),O=(0,r["default"])("span",{className:"zipping-wrap"},void 0,(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(E["default"],{icon:"spinner"}))," Preparing Project .zip"),P=(0,r["default"])("span",{className:"zipping-wrap"},void 0,"Something went wrong while creating your Project .zip. Please try again. If the issue persists please contact support@codeepen.io"),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){this.props["export"].get("lastURL")||this.props.prepareExportZip()}},{key:"onNewZipClick",value:function(e){e.preventDefault(),this.props.prepareExportZip()}},{key:"renderMessage",value:function(e){return e["export"].get("zipped")?b:e["export"].get("zipping")?O:P}},{key:"render",value:function(){var e=this,t="download-link green",n=this.props["export"].get("lastURL")||"#";this.props["export"].get("zipped")||(t+=" disabled");var i=this.props["export"].get("zipped")?(0,r["default"])("a",{href:"#",onClick:function(t){return e.onNewZipClick(t)}},void 0,"Generate new .zip"):null;return(0,r["default"])("div",{className:"export-panel open"},void 0,this.renderMessage(this.props),(0,r["default"])(I["default"],{url:n,classes:t,label:"Download .zip"}),i)}}]),t}(h.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(48),a=i(r),s=n(933),l=i(s),u=n(945),d=n(14),c=n(950),f=n(33),p=function(e){return{assetsDialogOpen:a["default"].ASSETS_DIALOG===e.ui.getIn(["popups","dialog"]),assetList:(0,c.searchedAssets)(e),manuallyUploadedFiles:e.ui.get("manuallyUploadedFiles"),space:e.assets.space,loaded:e.assets.loaded,uploading:e.assets.uploadQueue,user:e.session.get("user"),sessionLimitations:e.session.get("limitations")}},v=function(e){return{loadGlobalAssets:function(){e((0,u.loadGlobalAssets)())},updateAssetSearch:function(t){e((0,u.updateAssetSearch)(t))},tooManyFiles:function(){e((0,d.openMessageModal)({style:"error",copy:f.modals.copy.TOO_MANY_GLOBAL_UPLOADS}))},uploadAccountAssets:function(t,n){e((0,u.uploadAccountAssets)(t,n))},filesTooLarge:function(){e((0,d.openMessageModal)({style:"error",copy:f.modals.copy.UPLOAD_TOO_LARGE}))},badFileExtension:function(){e((0,d.openMessageModal)({style:"error",copy:f.modals.copy.INVALID_UPLOAD_EXTENSION}))},noMediaUploadsForFreeUser:function(){e((0,d.openMessageModal)({style:"error",copy:f.modals.copy.UPGRADE_TO_USE_MEDIA}))},confirmOverwriteFiles:function(t){var n=t.duplicateNames,i=t.onConfirm,o=t.onAlternate;e((0,d.openConfirmModal)({style:"warning",copy:f.modals.copy.OVERWRITE_ASSETS(n),onConfirm:i,onAlternate:o}))},confirmAssetDelete:function(t,n){e((0,d.openConfirmModal)({style:"warning",copy:f.modals.copy.DELETE_ASSET(t.name),onConfirm:function(){e((0,u.deleteAsset)(t,n))}}))},updateAssetAfterSuccessfulUpload:function(t){e((0,u.updateAssetAfterSuccessfulUpload)(t))},onCloseBtnClick:function(){e((0,d.toggleDialog)())}}};t["default"]=(0,o.connect)(p,v)(l["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(1),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(25),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(m),E=n(0),S=i(E),I=n(4),b=(i(I),n(934)),O=i(b),P=n(937),C=i(P),M=n(938),F=i(M),T=n(939),A=i(T),k=n(940),N=n(942),j=i(N),D=n(943),L=i(D),w=n(944),R=i(w),U=(n(26),(0,s["default"])("strong",{},void 0,"Team\xa0")),x=(0,s["default"])("div",{className:"asset-upsell"},void 0,(0,s["default"])("div",{},void 0,(0,s["default"])("h2",{},void 0,"Asset uploading is a ",(0,s["default"])("span",{className:"badge badge-pro"},void 0,"PRO")," feature."),(0,s["default"])("p",{},void 0,"As a PRO member, you can drag-and-drop upload files here to use as resources. Images, Libraries, JSON data... anything you want. You can even edit them anytime, like any other code on CodePen."),(0,s["default"])("p",{},void 0,(0,s["default"])("a",{href:"/pro/",className:"button green",target:"_blank",rel:"noopener"},void 0,"Go PRO")))),G=(0,s["default"])("span",{},void 0,"click asset to get file path"),B=(0,s["default"])("div",{className:"assets-dialog"}),W=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){this.props.assetsDialogOpen&&!this.props.loaded&&this.props.loadGlobalAssets()}},{key:"componentWillReceiveProps",value:function(e){e.assetsDialogOpen&&!e.loaded&&this.props.loadGlobalAssets()}},{key:"renderTeamTitle",value:function(){return this.props.user.get("current_team_id")>0?U:""}},{key:"render",value:function(){return this.props.sessionLimitations.get("can_upload_assets")?this.props.loaded?(0,s["default"])("div",{className:"assets-dialog"},void 0,S["default"].createElement(j["default"],(0,r["default"])({},this.props,{assetHandler:k.AssetHandler}),(0,s["default"])(F["default"],{onCloseBtnClick:this.props.onCloseBtnClick}),(0,s["default"])("section",{className:"assets-area"},void 0,(0,s["default"])("header",{},void 0,(0,s["default"])("h1",{},void 0,this.renderTeamTitle(),"Assets\xa0",G),(0,s["default"])(C["default"],{updateAssetSearch:this.props.updateAssetSearch}),(0,s["default"])(A["default"],{space:this.props.space})),(0,s["default"])(O["default"],{assetList:this.props.assetList,confirmAssetDelete:this.props.confirmAssetDelete,updateAssetAfterSuccessfulUpload:this.props.updateAssetAfterSuccessfulUpload})),(0,s["default"])(L["default"],{uploading:this.props.uploading.length}),S["default"].createElement(R["default"],(0,r["default"])({},this.props,{fileInputHandler:k.AssetHandler,maxFiles:y.FILE_UPLOAD_MAX_FILES,maxFilesSize:y.FILE_UPLOAD_MAX_FILES_SIZE,maxFileSize:y.FILE_UPLOAD_MAX_FILE_SIZE})))):B:(0,s["default"])("div",{className:"assets-dialog"},void 0,(0,s["default"])(F["default"],{onCloseBtnClick:this.props.onCloseBtnClick}),x)}}]),t}(E.Component);t["default"]=W,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(935)),u=i(l),d=function(e){return(0,r["default"])("div",{className:"assets-all-files group"},void 0,(0,r["default"])(u["default"],{heading:"Images",list:e.assetList.image,listType:"image",confirmAssetDelete:e.confirmAssetDelete,updateAssetAfterSuccessfulUpload:e.updateAssetAfterSuccessfulUpload}),(0,r["default"])(u["default"],{heading:"CSS",list:e.assetList.css,confirmAssetDelete:e.confirmAssetDelete,updateAssetAfterSuccessfulUpload:e.updateAssetAfterSuccessfulUpload}),(0,r["default"])(u["default"],{heading:"Scripts",list:e.assetList.javascript,confirmAssetDelete:e.confirmAssetDelete,updateAssetAfterSuccessfulUpload:e.updateAssetAfterSuccessfulUpload}),(0,r["default"])(u["default"],{heading:"Other",list:e.assetList.other,confirmAssetDelete:e.confirmAssetDelete,updateAssetAfterSuccessfulUpload:e.updateAssetAfterSuccessfulUpload}))};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(936)),y=i(m),E=n(81),S=(0,r["default"])("ol",{},void 0,(0,r["default"])("li",{className:"no-files"},void 0,"There are no files of this type\xa0yet.")),I=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"getUniqueAssetKey",value:function(e){return e.id+"-"+e.updated_at_with_time}},{key:"renderAssetList",value:function(){var e=this,t=this.props.list;if(t&&t.length>0){var n="";return"image"===this.props.listType&&(n="file-list-image"),(0,r["default"])("ol",{id:n},void 0,(0,r["default"])(E.CSSTransitionGroup,{transitionName:"newly-added",transitionEnterTimeout:500,transitionLeaveTimeout:500},void 0,t.map(function(t,n){return(0,r["default"])(y["default"],{asset:t,confirmAssetDelete:e.props.confirmAssetDelete,updateAssetAfterSuccessfulUpload:e.props.updateAssetAfterSuccessfulUpload,index:n},e.getUniqueAssetKey(t))})))}return S}},{key:"render",value:function(){return(0,r["default"])("div",{},void 0,(0,r["default"])("h2",{},void 0,this.props.heading),this.renderAssetList())}}]),t}(h.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(16)),E=i(y),S=n(23),I=n(10),b=i(I),O=(0,r["default"])(E["default"],{icon:"x"}),P=(0,r["default"])(E["default"],{icon:"eye"}),C=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,S.bindToContext)(n,"onClick","onBlur","onDeleteClick","onPreviewMouseOver"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){this.updateAssetAfterSuccessfulUpload()}},{key:"shouldComponentUpdate",value:function(e){return!b["default"].fromJS(this.props.asset).equals(b["default"].fromJS(e.asset))}},{key:"componentDidUpdate",value:function(){this.updateAssetAfterSuccessfulUpload()}},{key:"updateAssetAfterSuccessfulUpload",value:function(){var e=this;this.props.asset.justUploaded&&(this.onClick(),setTimeout(function(){e.props.updateAssetAfterSuccessfulUpload(e.props.asset)},1500))}},{key:"onClick",value:function(e){e&&e.preventDefault(),this.input.style.display="block",this.input.select()}},{key:"onBlur",value:function(){"none"!==this.input.style.display&&(this.input.style.display="none")}},{key:"onDeleteClick",value:function(){this.props.confirmAssetDelete(this.props.asset,this.props.index)}},{key:"onPreviewMouseOver",value:function(){this.refs.preview.style.backgroundImage="url("+this.props.asset.url+")"}},{key:"render",value:function(){var e=this,t={pointerEvents:"none"};return(0,r["default"])("li",{className:"single-asset project-asset"},void 0,(0,r["default"])("a",{href:"#",onClick:this.onClick},void 0,(0,r["default"])("span",{className:"file-name"},void 0,this.props.asset.name),(0,r["default"])("span",{className:"file-size"},void 0,this.props.asset.size),_["default"].createElement("input",{className:"file-input mousetrap",ref:function(t){return e.input=t},type:"text",defaultValue:this.props.asset.url,onBlur:this.onBlur})),(0,r["default"])("span",{className:"file-delete icon",onClick:this.onDeleteClick},void 0,O),(0,r["default"])("span",{className:"file-preview icon",onMouseOver:this.onPreviewMouseOver},void 0,P,_["default"].createElement("span",{className:"the-image-preview",ref:"preview",style:t,onMouseOver:function(e){return e.preventDefault()}})))}}]),t}(h.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=i(o),a=n(2),s=i(a),l=n(3),u=i(l),d=n(6),c=i(d),f=n(7),p=i(f),v=n(0),g=i(v),h=n(4),_=(i(h),function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"onChange",value:function(){this.props.updateAssetSearch(this.refs.input.value)}},{key:"render",value:function(){var e=this;return g["default"].createElement("input",{ref:"input",type:"search",className:"assets-search",placeholder:"Search Assets",onChange:function(){return e.onChange()}})}}]),t}(v.Component));t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(16)),u=i(l),d=(0,r["default"])(u["default"],{icon:"x"}),c=(0,r["default"])("span",{className:"screen-reader-text"},void 0,"Close"),f=function(e){return(0,r["default"])("div",{role:"button",className:"assets-area-close-button",onClick:e.onCloseBtnClick},void 0,d,c)};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),function(e){var t=e.space,n={width:t.total_used/t.total_allowed*100+"%"},i=Math.round(t.total_used/10.25)/100,o=Math.round(t.total_allowed/1025/1025);return(0,r["default"])("div",{id:"progress",className:"progress",title:i+" MB used out of "+o+" GB"},void 0,(0,r["default"])("div",{className:"progress-width",style:n}))});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AssetHandler=void 0;var o=n(2),r=i(o),a=n(3),s=i(a),l=n(25),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(l),d=n(941),c=n(32);t.AssetHandler=function(){function e(){(0,r["default"])(this,e)}return(0,s["default"])(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.enteredElements=0,this.setState({isActive:!1}),this.handleAccountAssetUpload(e.dataTransfer.files)}},{key:"onInputChange",value:function(e){this.handleAccountAssetUpload(e.target.files),e.target.value=""}},{key:"handleAccountAssetUpload",value:function(e){var t=this,n=e;e=[];for(var i=0;i<n.length;i++)e.push(n[i]);if(0!==e.length)if(e.length>this.props.maxFiles)this.props.tooManyFiles();else if((0,c.filesTooBig)(e,this.props.maxFileSize))this.props.filesTooLarge();else if((0,c.fileTooBig)(e,this.props.maxFileSize))this.props.fileTooLarge();else if((0,c.filesHaveBadFileExtension)(e))this.props.badFileExtension();else{var o=(0,d.duplicateAssetNames)(e,this.props.assetList);0===o.length?this.props.uploadAccountAssets(e,"noduplicates"):this.props.confirmOverwriteFiles({duplicateNames:o,onConfirm:function(){t.props.uploadAccountAssets(e,u.ON_DUPLICATE_OVERWRITE)},onAlternate:function(){t.props.uploadAccountAssets(e,u.ON_DUPLICATE_MAKE_UNIQUE)}})}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateAssetNames=void 0;var i=n(32),o=(t.duplicateAssetNames=function(e,t){var n=[];for(var i in t)n=n.concat(t[i]);var r=o(n),a=o(e);return r.filter(function(e){return a.includes(e)})},function(e){return e.map(function(e){return(0,i.makeNameSafeToSave)(e.name)})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(25),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(349)),I=i(S),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return y["default"].createElement(I["default"],(0,
r["default"])({},this.props,{maxFiles:_.FILE_UPLOAD_MAX_FILES,maxFileSize:_.FILE_UPLOAD_MAX_FILE_SIZE,dropHandler:this.props.assetHandler}))}}]),t}(m.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(15)),u=i(l),d=(0,r["default"])("span",{className:"spinner"}),c=function(e){var t=e.uploading,n=(0,u["default"])({"uploading-message":!0,"expand-right":!0,"action-button":!0,"in-action":!0,active:t>0});return(0,r["default"])("div",{className:n},void 0,d,"Uploading")};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(350),s=i(a),l=n(5),u=i(l),d=n(2),c=i(d),f=n(3),p=i(f),v=n(6),g=i(v),h=n(7),_=i(h),m=n(0),y=(i(m),n(4)),E=(i(y),n(23)),S=(0,r["default"])("span",{className:"file-custom","data-text":"Choose File"}),I=function(e){function t(){return(0,c["default"])(this,t),(0,g["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,p["default"])(t,[{key:"componentWillMount",value:function(){var e=this;(0,s["default"])(this.props.fileInputHandler.prototype).forEach(function(t){e[t]||(e[t]=e.props.fileInputHandler.prototype[t]),(0,E.bindToContext)(e,t)})}},{key:"render",value:function(){return(0,r["default"])("footer",{className:"site-footer assets-footer"},void 0,"Drag and drop files anywhere in the area above or select a file:",(0,r["default"])("label",{className:"file-upload-input button"},void 0,(0,r["default"])("input",{type:"file",id:"manual-file-upload",onChange:this.onInputChange,multiple:!0}),S))}}]),t}(m.Component);t["default"]=I,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAccountAssets=t.updateAssetSearch=t.updateAssetAfterSuccessfulUpload=t.loadGlobalAssets=t.deleteAsset=void 0;var i=n(946),o=n(947),r=n(949);t.deleteAsset=r.deleteAsset,t.loadGlobalAssets=i.loadGlobalAssets,t.updateAssetAfterSuccessfulUpload=o.updateAssetAfterSuccessfulUpload,t.updateAssetSearch=i.updateAssetSearch,t.uploadAccountAssets=o.uploadAccountAssets},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAssetSearch=t.loadGlobalAssets=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21);t.loadGlobalAssets=function(){return function(e,t){if(!t().assets.loaded)return(0,r.get)({dispatch:e,getState:t,url:"/uploaded_assets/account_asset",params:{response_type:"index_projects"},onSuccess:function(t){e((0,a.payloadAction)(o["default"].RECEIVE_GLOBAL_ASSETS_SUCCESS,t))},onFail:function(t){e((0,a.errorAction)(o["default"].RECEIVE_GLOBAL_ASSETS_FAILURE,t))}})}},t.updateAssetSearch=function(e){return{type:o["default"].UPDATE_ASSET_SEARCH,payload:{term:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAssetAfterSuccessfulUpload=t.uploadAccountAssets=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(25),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(r),s=n(948),l=n(21),u=n(126),d=n(27),c=n(247),f=function(e,t){e((0,l.payloadAction)(o["default"].ADD_ASSET_TO_UPLOAD_QUEUE,{uploadId:t}))},p=function(e,t){e((0,l.payloadAction)(o["default"].REMOVE_ASSET_FROM_UPLOAD_QUEUE,{uploadId:t}))},v=function(e,t){return t===a.ON_DUPLICATE_OVERWRITE?e.id:0},g=function(e,t,n){return t===a.ON_DUPLICATE_MAKE_UNIQUE?(0,s.buildUniqueName)(n,e.name):e.name},h=function(e){e((0,l.errorAction)(o["default"].RECEIVE_GLOBAL_ASSET_UPLOAD_FAILURE,"Unable to upload Asset"))},_=function(e,t,n){return{id:n,name:t,content_type:e.type,size_in_bytes:e.size,response_type:"projects"}},m=function(e,t,n,i,r){return(0,d.save)({isPut:r,dispatch:e,getState:t,url:"/uploaded_assets/account_asset/"+r,params:_(n,i,r),onSuccess:function(t){e((0,l.payloadAction)(o["default"].RECEIVE_GLOBAL_ASSET_UPLOAD_SUCCESS,{asset:t.asset,size:n.size}))},onFail:function(){h(e)},onError:function(){h(e)}})};t.uploadAccountAssets=function(e,t){return function(n,i){e.forEach(function(e){var o=(0,u.guid)();f(n,o);var r=i(),a=r.assets.assetList,l=(0,s.findAssetByName)(a,e.name),d=0,_=e.name;l&&(d=v(l,t),_=g(e,t,a)),(0,c.uploadAccountAssetFileToS3)(e,_,function(t){p(n,o),t.success?m(n,i,e,_,d):h(n)})})}},t.updateAssetAfterSuccessfulUpload=function(e){return{type:o["default"].UPDATE_ASSET_AFTER_SUCCESSFUL_UPLOAD,payload:{asset:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUniqueName=t.findAssetByName=void 0;var i=n(32),o=t.findAssetByName=function(e,t){var n=[];for(var o in e)n=n.concat(e[o]);return n.find(function(e){return e.name===(0,i.makeNameSafeToSave)(t)})},r=function(e){var t=e.split("."),n=t.pop();return t.join(".")+"_copy."+n};t.buildUniqueName=function(e,t){for(var n=t,i=o(e,n);i;)n=r(n),i=o(e,n);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAsset=void 0;var i=n(12),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(27),a=n(21);t.deleteAsset=function(e,t){return function(n,i){return n((0,a.payloadAction)(o["default"].REMOVE_GLOBAL_ASSET_DATA_FROM_LIST,{asset:e})),(0,r.destroy)({dispatch:n,getState:i,url:"/uploaded_assets/account_asset/"+e.id,onSuccess:function(){},onFail:function(i){(0,a.errorAction)(o["default"].RECEIVE_GLOBAL_ASSET_DELETE_FAILURE,i),n((0,a.payloadAction)(o["default"].ADD_GLOBAL_ASSET_DATA_TO_LIST,{asset:e,index:t}))}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchedAssets=void 0;var i=n(39),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),r=n(30),a=function(e){return e.assets.assetList},s=function(e){return e.assets.searchTerm};t.searchedAssets=(0,r.createSelector)([a,s],function(e,t){if(!t||""===t)return e;var n={};return(0,o["default"])(e).map(function(i){n[i]=e[i].filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})}),n})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(952),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(){return{}},l=function(e){return{onDismissButtonClick:function(){e((0,a.closeAllPopups)())}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(31),_=i(h),m=n(0),y=i(m),E=n(4),S=(i(E),n(34)),I=i(S),b=(0,r["default"])("h2",{},void 0,"Coming soon!"),O=(0,r["default"])("p",{},void 0,"We're still working on this feature. It's going to work. We swear. Pinky promise."),P=(0,r["default"])("p",{},void 0,"If you have any questions about it, feel free to hit us up"," ",(0,r["default"])("a",{href:"/support/"},void 0,"in support"),"."),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){_["default"].findDOMNode(this.refs.okBtn).focus()}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"modal modal-warning"},void 0,b,O,P,(0,r["default"])("p",{className:"modal-buttons"},void 0,y["default"].createElement(I["default"],{ref:"okBtn",classes:"button-medium button-focus",label:"Got it!",onClick:function(){e.props.onDismissButtonClick()}})))}}]),t}(m.Component);t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(954),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(341),s=function(e){return{projectUrls:(0,a.projectUrls)(e)}},l=function(){return{}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),(0,r["default"])("h3",{},void 0,"Open this Project in:")),y=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.projectUrls,t=e.debugUrl?(0,r["default"])("a",{href:e.debugUrl,className:"view-switcher-row editor-link",target:"_blank",rel:"noopener"},void 0,"Debug View",(0,r["default"])("span",{className:"view-meta"},void 0,"/project/debug/")):null,n=e.liveUrl?(0,r["default"])("a",{href:e.liveUrl,className:"view-switcher-row editor-link",target:"_blank",rel:"noopener"},void 0,"Live View",(0,r["default"])("span",{className:"view-meta"},void 0,"/project/live/")):null;return(0,r["default"])("div",{className:"view-switcher open",role:"navigation"},void 0,m,(0,r["default"])("nav",{className:"link-list"},void 0,(0,r["default"])("a",{href:e.editorUrl,className:"view-switcher-row editor-link active"},void 0,"Editor View",(0,r["default"])("span",{className:"view-meta"},void 0,"/project/editor/")),(0,r["default"])("a",{href:e.detailsUrl,className:"view-switcher-row editor-link"},void 0,"Details View",(0,r["default"])("span",{className:"view-meta"},void 0,"/project/details/")),(0,r["default"])("a",{href:e.fullUrl,className:"view-switcher-row editor-link"},void 0,"Full Page View",(0,r["default"])("span",{className:"view-meta"},void 0,"/project/full/")),t,n))}}]),t}(h.Component);t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=n(956),a=i(r),s=n(14),l=n(35),u=n(48),d=i(u),c=n(116),f=n(25),p=function(e){return{uploads:e.project.get("uploads"),remainingFiles:(0,c.remainingFiles)(e)}},v=function(e){return{onCancelButtonClick:function(t){t!==f.PROGRESS.TOO_MANY_FILES&&t!==f.PROGRESS.OVERWRITES||e((0,s.closeThisDialog)(d["default"].PROJECT_FILE_UPLOADS_DIALOG)),e((0,l.cancelProjectUploads)())},onCloseButtonClick:function(){e((0,s.closeThisDialog)(d["default"].PROJECT_FILE_UPLOADS_DIALOG))},onOverwriteButtonClick:function(){e((0,l.overwriteFilesWithUploads)())}}},g=(0,o.connect)(p,v)(a["default"]);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(34)),y=i(m),E=n(957),S=i(E),I=n(958),b=i(I),O=n(959),P=i(O),C=n(962),M=i(C),F=n(25),T=(0,r["default"])("p",{}),A=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.uploads,t=void 0,n=void 0;return e.get("progress")===F.PROGRESS.COMPLETE?(t="Close",n=this.props.onCloseButtonClick):(t="Cancel",n=this.props.onCancelButtonClick),(0,r["default"])("div",{className:"project-file-uploads-modal centered-modal dialog"},void 0,(0,r["default"])("div",{className:"modal-wrap"},void 0,(0,r["default"])(P["default"],{progress:e.get("progress"),fileCount:e.get("fileCount"),uploadedCount:e.get("uploadedCount")}),(0,r["default"])(S["default"],{warnings:e.get("warnings"),progress:e.get("progress")}),(0,r["default"])(b["default"],{overwrites:e.get("overwrites"),progress:e.get("progress"),onOverwriteButtonClick:this.props.onOverwriteButtonClick}),(0,r["default"])(M["default"],{progress:e.get("progress"),uploadAttemptCount:e.get("uploadAttemptCount"),remainingFiles:this.props.remainingFiles})),(0,r["default"])("div",{className:"save-and-close-wrap"},void 0,(0,r["default"])(y["default"],{classes:"button big button-no-right-margin red",label:t,onClick:function(){return n(e.get("progress"))}}),T))}}]),t}(h.Component);t["default"]=A,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(25)),u=(0,r["default"])("h4",{},void 0,"Warning: Some files were not uploaded"),d=function(e){return e.progress!==l.PROGRESS.TOO_MANY_FILES&&(0===e.warnings.count()?null:(0,r["default"])("div",{className:"warnings"},void 0,u,(0,r["default"])("ul",{},void 0,e.warnings.map(function(e,t){return(0,r["default"])("li",{},t,(0,r["default"])("span",{},void 0,e.get("path")),":"," ",l.ERROR_MESSAGES[e.get("warning")])}))))};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(34)),u=i(l),d=n(25),c=(0,r["default"])("h4",{},void 0,"Warning: Files will be overwritten"),f=(0,r["default"])("p",{},void 0,"The following Files will be deleted before uploading your new ones.",(0,r["default"])("br",{}),"Overwriting Folders will also delete all the Files currently in the Folder.",(0,r["default"])("br",{}),"You can not undo this action once you continue past this point, even if you cancel the upload process."),p=function(e){return e.progress!==d.PROGRESS.TOO_MANY_FILES&&(e.progress!==d.PROGRESS.OVERWRITES?null:(0,r["default"])("div",{className:"warnings"},void 0,c,f,(0,r["default"])("ul",{},void 0,e.overwrites.map(function(e,t){return(0,r["default"])("li",{},t,(0,r["default"])("span",{},void 0,e.get("isFolder")?"Folder: ":"File: "),e.get("name"))})),(0,r["default"])(u["default"],{classes:"button yellow",label:"I understand, continue the Upload",onClick:e.onOverwriteButtonClick})))};t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=i(a),l=n(4),u=(i(l),n(16)),d=i(u),c=n(960),f=i(c),p=n(961),v=i(p),g=n(25),h=(0,r["default"])(d["default"],{icon:"check"}),_=(0,r["default"])("span",{className:"spin-wrap"},void 0,(0,r["default"])(d["default"],{icon:"spinner"})),m=function(e){var t=e.fileCount||100,n=e.uploadedCount||0,i=e.progress;if(i===g.PROGRESS.TOO_MANY_FILES)return!1;var o=i===g.PROGRESS.COMPLETE?h:_,a=i===g.PROGRESS.OVERWRITES?null:(0,r["default"])("div",{},void 0,s["default"].createElement(v["default"],e),(0,r["default"])("progress",{className:"upload-progress",max:t,value:n}));return(0,r["default"])("div",{},void 0,(0,r["default"])("div",{},void 0,o,s["default"].createElement(f["default"],e)),a)};t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(25)),u=(0,r["default"])("h3",{},void 0,"Preparing Uploads"),d=(0,r["default"])("h3",{},void 0,"Please Confirm Overwrites"),c=(0,r["default"])("h3",{},void 0,"Uploading Files"),f=(0,r["default"])("h3",{},void 0,"Finishing..."),p=(0,r["default"])("h3",{className:"complete"},void 0,"Cancelling"),v=(0,r["default"])("h3",{className:"complete"},void 0,"Upload Complete"),g=(0,r["default"])("h3",{},void 0,"Preparing Uploads"),h=function(e){switch(e.progress){case l.PROGRESS.PROCESSING:return u;case l.PROGRESS.OVERWRITES:return d;case l.PROGRESS.NEW_PROJECT:case l.PROGRESS.WAITING_FOR_CONTAINER:case l.PROGRESS.UPLOADING:return c;case l.PROGRESS.FINISHING:return f;case l.PROGRESS.CANCELLED:return p;case l.PROGRESS.COMPLETE:return v;default:return g}};t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(25)),u=(0,r["default"])("p",{},void 0,"Processing files..."),d=(0,r["default"])("p",{},void 0,"Saving new Project before uploading files..."),c=(0,r["default"])("p",{},void 0,"Waiting for filesystem..."),f=(0,r["default"])("p",{},void 0,"Cancelling upload. Please wait..."),p=(0,r["default"])("p",{},void 0,"Processing files..."),v=function(e){switch(e.progress){case l.PROGRESS.PROCESSING:case l.PROGRESS.OVERWRITES:return u;case l.PROGRESS.NEW_PROJECT:return d;case l.PROGRESS.WAITING_FOR_CONTAINER:return c;case l.PROGRESS.UPLOADING:case l.PROGRESS.FINISHING:return(0,r["default"])("p",{},void 0,"Uploading ",e.fileCount," files...");case l.PROGRESS.CANCELLED:return f;case l.PROGRESS.COMPLETE:return(0,r["default"])("p",{},void 0,"Uploaded ",e.fileCount," files.");default:return p}};t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(0),s=(i(a),n(4)),l=(i(s),n(115)),u=i(l),d=n(16),c=i(d),f=n(25),p=(0,r["default"])("div",{},void 0,(0,r["default"])(c["default"],{icon:"x"}),(0,r["default"])("h3",{className:"complete"},void 0,"Upload Cancelled")),v=(0,r["default"])("p",{},void 0,(0,r["default"])("a",{href:"/signup/change/pro"},void 0,"Upgrade")," ","to get more files in your Project, or try again with a smaller upload."),g=function(e){return e.progress===f.PROGRESS.TOO_MANY_FILES&&(0,r["default"])("div",{},void 0,p,(0,r["default"])("p",{},void 0,"The upload has been cancelled because there are"," ",e.uploadAttemptCount," ","files in the upload and your Project is allowed"," ",e.remainingFiles.get("remaining")," ","more files."),v,(0,r["default"])("p",{},void 0,(0,r["default"])(u["default"],{url:"/signup/change/pro",classes:"black roll-yellow bold",label:"Upgrade Plan Now"})))};t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(964),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=function(e){return{showProcessingMessage:e.ui.getIn(["processing","saveRequested"]),showSetUpMessage:e.ui.getIn(["processing","setup"]),timeoutMessage:e.ui.getIn(["processing","timeoutMessage"])}},s=(0,i.connect)(a)(r["default"]);t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(81)),y=n(263),E=i(y),S=(0,r["default"])(E["default"],{message:"Preparing File System..."}),I=(0,r["default"])(E["default"],{message:"Processing Project..."}),b=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return n.state={timeoutDismissed:!1},n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.timeoutMessage&&e.timeoutMessage&&this.setState({timeoutDismissed:!1})}},{key:"render",value:function(){var e=this,t=this.props.timeoutMessage&&!this.state.timeoutDismissed?(0,r["default"])(E["default"],{message:"The Project Editor is having some trouble connecting to your Project. Try refreshing the page?",onDismiss:function(){return e.setState({timeoutDismissed:!0})}}):null,n=this.props.showSetUpMessage?S:null,i=!this.props.showSetUpMessage&&this.props.showProcessingMessage?I:null;return(0,r["default"])("div",{className:"alert-container"},void 0,(0,r["default"])(m.CSSTransitionGroup,{transitionName:"drop-in",transitionEnterTimeout:150,transitionLeaveTimeout:150},void 0,n,i,t))}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(81)),m=n(263),y=i(m),E=(0,r["default"])("div",{className:"alert-container"},void 0,(0,r["default"])(_.CSSTransitionGroup,{transitionName:"drop-in",transitionEnterTimeout:150,transitionLeaveTimeout:150},void 0,(0,r["default"])(y["default"],{message:"Read Only"}))),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return E}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(967),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(161),s=function(e){return{otherEditorsOpen:e.project.get("otherEditorsOpen")}},l=function(e){return{setOtherEditorsOpen:function(t){e((0,a.updateOtherEditorsOpen)(t))}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(81)),y=n(114),E=n(23),S=n(263),I=i(S),b=n(34),O=i(b),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){(0,E.bindToContext)(this,"onAnotherEditorArrivedMessage","onAnotherEditorExistsMessage"),this.state={messageDismissed:!1},this.bindPubNubMessages(),this.broadCastConnection()}},{key:"componentWillReceiveProps",value:function(e){!this.props.otherEditorsOpen&&e.otherEditorsOpen&&this.setState({messageDismissed:!1})}},{key:"bindPubNubMessages",value:function(){(0,y.addPubNubListener)("EditorArrived",this.onAnotherEditorArrivedMessage),(0,y.addPubNubListener)("EditorExists",this.onAnotherEditorExistsMessage)}},{key:"broadCastConnection",value:function(){(0,y.publishPubNubMessage)("EditorArrived","")}},{key:"onAnotherEditorArrivedMessage",value:function(){(0,y.publishPubNubMessage)("EditorExists",""),this.props.setOtherEditorsOpen(!0)}},{key:"onAnotherEditorExistsMessage",value:function(){this.props.setOtherEditorsOpen(!0)}},{key:"onRecheckOtherEditorsClick",value:function(){this.props.setOtherEditorsOpen(!1),(0,y.publishPubNubMessage)("EditorArrived","")}},{key:"render",value:function(){var e=this;if(this.props.otherEditorsOpen&&!this.state.messageDismissed){var t=(0,r["default"])(O["default"],{classes:"button button-dark mini-button recheck-button",label:"Check Again",onClick:function(){return e.onRecheckOtherEditorsClick()}});return(0,r["default"])("div",{className:"alert-container"},void 0,(0,r["default"])(m.CSSTransitionGroup,{transitionName:"drop-in",transitionEnterTimeout:150,transitionLeaveTimeout:150},void 0,(0,r["default"])(I["default"],{message:"Looks like someone else is editing this Project, be careful not to override each other.",actionButton:t,onDismiss:function(){return e.setState({messageDismissed:!0})}})))}return null}}]),t}(h.Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){this.emitter=new u.EventEmitter;for(var e=(0,a["default"])(d.KeyMap),t=0;t<e.length;t++)for(var n=d.KeyMap[e[t]],i=(0,a["default"])(n),o=0;o<i.length;o++)c(n[i[o]],i[o],e[t],this.emitter)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),a=i(r);t["default"]=o;var s=n(969),l=i(s),u=n(302),d=n(970);l["default"].prototype.stopCallback=function(e,t,n){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&-1===d.EditorSafeCommands.indexOf(n)&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable)};var c=function(e,t,n,i){l["default"].bind(e,function(){return f(t,n,i),!1},"keydown")},f=function(e,t,n){n.emit(t,{functionName:e})};e.exports=t["default"]},function(e,t,n){var i;!function(o,r){function a(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return E[e.which]?E[e.which]:S[e.which]?S[e.which]:String.fromCharCode(e.which).toLowerCase()}function l(e,t){return e.sort().join(",")===t.sort().join(",")}function u(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function c(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){if(!y){y={};for(var e in E)e>95&&e<112||E.hasOwnProperty(e)&&(y[E[e]]=e)}return y}function v(e,t,n){return n||(n=p()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function h(e,t){var n,i,o,r=[];for(n=g(e),o=0;o<n.length;++o)i=n[o],b[i]&&(i=b[i]),t&&"keypress"!=t&&I[i]&&(i=I[i],r.push("shift")),f(i)&&r.push(i);return t=v(i,r,t),{key:i,modifiers:r,action:t}}function _(e,t){return null!==e&&e!==r&&(e===t||_(e.parentNode,t))}function m(e){function t(e){e=e||{};var t,n=!1;for(t in E)e[t]?n=!0:E[t]=0;n||(b=!1)}function n(e,t,n,i,o,r){var a,s,u=[],d=n.type;if(!_._callbacks[e])return[];for("keyup"==d&&f(e)&&(t=[e]),a=0;a<_._callbacks[e].length;++a)if(s=_._callbacks[e][a],(i||!s.seq||E[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!n.metaKey&&!n.ctrlKey||l(t,s.modifiers))){var c=!i&&s.combo==o,p=i&&s.seq==i&&s.level==r;(c||p)&&_._callbacks[e].splice(a,1),u.push(s)}return u}function i(e,t,n,i){_.stopCallback(t,t.target||t.srcElement,n,i)||!1===e(t,n)&&(d(t),c(t))}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&S===t?void(S=!1):void _.handleKey(t,u(e),e)}function p(){clearTimeout(y),y=setTimeout(t,1e3)}function v(e,n,o,r){function a(n){i(o,n,e),"keyup"!==r&&(S=s(n)),setTimeout(t,10)}E[e]=0;for(var l=0;l<n.length;++l){var u=l+1===n.length,d=u?a:function(t){return function(){b=t,++E[e],p()}}(r||h(n[l+1]).action);g(n[l],d,r,e,l)}}function g(e,t,i,o,r){_._directMap[e+":"+i]=t,e=e.replace(/\s+/g," ");var a,s=e.split(" ");return s.length>1?void v(e,s,t,i):(a=h(e,i),_._callbacks[a.key]=_._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},o,e,r),_._callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:r,combo:e}),void 0)}var _=this;if(e=e||r,!(_ instanceof m))return new m(e);_.target=e,_._callbacks={},_._directMap={};var y,E={},S=!1,I=!1,b=!1;_._handleKey=function(e,o,r){var a,s=n(e,o,r),l={},u=0,d=!1;for(a=0;a<s.length;++a)s[a].seq&&(u=Math.max(u,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=u)continue;d=!0,l[s[a].seq]=1,i(s[a].callback,r,s[a].combo,s[a].seq)}else d||i(s[a].callback,r,s[a].combo);var c="keypress"==r.type&&I;r.type!=b||f(e)||c||t(l),I=d&&"keydown"==r.type},_._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)g(e[i],t,n)},a(e,"keypress",o),a(e,"keydown",o),a(e,"keyup",o)}if(o){for(var y,E={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},I={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},O=1;O<20;++O)E[111+O]="f"+O;for(O=0;O<=9;++O)E[O+96]=O.toString();m.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},m.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},m.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&!_(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(E[t]=e[t]);y=null},m.init=function(){var e=m(r);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),o.Mousetrap=m,void 0!==e&&e.exports&&(e.exports=m),void 0!==(i=function(){return m}.call(t,n,t,e))&&(e.exports=i)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyMap={FooterLeft:{SHOW_KEYCOMMANDS:"mod+shift+9"},EditorPane:{SHOW_FILE_SETTINGS:"mod+shift+i",SAVE_FILE:"mod+s",SAVE_ALL_FILES:"mod+option+s",CLEAR_ERRORS:"mod+shift+8"},ProjectRenderer:{REFRESH_PREVIEW:"mod+shift+5"},FileSearch:{SET_FILE_SEARCH:"mod+p"},"Modal, Popup":{CLOSE:"esc"},Resizer:{CYCLE_WINDOW_SIZES:"mod+k",REVERSE_CYCLE_WINDOW_SIZES:"mod+shift+k"}},t.EditorSafeCommands=["mod+s","mod+option+s","mod+shift+5","mod+shift+8","mod+shift+9","mod+shift+i","mod+p"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(256),r=n(972),a=function(e){return e&&e.__esModule?e:{"default":e}}(r),s=function(e){return{fileToShow:(0,o.fileToShow)(e),render:e.ui.get("render")}},l=function(){return{}},u=(0,i.connect)(s,l)(a["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(13)),E=(i(y),n(340)),S=n(27),I=n(339),b=i(I),O=n(114),P=n(23),C=(0,r["default"])(b["default"],{}),M=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,P.bindToContext)(n,"onPubNubMessage"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){(0,O.addPubNubListener)("ReRender",this.onPubNubMessage)}},{key:"onPubNubMessage",value:function(e){var t=this;(0,S.getFile)(e,function(){t._iframe&&(t._iframe.src=e,t._iframe.style.display="block")},function(){t._iframe&&(t._iframe.style.display="none")})}},{key:"renderIFrame",value:function(e){var t=this;return(0,r["default"])("div",{className:"iframe-wrap"},void 0,_["default"].createElement("iframe",{ref:function(e){return t._iframe=e},allowFullScreen:"true",allowTransparency:"true",className:"result-iframe",name:"CodePen",scrolling:"yes",sandbox:"allow-scripts allow-pointer-lock allow-same-origin allow-popups allow-modals allow-forms",src:(0,E.getURLToShow)(e)}))}},{key:"render",value:function(){var e=this.props.fileToShow,t=C;return e&&(t=this.renderIFrame(e)),(0,r["default"])("div",{className:"live-root"},void 0,t)}}]),t}(h.Component);t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(974),r=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=n(14),s=function(e){return{contextMenu:e.ui.get("contextMenu")}},l=function(e){return{closeMenu:function(t){e((0,a.closeContextMenu)(t))}}},u=(0,i.connect)(s,l)(r["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(13)),E=(i(y),n(975)),S=i(E),I=n(158),b=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidUpdate",value:function(){var e=this;this.props.contextMenu.get("open")&&window.addEventListener("click",function(){return e.closeMenu()})}},{key:"closeMenu",value:function(){var e=this;this.props.closeMenu(),window.removeEventListener("click",function(){return e.closeMenu()})}},{key:"render",
value:function(){var e=this.props.contextMenu,t={display:e.get("open")?"block":"none",left:e.get("left"),top:e.get("top")},n=void 0;switch(e.get("menuType")){case I.menuTypes.FILE_MENU:n=_["default"].createElement(S["default"],e.get("menuProps"))}return(0,r["default"])("div",{style:t,className:"contextmenu-wrap"},void 0,n)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),n(976)),y=i(m),E=n(977),S=i(E),I=(n(26),n(23)),b=function(e){function t(e){(0,u["default"])(this,t);var n=(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e));return(0,I.bindToContext)(n,"initMenuConfig","createMenuItems"),n}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"initMenuConfig",value:function(e,t){return this.menuItems={newFileMenuItem:!0,newFolderMenuItem:!0,renameMenuItem:!0,duplicateFileMenuItem:!0,copyRelativeUrlMenuItem:!0,copyMinifiedRelativeUrlMenuItem:!0,deleteMenuItem:!0},e.get("client_file_path")||delete this.menuItems.copyRelativeUrlMenuItem,this.props.remainingFiles&&0===this.props.remainingFiles.get("remaining")&&(delete this.menuItems.duplicateFileMenuItem,delete this.menuItems.newFileMenuItem,delete this.menuItems.newFolderMenuItem),"folder"===e.getIn(["settings","type"])?(t="Folder",delete this.menuItems.copyRelativeUrlMenuItem,delete this.menuItems.duplicateFileMenuItem):e.get("originalFileId")?(delete this.menuItems.newFileMenuItem,delete this.menuItems.newFolderMenuItem,delete this.menuItems.renameMenuItem,delete this.menuItems.duplicateFileMenuItem,delete this.menuItems.deleteMenuItem):(t="File",delete this.menuItems.newFileMenuItem,delete this.menuItems.newFolderMenuItem),t}},{key:"createMenuItems",value:function(e,t,n){if(this.menuItems.newFileMenuItem&&(this.menuItems.newFileMenuItem=(0,r["default"])(S["default"],{onClick:function(){return n.onNewFileClick(e.get("clientId"),e.get("level")+1,e.get("clientId"))}},void 0,"New File")),this.menuItems.newFolderMenuItem&&(this.menuItems.newFolderMenuItem=(0,r["default"])(S["default"],{onClick:function(){return n.onNewFolderClick(e.get("clientId"),e.get("level")+1,e.get("clientId"))}},void 0,"New Folder")),this.menuItems.renameMenuItem&&(this.menuItems.renameMenuItem=(0,r["default"])(S["default"],{onClick:function(){return n.onRenameSelect(e.get("clientId"),e.get("level"),e.get("parent"))}},void 0,"Rename ",t)),this.menuItems.duplicateFileMenuItem&&(this.menuItems.duplicateFileMenuItem=(0,r["default"])(S["default"],{onClick:function(){return n.onDuplicateFile(e.get("clientId"))}},void 0,"Duplicate File")),this.menuItems.copyRelativeUrlMenuItem){var i=e?e.get("client_file_path"):"";this.menuItems.copyRelativeUrlMenuItem=(0,r["default"])(S["default"],{onClick:function(){}},void 0,(0,r["default"])(y["default"],{label:"Copy Relative Path",copyText:i,successMessage:"Relative Path Copied to clipboard!",interactionHandlers:n}))}if(this.menuItems.copyMinifiedRelativeUrlMenuItem){var o=e?e.get("client_file_path"):"";this.menuItems.copyMinifiedRelativeUrlMenuItem=null;var a=e.get("associated_files");if(a){a=a.toJS();var s=a.filter(function(e){return"minified"===e.type})[0];if(s){var l=o.replace(e.getIn(["settings","fileName"]),s.name),u=(0,r["default"])(S["default"],{onClick:function(){}},void 0,(0,r["default"])(y["default"],{label:"Copy Relative Minified Path",copyText:l,successMessage:"Relative Minified Path Copied to clipboard!",interactionHandlers:n}));this.menuItems.copyMinifiedRelativeUrlMenuItem=u}}}this.menuItems.deleteMenuItem&&(this.menuItems.deleteMenuItem=(0,r["default"])(S["default"],{onClick:function(){return n.onDelete(e.get("clientId"),e.getIn(["settings","fileName"]),"folder"===e.getIn(["settings","type"]))}},void 0,"Delete ",t))}},{key:"render",value:function(){var e=this.props,t=e.interactionHandlers,n=e.file,i=void 0;return n?(i=this.initMenuConfig(n,i),this.createMenuItems(n,i,t)):this.menuItems={},(0,r["default"])("div",{className:"contextmenu"},void 0,this.menuItems.newFileMenuItem,this.menuItems.newFolderMenuItem,this.menuItems.renameMenuItem,this.menuItems.duplicateFileMenuItem,this.menuItems.copyRelativeUrlMenuItem,this.menuItems.copyMinifiedRelativeUrlMenuItem,this.menuItems.deleteMenuItem)}}]),t}(h.Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=i(h),m=n(4),y=(i(m),n(26),n(196)),E=i(y),S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.clipboard=new E["default"](this._copyTrigger,{target:function(){return e._copyText}}),this.clipboard.on("success",function(e){t.interactionHandlers.onSuccessfulTextCopy(t.successMessage),e.clearSelection()}),this.clipboard.on("error",function(){t.interactionHandlers.onTextCopyFail(t.copyText)})}},{key:"componentWillUnMount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this;return(0,r["default"])("div",{className:"copy-link-wrap"},void 0,_["default"].createElement("span",{ref:function(t){return e._copyTrigger=t}},this.props.label),_["default"].createElement("span",{ref:function(t){return e._copyText=t},className:"copy-preview"},this.props.copyText))}}]),t}(h.Component);t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=n(5),s=i(a),l=n(2),u=i(l),d=n(3),c=i(d),f=n(6),p=i(f),v=n(7),g=i(v),h=n(0),_=(i(h),n(4)),m=(i(_),function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,s["default"])(t)).apply(this,arguments))}return(0,g["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){return(0,r["default"])("div",{className:"contextmenu-item",onClick:this.props.onClick},void 0,(0,r["default"])("a",{href:"#",className:"contextmenu-link"},void 0,this.props.children))}}]),t}(h.Component));t["default"]=m,e.exports=t["default"]}],[594]);